/*! )Â°(, equolo - https://github.com/equolo/equolo.org */
/*@cc_on
(function(f){
window.setTimeout=f(window.setTimeout);
window.setInterval=f(window.setInterval);
})(function(f){return function(c,t,a){a=[].slice.call(arguments,2);return f(function(){c.apply(this,a)},t)}});
@*/
var
IEMobile=/*@cc_on/\bIEMobile\b/.test(navigator.userAgent)||@*/false,
IE9Mobile=/*@cc_on(IEMobile&&@_jscript_version<10)||@*/false,
IE10Mobile=/*@cc_on(IEMobile&&@_jscript_version/10>=1)||@*/false
;
IE9Mobile&&document.write('<link rel="stylesheet" href="css/IE9Mobile.css"/><script src="js/IE9Mobile.js"></script>');(function(i){
/*! display v0.1.8 - MIT license */
;var q=function(I){var x=I.Math,B=x.abs,K=x.max,H=x.min,Q=I.Infinity,u=I.screen||Q,t=I.matchMedia,C="addEventListener",D=I.document,P=D.documentElement,y=/\bMobile\b/.test(navigator.userAgent),v=P.requestFullscreen||P.mozRequestFullScreen||P.webkitRequestFullScreen,N=D.exitFullscreen||D.cancelFullscreen||D.mozCancelFullScreen||D.webkitExitFullscreen,E={change:[]},J={width:0,height:0,ratio:0,full:v&&N?function(R){var S=D.fullscreenElement||D.mozFullScreenElement||D.webkitFullscreenElement;if(R||R==null){J.fullScreen=true;if(!S){v.call(P)}}else{if(S){J.fullScreen=false;N.call(D)}}}:Object,on:function(R,S){E[R].push(S)}},M=E.change.forEach||function(T,R){for(var S=0;S<this.length;S++){T.call(R,this[S],S,this)}},z;function A(R){R.call(J,J.width,J.height)}function G(R){if(z){clearTimeout(z);z=0}return(!F()&&innerHeight<300)||(z=setTimeout(w,300,R))}function F(){return"orientation" in I?B(I.orientation||0)===90:!!t&&t("(orientation:landscape)").matches}function w(W){z=0;var S=I.devicePixelRatio||1,X=F(),T=u.width,V=u.height,U=H(I.innerWidth||P.clientWidth,S<1?Q:((y&&X?K(T,V):T)||Q)),R=H(I.innerHeight||P.clientHeight,S<1?Q:((y&&X?H(T,V):V)||Q));if(U!==J.width||R!==J.height){J.width=U;J.height=R;M.call(E.change,A)}}if(C in I){I[C]("orientationchange",G,true);I[C]("resize",G,true);try{u[C]("orientationchange",G,true)}catch(O){}}else{I.attachEvent("onresize",w)}w.call(I);J.ratio=I.devicePixelRatio||u.width/J.width||(u.deviceXDPI||1)/(u.logicalXDPI||1);return J}(i);function h(C,z){
/*! (C) Andrea Giammarchi - Mit Style License */
;if(!z){z=document}z.getElementsByTagName("head")[0].appendChild(z.createElement("style")).appendChild(z.createTextNode(""));var B=z.styleSheets,y=B[B.length-1],D=y.addRule||function(E,G,F){this.insertRule(E+"{"+G+"}",F)},u=0,t,w,A,x,v;for(t in C){if(C.hasOwnProperty(t)){v=[];w=C[t];for(A in w){if(w.hasOwnProperty(A)){x=w[A];v.push("-webkit-"+A+":"+x,"-khtml-"+A+":"+x,"-blink-"+A+":"+x,"-moz-"+A+":"+x,"-ms-"+A+":"+x,"-o-"+A+":"+x,A+":"+x)}}D.call(y,t,v.join(";")+";",u++)}}}(function(v,t,u){"bind" in t||(t.bind=function(z){var y=this,x=v.slice,w=x.call(arguments,1);return function(){return y.apply(z,w.concat(x.call(arguments)))}});"trim" in u||(u.trim=function(){return this.replace(/^[^\S]+|[^\S]+$/g,"")})}(Array.prototype,Function.prototype,String.prototype));var p,d=p=function(C,v){function K(T){for(var O=T.length,U=A(O?T[0]:{}),P=U.length,V=C(O*P),S=0,R=0,Q,N;S<O;++S){for(N=T[S],Q=0;Q<P;V[R++]=N[U[Q++]]){}}return x.call([P],U,V)}function I(R){for(var S=R.length,O=R[0],N=C(((S-O-1)/O)||0),Q=1+O,P=0,U,T;Q<S;){for(N[P++]=(T={}),U=0;U<O;T[R[++U]]=R[Q++]){}}return N}function w(O){return function N(U){for(var W=this,V=U,S=0,T=W.length,Q,P,R;S<T;++S){if(z(R=V[P=W[S]])){Q=S+1;V[P]=Q<T?M.call(R,O,W.slice(Q)):O(R)}V=V[P]}return U}}function y(O){return function N(V,T){for(var Q=z(V),P=x.call(u,V),U=x.call(u,T),R=0,S=U.length;R<S;++R){P=M.call(P,O,U[R].split("."))}return Q?P:P[0]}}function G(O,N){return N?B(O,N):K(O)}function t(N,O){return O?F(N,O):I(N)}function E(Q,N,P,O){return J(G(Q,O),N,P)}function D(O,N,P){return t(H(O,N),P)}var u=[],x=u.concat,A=Object.keys||function(P){var O=[],N;for(N in P){P.hasOwnProperty(N)&&O.push(N)}return O},z=C.isArray||(function(O,P){P=O.call(u);return function N(Q){return O.call(Q)==P}}({}.toString)),M=u.map||function(R,Q){for(var O=this,P=O.length,N=C(P);P--;N[P]=R.call(Q,O[P],P,O)){}return N},B=y(w(K)),F=y(w(I)),J=v.stringify,H=v.parse;return{pack:G,parse:D,stringify:E,unpack:t}}(Array,JSON);
/*! (C) WebReflection Mit Style License */
(function(E){function K(u){return typeof u=="string"?E.document.createTextNode(u):u}function z(N){if(N.length===1){return K(N[0])}for(var v=E.document.createDocumentFragment(),t=C.call(N),u=0;u<N.length;u++){v.appendChild(K(t[u]))}return v}for(var w,B,M,y=/^\s+|\s+$/g,J=/\s+/,H=" ",D=function(u,v){return this.contains(u)?v||this.remove(u):v&&this.add(u),!!v},A=(E.Element||E.Node||E.HTMLElement).prototype,G=["prepend",function(){var u=this.firstChild,v=z(arguments);u?this.insertBefore(v,u):this.appendChild(v)},"append",function(){this.appendChild(z(arguments))},"before",function(){var u=this.parentNode;u&&u.insertBefore(z(arguments),this)},"after",function(){var v=this.parentNode,N=this.nextSibling,u=z(arguments);v&&(N?v.insertBefore(u,N):v.appendChild(u))},"replace",function(){var u=this.parentNode;u&&u.replaceChild(z(arguments),this)},"remove",function(){var u=this.parentNode;u&&u.removeChild(this)}],C=G.slice,x=G.length;x;x-=2){w=G[x-2],w in A||(A[w]=G[x-1])}"classList" in document.documentElement?(M=document.createElement("div").classList,M.add("a","b"),"a b"!=M&&(A=M.constructor.prototype,"add" in A||(A=E.DOMTokenList.prototype),B=function(t){return function(){var u=0;while(u<arguments.length){t.call(this,arguments[u++])}}},A.add=B(A.add),A.remove=B(A.remove),A.toggle=D)):(B=function(t){if(!t){throw"SyntaxError"}if(J.test(t)){throw"InvalidCharacterError"}return t},M=function(v){var u=v.className.replace(y,"");u.length&&G.push.apply(this,u.split(J)),this._=v},M.prototype={length:0,add:function(){for(var u=0,v;u<arguments.length;u++){v=arguments[u],this.contains(v)||G.push.call(this,w)}this._.className=""+this},contains:function(t){return function(u){return x=t.call(this,w=B(u)),-1<x}}([].indexOf||function(t){x=this.length;while(x--&&this[x]!==t){}return x}),item:function(u){return this[u]||null},remove:function(){for(var u=0,v;u<arguments.length;u++){v=arguments[u],this.contains(v)&&G.splice.call(this,x,1)}this._.className=""+this},toggle:D,toString:function I(){return G.join.call(this,H)}},(Object.defineProperty||function(v,u,N){v.__defineGetter__(u,N.get)})(A,"classList",{get:function(){return new M(this)},set:function(){}}));try{new E.CustomEvent("?")}catch(F){E.CustomEvent=function(N,u){function O(Q,t){var P=document.createEvent(N);if(typeof Q!="string"){throw new Error("An event name must be provided")}return N=="Event"&&(P.initCustomEvent=v),t==null&&(t=u),P.initCustomEvent(Q,t.bubbles,t.cancelable,t.detail),P}function v(R,P,S,Q){this.initEvent(R,P,S),this.detail=Q}return O}(E.CustomEvent?"CustomEvent":"Event",{bubbles:!1,cancelable:!1,detail:null})}})(i);
/*! (C) Andrea Giammarchi Mit Style License */
(function(ac){function J(){return{l:{},m:[],b:[]}}function A(v){var u=J();return ae.value=u,Q(v,ab,ae),ae.value=null,u}function F(v,u,w){typeof u=="function"?u.apply(v,w):u.handleEvent.apply(u,w)}function z(v,u,w){w!==void 0&&D(this,"detail",w),D(this,"type",u),D(this,"target",v),D(this,"timeStamp",V())}if(ac.eddy){return}ac.eddy=!0;var K=Array.prototype,U=ac.prototype,P=z.prototype,Y=U.hasOwnProperty,M=K.push,R=K.slice,I=K.unshift,ag="toLocaleString",ab={toLocaleString:1}.propertyIsEnumerable(ag)?"_@eddy"+Math.random():ag,W=ab===ag,ae=(ac.create||ac)(null),Z=[],Q=W?function(v,u,w){v[u]=w.value}:ac.defineProperty,ad=function(v){var u=this;return function(){return u.apply(v,arguments)}},H=K.indexOf||function(v){var u=this.length;while(u--&&this[u]!==v){}return u},V=Date.now||function(){return(new Date).getTime()},aa={boundTo:function(x){var E=Y.call(this,ab)?this[ab]:A(this),y=E.m,C=E.b,w=typeof x=="string"?this[x]:x,v=H.call(y,w);return v<0?C[M.call(y,w)-1]=ad.call(w,this):C[v]},emit:function(y){var S=Y.call(this,ab),E=S&&this[ab].l,C=S&&Y.call(E,y),x=C&&E[y],w=C&&R.call(arguments,1),v=0,N=C?x.length:v;while(v<N){F(this,x[v++],w)}return C},listeners:function(u){return Y.call(this,ab)&&Y.call(this[ab].l,u)&&this[ab].l[u].slice()||[]},off:function(w,E){var y=Y.call(this,ab),x=y&&this[ab].l,C=y&&Y.call(x,w)&&x[w],v;return C&&(v=H.call(C,E),-1<v&&(C.splice(v,1),C.length||delete x[w])),this},on:function(w,C,x){var y=Y.call(this,ab),v=(y?this[ab]:A(this)).l,u=y&&Y.call(v,w)?v[w]:v[w]=[];return H.call(u,C)<0&&(x?I:M).call(u,C),this},once:function(v,y,x){var u=function(t){w.off(v,u,x),F(w,y,arguments)},w=this;return w.on(v,u,x)},trigger:function(aj,y){var ak=Y.call(this,ab),x=ak&&this[ab].l,ai=typeof aj=="string",T=ai?aj:aj.type,E=ak&&Y.call(x,T),S=E&&x[T].slice(0),w=ai?new z(this,T,y):aj,N=0,ah=E?S.length:N,C=!(w instanceof z);C&&(w._active=!0,w.stopImmediatePropagation=P.stopImmediatePropagation),w.currentTarget=this,Z[0]=w;while(w._active&&N<ah){F(this,S[N++],Z)}return C&&(delete w._active,delete w.stopImmediatePropagation),!w.defaultPrevented}},D=function(v,u,w){Y.call(v,u)||(v[u]=w)},af=!1,G;P.defaultPrevented=!1,P._active=P.cancelable=!0,P.preventDefault=function(){this.defaultPrevented=!0},P.stopImmediatePropagation=function(){this._active=!1};for(G in aa){Y.call(aa,G)&&Q(U,G,{enumerable:!1,configurable:!0,writable:!0,value:aa[G]})}(function(u){function v(w){function x(y){y[w].apply(y,this)}return function(){return u.call(this,x,arguments),this}}for(var t in aa){aa.hasOwnProperty(t)&&!/^listeners|boundTo$/.test(t)&&Q(K,t,{enumerable:!1,configurable:!0,writable:!0,value:v(t)})}})(K.forEach);var B={boundTo:aa.boundTo,data:function X(w,u){var x="dataset" in this,v;return arguments.length<2?x?w in this.dataset?this.dataset[w]:v:(u=this.getAttribute("data-"+w.replace(X.gre||(X.gre=/-[a-z]/g),X.gplace||(X.gplace=function(C,y){return y.toUpperCase()}))))==null?v:u:x?u==null?delete this.dataset[w]:(this.dataset[w]=u,u):(X.sre||(X.sre=/([a-z])([A-Z])/g,X.splace=function(C,y,E){return y+"-"+E.toLowerCase()}),w="data-"+w.replace(X.sre,X.splace),u==null?!this.removeAttribute(w):(this.setAttribute(w,u),u))},emit:function(u){var t=new CustomEvent(u);return t.arguments=K.slice.call(arguments,1),this.dispatchEvent(t)},listeners:function(u){return[]},off:function(v,u,w){return this.removeEventListener(v,u,w),this},on:function(v,u,w){return this.addEventListener(v,u,w),this},once:aa.once,trigger:function(v,y){var x=typeof v=="string",u=x?v:v.type,w=x?new CustomEvent(u,(ae.detail=y,ae)):v;return ae.detail=null,z.call(w,this,u),this.dispatchEvent(w)}};ae.cancelable=!0,ae.bubbles=!0;try{document.createEvent("Event").target=document}catch(O){af=!0,D=function(w,u,x){if(!Y.call(w,u)){try{w[u]=x}catch(v){}}}}(function(E){var x=E.Window,S=x?x.prototype:E,C=(E.Node||E.Element||E.HTMLElement).prototype,y=(E.Document||E.HTMLDocument).prototype,N=(E.XMLHttpRequest||function(){}).prototype,w,v;for(w in B){Y.call(B,w)&&(v={enumerable:!1,configurable:!0,writable:!0,value:B[w]},Q(S,w,v),Q(C,w,v),Q(y,w,v),w!=="data"&&Q(N,w,v))}})(i)})(Object);i.$=function(t){return function(v,u){return t.slice.call(t.concat(u||document)[0].querySelectorAll(v))}}([]);
/*! (C) Andrea Giammarchi */
;function m(M){var B=i.Math,y=B.atan,A=B.exp,z=B.log,K=B.max,H=B.min,x=B.pow,Q=B.round,S=B.sqrt,O=B.tan,F=B.PI,u=0.5,R=90,v=R*2,N=R*4,w=F/2,t=F/4,J=F/v,C=v/F,I=F*2,E=F*4;if(!M){M=256}return{coordsToPoint:function G(V,U){var T=M<<U;return{x:Q((V.longitude/N+u)*T),y:Q(H(1,K(0,u-(z(O(t+w*V.latitude/v))/F)/2))*T)}},pointDistance:function D(U,T){return S(x(T.y-U.y,2)+x(T.x-U.x,2))},pointToCoords:function P(U,W){var V=M<<W,T=U.x/V,X=U.y/V;return{latitude:X<=0?R:X>=1?-R:C*(2*y(A(F*(1-2*X)))-w),longitude:(T===1?1:(T%1+1)%1)*N-v}}}}var n=n||function(w){var v=w.documentElement,u=w.createElement("p"),t;u.style.cssText=[";position:absolute",";margin:0",";padding:0",";display:block",";overflow:scroll",";width:50px",";line-height:50px",";font-size:50px"].join(" !important");u.innerHTML="0";v.insertBefore(u,v.lastChild);t=u.offsetWidth-u.clientWidth;v.removeChild(u);return t}(document);
/*! SimpleKinetic v0.1.1 - MIT license */
;var c=function(u){var C=u.isNaN,v=u.Math,J=v.abs,I=v.round,F=v.sqrt,B=u.setInterval,G=u.clearInterval,x=0.2,H=9,D=1000/60,A=w.prototype;function w(K){for(var M in K){if(/^on|context|interval/.test(M)){this[M]=K[M]}}}A.init=function(Z,Y,Q,O,T,R){var aa=z(this),P=(J(Q)<1?0:Q)*(T?1:H),V=(J(O)<1?0:O)*(R?1:H),N=P*P,U=V*V,M=F(N+U),K=P/M,S=V/M,X,W;aa.cancel(aa._cx,aa._cy);if(!(C(K)||C(S))){aa._a=B(y,aa.interval||D,aa);aa._t=0;aa._d=M;aa._sx=aa._cx=Z;aa._sy=aa._cy=Y;aa._xa=K;aa._ya=S;X=I(Z+M*K);W=I(Y+M*S);aa._ex=X;aa._ey=W;if((Z!==X||Y!==W)&&aa.start(Z,Y,0,0,X,W)!==false){return true}z(aa._a)}return false};A.start=E("start");A.move=E("move");A.end=E("end");A.cancel=function(N,K,O,M,Q,P){if(this._a){z(this).oncancel.call(this.context||this,N,K,O,M,Q,P)}};A.onstart=A.onmove=A.onend=A.oncancel=function(N,K,O,M,Q,P){};function z(K){G(K._a);K._a=0;return K}function E(K){K="on"+K;return function(O,M,P,N,R,Q){return this[K].call(this.context||this,O,M,P,N,R,Q)}}function y(M){var R=(M._t+=(M._d-M._t)*x),K=I(M._sx+R*M._xa),S=I(M._sy+R*M._ya),Q=M._ex,O=M._ey,P=K-M._cx,N=S-M._cy;if(K===Q&&S===O){z(M).end(Q,O,P,N,Q,O)}else{M.move(K,S,P,N,Q,O);M._cx=K;M._cy=S}}var t=B(function(K){G(t);if(!K){B=function(O,N,M){return u.setInterval(function(){O(M)},N)}}},0,1);return w}(this);function r(v,C,t,z){
/*! (C) equolo.org */
;var w=192,y=C/w,A=t||"#286868",u=v.getContext("2d");function B(D,E){u.moveTo(D*y,E*y)}function x(E,D,I,H,G,F){u.bezierCurveTo(E*y,D*y,I*y,H*y,G*y,F*y)}u.clearRect(0,0,v.width,v.height);v.width=v.height=C;if(z){u.fillStyle=z;u.fillRect(0,0,C,C)}u.fillStyle=A;u.save();u.scale(1.25,1.25);u.beginPath();B(95.32+10,10.21);x(101.05+10,7.85,108.56+10,12.68,108.09+10,19.01);x(108.39+10,25.61,100.46+10,30.49,94.67+10,27.28);x(87.81+10,24.1,88.04+10,12.79,95.32+10,10.21);u.closePath();u.fill();u.beginPath();B(67.01+10,7.48);x(72.33+10,20.59,82.54+10,31.7,95.46+10,37.57);x(104.17+10,41.72,113.89+10,43.25,123.47+10,43.1);x(108.12+10,48.29,96.34+10,60.6,88.32+10,74.31);x(79.91+10,88.85,78.34+10,106.86,83.29+10,122.84);x(72.84+10,106.64,59.08+10,91.84,41.39+10,83.57);x(30.55+10,78.74,18.41+10,76.4,6.58+10,77.64);x(24.52+10,73.08,42.99+10,65.59,54.74+10,50.61);x(64.15+10,38.49,68.55+10,22.74,67.01+10,7.48);u.closePath();u.fill();u.beginPath();B(43.22+10,119.97);x(43.75+10,102.87,43.89+10,94.92,48.72+10,89.2);x(50.5+10,93.22,49.73+10,97.67,50.54+10,101.88);x(51.34+10,107.31,53.13+10,112.93,57.29+10,116.73);x(61.3+10,121.01,68.71+10,121.41,70.94+10,127.44);x(72.27+10,133.19,66.42+10,138.03,61.08+10,138.09);x(54.7+10,138.64,49.47+10,133.66,46.69+10,128.39);x(43.41+10,122.84,43.52+10,116.2,43.22+10,109.97);u.closePath();u.fill();u.restore();return v}var g=function(u){var v=u.getContext("2d"),y={question:61736,"shopping-cart":61562,gift:61547,cutlery:61685,home:61461,glass:61440,briefcase:61617,group:61632,truck:61649,umbrella:61673},t={};function x(B,D,C){v.beginPath();v.arc(B,D,C,0,Math.PI*2,true);v.closePath();v.fill()}function w(C,B){v.clearRect(0,0,u.width,u.height);u.width=u.height=B;v.textBaseline="bottom";v.fillStyle="rgb(25,138,138)";x(B/2,B/2.5,B/2.5);z(B,B/4.9);v.fillStyle="rgb(240,240,240)";x(B/2,B/2.5,B/2.8);v.font=v.mozTextStyle=Math.round(B/2)+"px FontAwesome";v.translate((u.width-(v.measureText||v.mozMeasureText).call(v,C).width)/2,0);v.fillStyle="rgb(40,104,104)";if(C.length){v.fillText(C,0,B/1.5)}else{v.drawImage(r(document.createElement("canvas"),B/1.5),-B/2.8,B/10)}return u.toDataURL()}function z(B,C){v.beginPath();v.moveTo(B/2,B);v.lineTo(C,B/1.5);v.lineTo(B-C,B/1.5);v.lineTo(B/2,B);v.closePath();v.fill()}return function A(D,B,C){return t[D+B+C]||(t[D+B+C]=w(y.hasOwnProperty(D)?String.fromCharCode(y[D]):"",Math.round(B*(C||(typeof q==="undefined"?1:q.ratio)))))}}(document.createElement("canvas"));function b(t){for(var v,u,x=document.createElement("canvas"),w=document.createDocumentFragment(),z=[30,57,60,72,114,128,144,173,196,214,256],y=0;y<z.length;y++){v=document.createElement("link");u=document.createElement("link");v.rel="shortcut icon";u.rel="apple-touch-icon";v.type=u.type="image/png";v.href=u.href=t(x,z[y],"#E6A72A","#286868").toDataURL();v.setAttribute("sizes",v.sizes=z[y]+"x"+z[y]);u.setAttribute("sizes",v.sizes);w.appendChild(v);w.appendChild(u)}(document.head||document.querySelector("head")).appendChild(w)}var s=localStorage;try{s.setItem("0",0);s.removeItem("0")}catch(j){s={length:0,getItem:function(w){var v=document.cookie,u=v.indexOf(w=escape(""+w)),t;if(-1<u){u+=1+w.length;t=v.indexOf(";",u);return unescape(v.substring(u,t<0?v.length:t))}},setItem:function(t,u){document.cookie=[escape(""+t)+"="+escape(""+u),"expires="+(new Date(Date.now()+1000*60*60*24)).toUTCString(),"path=/"].join("; ")}}}i.on("leaflet:map",function(A){function z(){u.panBy([D*6,B*6]);E=null;v=0;w.scrollLeft=parseFloat(w.style.width);w.scrollTop=parseFloat(w.style.height)}function x(){w.style.top=y.offsetHeight+"px";t.style.width=(parseFloat(w.style.width=q.width+"px")*3)+"px";t.style.height=(parseFloat(w.style.height=G.offsetHeight+"px")*3)+"px"}var u=A.detail,G=document.getElementById("tiles"),y=G.parentNode.children[0],w=G.parentNode.appendChild(document.createElement("div")),t=w.appendChild(document.createElement("span")),F={animate:false,noMoveStart:true},v=0,D=0,B=0,E,C;w.id="ie9-map-wrapper";t.id="ie9-map-center";q.on("change",x);t.onmouseenter=t.onmouseleave=t.onselectionstart=t.onmousedown=t.onmouseup=t.onmousemove=t.onclick=t.ondblclick=function(H){H.preventDefault();H.stopPropagation();if(H.pageX<60&&H.pageY<100){}};z();w.onscroll=function(H){if(E!=null){u.panBy([(D=w.scrollLeft-E),(B=w.scrollTop-C)],F);clearTimeout(v);v=setTimeout(z,30)}E=w.scrollLeft;C=w.scrollTop};setTimeout(x)});
/*! (C) Andrea Giammarchi - Mit Style License */
;var k=function(D){function x(M,u){var N=new XMLHttpRequest,K;N.open("get",M,!0),N.onreadystatechange=function(){N.readyState==4&&(K=N.responseXML,K.firstChild||(K=document.createElement("div"),K.innerHTML=N.responseText),v=H(K,"font-face","units-per-em"),A=H(K,"font-face","ascent"),J=H(K,"font-face","descent"),Array.prototype.forEach.call(K.getElementsByTagName("glyph"),F,y={}),u?u(y):G())},N.send(null)}function H(K,u,M){return parseFloat(K.getElementsByTagName(u)[0].getAttribute(M))}function G(t){Array.prototype.forEach.call((t||document).querySelectorAll(".fa"),z,y)}function C(M,P,K){var Y=0,W=0,S=M.length,O=P/v*(typeof q=="object"?q.ratio:1.5),U,Q,t,T,X,N,R,V;D.width=D.height=Math.round(O*v),I.translate(0,D.height),I.scale(1,-1),I.fillStyle=K||"rgb(0,0,0)",I.globalCompositeOperation="xor";while(Y<S){V=M[Y++],R=1;switch(V.type){case"T":R=0;case"t":I.quadraticCurveTo(O*(X=2*t-(X||t)),O*(N=2*T-(N||T)),O*(t=t*R+V.arguments[0]),O*(T=T*R+V.arguments[1]));break;case"Q":R=0;case"q":I.quadraticCurveTo(O*(X=t*R+V.arguments[0]),O*(N=T*R+V.arguments[1]),O*(t=t*R+V.arguments[2]),O*(T=T*R+V.arguments[3]));break;case"L":R=0;case"l":I.lineTo(O*(t=t*R+V.arguments[0]),O*(T=T*R+V.arguments[1]));break;case"H":R=0;case"h":I.lineTo(O*(t=t*R+V.arguments[0]),O*T);break;case"V":R=0;case"v":I.lineTo(O*t,O*(T=T*R+V.arguments[0]));break;case"z":case"Z":I.lineTo(O*U,O*Q),I.closePath(),I.fill();break;case"M":R=0,I.moveTo(O*(t=U=V.arguments[0]),O*(T=Q=V.arguments[1]-J)),I.beginPath(),W=2;while(W<V.arguments.length){I.lineTo(O*(t=V.arguments[W]),O*(T=V.arguments[W+1])),W+=2}break;default:throw"unknown "+V.type}}}function z(N){var K=N.offsetHeight,O=getComputedStyle(N,":before"),M=O.getPropertyValue("content"),u=this[M.length!==1?M.charAt(1):M].size(K,O.getPropertyValue("color"));N.parentNode.replaceChild(u,N)}function F(K,u){var M=K.getAttribute("d");M&&(this[K.getAttribute("unicode")]={size:E,path:M})}function B(M){var u=0,N=[],K;M=M.replace(B.re||(B.re=/\s*([achlmqstvzACHLMQSTVZ])\s*/g),"$1");while(u<M.length){N.push(K={}),u=w(K,M,u)}return N}function w(N,K,O){var M=O,u=!1;switch(N.type=K[O]){case"z":case"Z":return O+1}N.arguments=[];while(M++<K.length){switch(K[M]){case"A":case"a":case"C":case"c":case"H":case"h":case"L":case"l":case"M":case"m":case"Q":case"q":case"S":case"s":case"T":case"t":case"V":case"v":case"Z":case"z":u=!0;case" ":N.arguments.push(parseFloat(K.substring(O+1,M))),O=M;if(u){return O}}}}function E(K,t){var u=new Image;return C(this._actions||(this._actions=B(this.path)),K,t),u.src=D.toDataURL(),u.style.cssText="width:"+K+"px;height:"+K+"px;",I.clearRect(0,0,v,v),u}var I=D.getContext("2d"),y,v,A,J;return x.fix=G,x}(document.createElement("canvas"));
/*! (C) Andrea Giammarchi */
;var e=function(w){function u(z,y){function x(){t.call(x);x.waiting=setTimeout(v,y,x,z,this,arguments)}if(!y){y=u.delay}x.clear=t;x.waiting=Infinity;return x}function t(){if(this.waiting!==Infinity){clearTimeout(this.waiting)}this.waiting=0}function v(y,A,z,x){y.waiting=0;A.apply(z,x)}u.delay=w;return u}(500);
/*! (C) Andrea Giammarchi */
;function m(M){var B=i.Math,y=B.atan,A=B.exp,z=B.log,K=B.max,H=B.min,x=B.pow,Q=B.round,S=B.sqrt,O=B.tan,F=B.PI,u=0.5,R=90,v=R*2,N=R*4,w=F/2,t=F/4,J=F/v,C=v/F,I=F*2,E=F*4;if(!M){M=256}return{coordsToPoint:function G(V,U){var T=M<<U;return{x:Q((V.longitude/N+u)*T),y:Q(H(1,K(0,u-(z(O(t+w*V.latitude/v))/F)/2))*T)}},pointDistance:function D(U,T){return S(x(T.y-U.y,2)+x(T.x-U.x,2))},pointToCoords:function P(U,W){var V=M<<W,T=U.x/V,X=U.y/V;return{latitude:X<=0?R:X>=1?-R:C*(2*y(A(F*(1-2*X)))-w),longitude:(T===1?1:(T%1+1)%1)*N-v}}}}
/*! (C) Andrea Giammarchi */
;var o=(function(B,t){var H=/Android 4\.0/.test(B),F=/Android/.test(B)&&/Chrom(?:e|ium)/.test(B),I=A.prototype,J=t.abs,D=t.max,x=t.min,E=15;function A(K,M){if(!M){M=this}this._el=K;while(!K.offsetHeight){K=K.parentNode}u(this,this._r=K,true);this.disabled=false;this.onstart=M.onstart||v;this.onchange=M.onchange||v;this.onend=M.onend||v;this.onclick=M.onclick||v;if("ontouchend" in document){this._el.parentNode.style.cssText+=[";-ms-touch-action:none",";touch-action:none",";overflow:hidden"].join("")}}function v(K){}function u(K,M,N){var O=(N?"add":"remove")+"EventListener";M[O]("touchstart",K,true);M[O]("touchmove",K,true);M[O]("touchend",K,true)}I.clear=function z(){u(this,this._r,false)};I.handleEvent=function C(K){if(this._vscrolling&&K.type!=="touchend"){return}if(F){K.preventDefault()}this[K.type](K)};I.touchstart=function y(K){if(!this._scrolling){K=K.touches[0];this._x=K.pageX>>0;this._y=K.pageY>>0;this._diffY=0;this._t=0;this._l=0}};I.touchmove=function w(M){var N=M.touches[0],K=N.pageX>>0;if(this._scrolling){M.preventDefault();M.stopPropagation();M.x=K-this._diffX-this._x;if(H){this._p.style.marginLeft=D(this._m,x(0,M.x+this._l))+"px";this._e=M.x}else{this._p.scrollLeft=this._s-M.x}this.onchange(M)}else{this._diffX=K-this._x;this._diffY=N.pageY-this._y;this._vscrolling=E<=this._t++||E<=J(this._diffY);this._scrolling=!this._vscrolling&&E<=J(this._diffX);if(this._scrolling){M.preventDefault();this._p=this._el.parentNode;this._s=this._p.scrollLeft;if(H){if(!this._l){this._l=parseFloat(this._p.style.marginLeft||0);if(!this._l){this._l=-this._p.scrollLeft;this._p.scrollLeft=0;this._p.style.marginLeft=this._l}if(!this._m){this._m=this._p.clientWidth-this._p.scrollWidth}}this._s=-this._l}this.onstart(M)}}};I.touchend=function G(K){if(!K.touches.length){if(this._scrolling){K.preventDefault();this._p=null;if(H){this._l=D(this._m,x(0,this._e+this._l))}this.onend(K)}else{if(!this._vscrolling){this.onclick(K)}}this._t=0;this._scrolling=false;this._vscrolling=false}};A.compat=H;return A}(navigator.userAgent,Math));
/*! (C) Andrea Giammarchi */
(function(v,G,B){if(!((B=!!v.pointerEnabled)||v.msPointerEnabled)||"ontouchend" in G){return}var x=(B?"":"MS")+"POINTER_TYPE_MOUSE",w=function(P){return B?P.toLowerCase():"MS"+P},y=B?function(P){return P}:function(P){return P.slice(2).toLowerCase()},z=function(P,Q,R){Q.call(P,w(R),u,true)},I=function(P){return{value:function(){O[P].call(this);this._[P]()}}},J=function(R,P){var Q=R[P];Object.defineProperty(R,P,{configurable:true,value:function(U,T,S){if(U in A){Q.call(this,A[U],u,S)}return Q.call(this,U,T,S)}})},H=function(P){return{get:function(){return this._[P]}}},t=function(P,Q){var R=G.createEvent("Event");R.initEvent(P,true,true);M.value=Q;Object.defineProperties(R,N);Q.target.dispatchEvent(R)},F=function(Q){var P=Q.pointerType;return(P===Q[x]||P==="mouse")?"mouse":"touch"},K=function(P){return this[P]},E=function(P){return C[P]},M={value:null},O=G.createEvent("Event"),N={_:M,touches:{configurable:true,get:function(){M.value=Object.keys(C).map(E);return Object.defineProperty(this,"touches",M).touches}},relatedTarget:H("relatedTarget"),currentTarget:H("currentTarget"),target:H("target"),altKey:H("altKey"),metaKey:H("metaKey"),ctrlKey:H("ctrlKey"),shiftKey:H("shiftKey"),preventDefault:I("preventDefault"),stopPropagation:I("stopPropagation"),stopImmediatePropagation:I("stopImmediatePropagation")},C=Object.create(null),A=Object.create(null),u={handleEvent:function(P){if(F(P)==="touch"){u[y(P.type)](P)}},pointerdown:function(P){C[P.pointerId]=new D(P);t("touchstart",P)},pointermove:function(P){C[P.pointerId]._=P;t("touchmove",P)},pointerup:function(P){delete C[P.pointerId];t("touchend",P)}};function D(P){this._=P}Object.defineProperties(D.prototype,{identifier:H("pointerId"),target:H("target"),screenX:H("screenX"),screenY:H("screenY"),clientX:H("clientX"),clientY:H("clientY"),pageX:H("pageX"),pageY:H("pageY")});A.touchstart=w("PointerDown");A.touchmove=w("PointerMove");A.touchend=w("PointerUp");J(G,"addEventListener");J(G,"removeEventListener");J(Element.prototype,"addEventListener");J(Element.prototype,"removeEventListener");G.ontouchstart=G.ontouchmove=G.ontouchend=null}(navigator,document));i.on("wp:hs-icon",function(w){var u=document.body.appendChild(document.createElement("wp")),t=document.createElement("canvas"),v=(Math.min(q.width,q.height)/2)>>0;t.style.cssText="width:"+v+"px;height:"+v+"px;";u.appendChild(r(t,v*q.ratio,"#E6A72A","#286868"));u.appendChild(document.createElement("h1")).textContent="equolo.org";u.onclick=u.remove;if(IE9Mobile){u.style.cssText=[";top:",document.documentElement.scrollTop,"px",";width:",q.width,"px",";height:",q.height,"px"].join("")}w.arguments[0].preventDefault()});i.on("wp:ffos-install",function(u){try{navigator.mozApps.install("http://equolo.org/equolo.webapp").onerror=function(){alert(":-(\n"+this.error.name)}}catch(t){}u.arguments[0].preventDefault()});function f(){if(location.href.indexOf("equolo")<0){return}i._gaq=[["_setAccount","UA-924021-6"],["_trackPageview"]];var u=document.createElement("script"),t=document.getElementsByTagName("script")[0];u.type="text/javascript";u.async=true;u.src="http://www.google-analytics.com/ga.js";t.parentNode.insertBefore(u,t)}function l(){var w="https://www.paypalobjects.com/",v=document.createDocumentFragment(),u=v.appendChild(document.createElement("input")),t=v.appendChild(document.createElement("img"));u.type="image";u.src=w+"en_US/i/btn/btn_donate_SM.gif";u.border=t.border=0;u.name="submit";u.alt="PayPal - The safer, easier way to pay online!";t.alt="";t.src=w+"de_DE/i/scr/pixel.gif";t.width=t.height=1;$("form#paypal")[0].appendChild(v)}try{if(IE9Mobile||g("?",36).length<36){throw 0}}catch(a){i.compat=true;g=function(t){return base64Icon[t]};(function(u,t){t=u.documentElement;t.insertBefore(u.createElement("script"),t.lastChild).src="/cgi/base64_icon.php"}(document))}(function(aq,z){var E=12,M=15,ax=18,P=3,aD="ontouchend" in z,aa=new m(256),ah,u,X,aA,ar,A,D,S,y,J,R,at,I,aF,au,an=true;aq.onDOM(function(){if(IE9Mobile){k("../fonts/fontawesome-webfont.svg")}am();$("noscript").forEach(function(aG){aG.remove()});al(false,true)});aq.onLoad(aC);function am(){while(z.body.firstChild.id!="map"){z.body.removeChild(z.body.firstChild)}}function aC(){var aG,aK,aH,aJ,aI;if(!aq.L){return setTimeout(aC,15)}R={map:$("section#map")[0],about:$("section#about")[0],contact:$("section#contact")[0],pinIt:$("section#pin-it")[0]};R.nav=$("nav",R.map)[0];R.placeDetails=$("div.details",R.map)[0];R.location=$("div.location",R.map)[0];R.details=[R.about,R.contact,R.pinIt];aK=$("img",R.map)[0];if(!aq.compat){aI=aK.width||aK.naturalWidth;b(r);aH=z.createElement("canvas");aH.style.cssText="width:"+aI+"px;height:"+aI+"px;";aK.replace(r(aH,aI*q.ratio,"#E6A72A").on("click",Y));aK=aH;aI=20;aH=z.createElement("canvas");aH.style.cssText="width:"+aI+"px;height:"+aI+"px;";$("li.intro h3 > i")[0].replace(r(aH,aI*q.ratio,"#064646"))}else{aK.on("click",Y);aH=$("head")[0].appendChild(z.createElement("link"));aH.rel="shortcut icon";aH.type="image/png";aH.href="/img/equolo-favicon.png"}if(q.height<=500){aH=aK.cloneNode(true).on("click",Y);R.map.appendChild(aH).classList.add("logo");if(aH.nodeName!=="IMG"){aH.getContext("2d").putImageData(aK.getContext("2d").getImageData(0,0,aK.width,aK.height),0,0)}}F();setTimeout(ay,Math.random()*1000);f();l();function aN(aO,aP){if(aP.parentNode){aP.parentNode.classList.remove("selected")}aP.parentNode=aO;aP.section=aO.firstChild.href.split("#")[1];aO.classList.add("selected")}X=$("select[name=category]")[0];X.on("change",function(){T(false);ag()});aA=[].map.call(X.options,function(aO){this[aO.value]=aO.textContent;return aO.value},ar={});aG=$("nav a").on("click",function aM(aS){var aO=this.parentNode,aP;if(aM.sk){aM.sk.cancel()}if(aO.classList.contains("selected")){aS.preventDefault();aM.parentNode=null;aO.classList.remove("selected");aP=R.nav.offsetHeight;(aM.sk=new c({context:R.map,onstart:function(){aM.kinetic=true;if(ae.sk){ae.sk.cancel()}al(false);z.body.scrollTop=z.documentElement.scrollTop=0;aM.ms.display="block";if(IE9Mobile){R.nav.style.top=null}aM.np.appendChild(R.nav)},onmove:function(aT,aY,aV,aU,aX,aW){aM.ms.minHeight=aY+"px"},onend:function(aT,aY,aV,aU,aX,aW){aM.ms.minHeight=null;J.style.zIndex=X.style.zIndex=9999;R.placeDetails.style.height=R.placeDetails.style._height;U();aM.kinetic=false;aM.doNotScroll=true}})).init(0,aP,0,q.height-aP,false,true)}else{if(aM.parentNode){if(IE9Mobile){aN(aO,aM)}else{aS.preventDefault();aN(aO,aM);setTimeout(ae,300,aO)}}else{aS.preventDefault();aM.sk=new c({context:R.map,onstart:function(){J.style.zIndex=X.style.zIndex=0;R.placeDetails.style._height=R.placeDetails.style.height;R.placeDetails.style.height=0;aM.doNotScroll=false;aM.kinetic=true;al(true)},onmove:function(aT,aY,aV,aU,aX,aW){aM.ms.minHeight=aY+"px"},onend:function(){R.about.prepend(R.nav);aM.ms.display="none";setTimeout(aN,100,aM.lt,aM);setTimeout(ae,400,aM.lt);aM.kinetic=false}});if(!aM.np){aM.np=R.nav.parentNode;aM.ms=R.map.style}aM.lt=aO;aP=R.map.offsetHeight;aM.sk.init(0,aP,0,($("footer",R.map)[0].offsetHeight-aP),false,true);if(!aM.scroll){aM.scroll=true;[z,z.documentElement,z.body].forEach(function(aT){aT.on("scroll",this).on("mousewheel",this);this.i=0},function aQ(aY){if(ae.kinetic||aM.kinetic||aM.doNotScroll){return}var aX=au(),aV,aT,aU,aW;if(au.el){aV="scrollTop" in this?this:au.el;if(aV==au.el){aT=aW=0;aU=aX+q.height/3;while(aT<R.details.length){aV=R.details[aT++];aW+=aV.offsetHeight+8;if(aU<aW){--aT;break}}if(aT!=aQ.i){aQ.i=aT;aN(aG[aT].parentNode,aM)}if(IE9Mobile){R.nav.style.top=z.documentElement.scrollTop+"px"}}else{this.off("scroll",aQ).off("mousewheel",aQ)}}})}}}try{this.blur()}catch(aR){}});aG.some(function(aO){if(aO.href.split("#")[1]==this){setTimeout(aO.trigger.bind(aO),2000,"click");return true}},location.href.split("#")[1]);R.tiles=$("#tiles")[0];ah=Q(R.tiles);D={};ad(navigator.country&&navigator.country.iso2!="US"?navigator.country.geo:[49.6,6.116667],5);J=$("button#find-me")[0];if("geolocation" in navigator){J.on("click",function(aP){J.firstChild.classList.remove("fa-compass");J.firstChild.classList.add("fa-spin","fa-refresh");J.disabled=true;J.moved=false;try{if(aJ){navigator.geolocation.clearWatch(aJ)}aJ=navigator.geolocation.watchPosition(function(aQ){if(!J.moved){J.moved=true;ad(aQ.coords,15)}C(aQ.coords);aw()},aw,{maximumAge:300000})}catch(aO){J.remove()}J.blur()})}else{J.remove()}ai();if(s.length){V(s.getItem("equolo.activities"));aH=s.getItem("equolo.map");if(aH){an=false;ad.apply(null,JSON.parse(aH))}}if(an){$("li.intro",R.map)[0].style.cssText="display:block;margin-left:"+(aB())+"px;"}ah.on("zoomend",function aL(aO){var aP=ah.getZoom(),aQ=aL.current||0;aL.current=aP;if(aQ===0||((E<=aP&&aQ<E)||(aP<E&&E<=aQ))){T(true);ag()}});ah.on("movestart",function(){J.moved=true;an=false});ah.on("moveend",aH=e(function(){var aQ=ah.getZoom(),aO=ah.getCenter(),aP;s.setItem("equolo.map",JSON.stringify([aO,aQ]))}));ah.on("movestart",aH.clear);aq.on("pagehide",w).on("unload",w);if(IE9Mobile){aq.trigger("leaflet:map",ah)}}function w(){if(s.length){try{s.setItem("equolo.activities",at||"")}catch(aG){s.setItem("equolo.activities","")}}}function Q(aI,aH){var aG={attribution:'Map Tiles <a href="http://open.mapquest.com/">&copy; Open MapQuest</a>',maxZoom:ax,minZoom:P},aJ;aJ=aH?L.map(aI,aH):L.map(aI);L.tileLayer("http://otile1.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.jpg",aG).addTo(aJ);return aJ}function aw(){J.firstChild.classList.remove("fa-spin","fa-download");J.firstChild.classList.add("fa-compass");J.disabled=false}function ab(){if(!aF){aF=I.reduce(aE,[])}return aF}function ac(aH,aG){var aI=aa.pointDistance(aa.coordsToPoint(aH,ax),aa.coordsToPoint(aG,ax));if(!("distance" in aH)){aH.distance=aI}if(!("distance" in aG)){aG.distance=aI}if(aH.distance<aG.distance){if(aI<aH.distance){aH.distance=aI;return 1}return 0}else{if(aG.distance<aH.distance){return -1}else{return 0}}}function af(aG){aG.name=this.name;aG.description=this.description;aG.aid=this.id;return aG}function aE(aG,aH){return aG.concat(aH.place.map(af,aH))}function N(aN){for(var aH,aM,aK,aL=E<=ah.getZoom(),aI=aL||{stroke:true,color:"#286868",weight:2,opacity:1,fill:true,fillColor:"#E6A72A",fillOpacity:1,radius:8,clickable:false,pointerEvents:false},aG=aN.place,aJ=0;aJ<aG.length;aJ++){aM=aG[aJ];aK=aM.icon;if(aL){aH=B(aM);aH.activity=aN;aH.placeIndex=aJ}else{aH=L.circleMarker(O(aM),aI)}D[aK].addLayer(aH)}}function B(aH){var aG=L.marker(O(aH),{icon:L.icon({iconUrl:g(aH.icon,36),iconSize:[36,36],iconAnchor:[18,36]})});aG.on("click",H);aG.id=aH.id;return aG}function C(aG){var aH=O(aG);if(!y){y=L.circleMarker(aH,{clickable:false,pointerEvents:false});y.addTo(ah)}y.setLatLng(aH)}function W(){for(var aH=X.value,aG=1;aG<aA.length;aG++){if(aH=="all"||aH==aA[aG]){D[aA[aG]].addTo(ah)}}}function t(aH){for(var aG=1;aG<aA.length;aG++){if(D.hasOwnProperty(aA[aG])){ah.removeLayer(D[aA[aG]])}if(aH){D[aA[aG]]=L.layerGroup()}}}function aj(aG){if(!this.hasOwnProperty(aG.icon)){this[aG.icon]=0}this[aG.icon]++}function ag(){if(an){return}if(ag.moveend){ah.off("moveend",ag.moveend);ah.off("movestart",ag.moveend.clear)}$("li",R.location).forEach(function(aG){if(aG.classList.contains("place")){aG.remove()}else{aG.style.display="none"}});ag.map={};if(ah.getZoom()<E){if(ag.el){ag.el.style.width=null}ag.el=$("li.stats",R.map)[0];ag.el.style.display="block";ah.on("moveend",ag.moveend=e(function(){var aJ,aI,aH={},aG=[];ab().filter(ao,ah.getBounds()).forEach(aj,aH);for(aI in aH){if(aH.hasOwnProperty(aI)){aG.push('<i class="fa fa-'+aI+'"></i> '+ar[aI]+" "+aH[aI])}}aJ=ag.el.childNodes[1];aJ.innerHTML=aG.length?aG.join(", "):"we have nothing nothing in this area :-(<br/>do you know any activity that could be part of equolo?";ap(aJ)}));ah.on("movestart",ag.moveend.clear)}else{ag.el=$("ul",R.map)[0];ah.on("moveend",ag.moveend=e(function(){var aK=ab().filter(ao,ah.getBounds()),aJ=aK.length,aG=aJ&&z.createDocumentFragment(),aH=0,aI;if(!aJ){return}aI=[];aK.forEach(function(aM){aI.push(aM.id);if(ag.map[aM.id]){return}var aL=this.appendChild(z.createElement("li")),aN=aL.appendChild(z.createElement("h3")),aO=aL.appendChild(z.createElement("p"));aN.classList.add("ellipsis");aL.data("coords",aM.latitude+"/"+aM.longitude);aL.classList.add("place","t-all");aL.id="place-"+aM.id;ag.map[aM.id]=aM;aN.appendChild(z.createElement("i")).classList.add("fa","fa-"+aM.icon);aN.appendChild(z.createTextNode(" "+aM.name));aN.appendChild(z.createElement("span")).textContent=aM.postcode;aO.appendChild(z.createTextNode(aM.description));if(!aD){aL.on("click",av)}},aG);ag.el.appendChild(aG);aJ=$("li.place",ag.el).filter(function(aL){var aM=aL.id.slice(6);if(aI.indexOf(aM)<0){delete ag.map[aM];aL.remove();return false}return true}).length;ag.el.style.width=(aJ*276+aB()*2+1)+"px";ap(ag.el);if(aD&&!ag.hscroll){ag.hscroll=new o(ag.el,{onstart:function(){this.x=ag.el.scrollLeft;this.el=av.last||$("li.place",ag.el)[0];av.reset()},onchange:function(aL){this.x=aL.x-this.x},onend:function(aL){av.call((this.x<0?this.el.nextElementSibling:this.el.previousElementSibling)||this.el,{})},onclick:function(aM){var aL=aM.target;while(aL&&aL.nodeName!=="LI"){aL=aL.parentNode}if(aL&&aL.nodeName==="LI"){av.call(aL,aL)}}})}}));ah.on("movestart",ag.movestart=function(){ag.moveend.clear();av.cancel()})}ag.moveend()}function H(){av.call($("li#place-"+this.id)[0],{detail:false})}function x(aG){return this[aG].length}function v(aG){return this[aG]}function K(aI,aH,aG){var aJ=aG.filter(x,aH);if(aJ.length){(aI.appendChild(z.createElement("li"))).textContent=aJ.map(v,aH).join(", ")}}function az(aI,aH,aK,aJ){var aG;if(aH[aK]){aG=aI.lastChild.appendChild(z.createElement("a"));aG.target="_blank";aG.classList.add("social");switch(aK){case"twitter":aG.href=/^https?:\/\/(?:www.)?twitter\./.test(aH[aK])?aH[aK]:"https://twitter.com/"+aH[aK].replace(/^@/,"");break;case"facebook":aG.href=/^https?:\/\/(?:www.)?facebook\./.test(aH[aK])?aH[aK]:"https://www.facebook.com/"+aH[aK];break;case"gplus":aG.href=/^https?:\/\/plus\.google\./.test(aH[aK])?aH[aK]:"https://plus.google.com/"+aH[aK];break}aG.appendChild(z.createElement("i")).classList.add("fa","fa-"+aJ)}}function Z(aI,aH,aK,aJ){var aG;if(aH[aK]){aG=aI.appendChild(z.createElement("li"));aG.classList.add("button");aG.appendChild(z.createElement("i")).classList.add("fa","fa-"+aJ);aG=aG.appendChild(z.createElement("a"));aG.classList.add("ellipsis");switch(aK){case"phone":aG.href="tel:"+aH[aK].replace(/[^0-9+]/g,"");break;case"email":aG.href="mailto:"+aH[aK];break;default:aG.target="_blank";aG.href=/^https?:\/\//i.test(aH[aK])?aH[aK]:"http://"+aH[aK];break}aG.textContent=aH[aK]}}function G(aH){var aJ,aI,aG,aK;G.showing=true;if(!G.footer){G.footer=R.nav.parentNode.offsetHeight}if(!G.el){G.el=R.placeDetails}aG=R.tiles.offsetHeight;aJ=G.el;aJ.style.cssText="opacity:1;top:"+($("header",R.map)[0].offsetHeight)+"px;height:"+(aG<276?(aG+G.footer):aG)+"px;";if(aG<276){R.location.style.bottom=R.nav.parentNode.style.height=0}if(!u){G.h3=$("h3",aJ)[0];G.info=$("ul",aJ)[0];G.address=$("ul.address",aJ)[0];G.contact=$("ul.contact",aJ)[0];u=Q($("div.minimap",aJ)[0],{zoomControl:false,dragging:false,touchZoom:false,doubleClickZoom:false,scrollWheelZoom:false,boxZoom:false,keyboard:false,attributionControl:false,tap:false,fadeAnimation:false})}B(aH).addTo(u);aK=aa.coordsToPoint(aH,15);aK.y-=18;u.setView(O(aa.pointToCoords(aK,15)),15);G.h3.textContent=G.address.textContent=G.contact.textContent="";G.h3.appendChild(z.createElement("i")).className="fa fa-"+aH.icon;G.h3.appendChild(z.createTextNode(" "+aH.name));aI=G.address;K(aI,aH,["address","extra","postcode","city"]);Z(aI,aH,"phone","phone");az(aI,aH,"twitter","twitter");Z(aI,aH,"email","envelope");az(aI,aH,"facebook","facebook-square");Z(aI,aH,"website","globe");az(aI,aH,"gplus","google-plus");ap(aJ)}function av(aI){try{var aK=this.data("coords").split("/"),aN=av.last==this,aH=this.parentNode.parentNode,aL=this.id.slice(6),aO,aM,aG,aP}catch(aJ){return}this.clicked=true;if(aN){if(G.showing){G.showing=false;G.el.style.cssText="";R.location.style.bottom=R.nav.parentNode.style.height=null}else{G(ag.map[aL])}}else{aP=aI.detail===false?Object:function(aQ,aW,aS,aR,aU,aT){var aV=av.cancel;av.cancel=Object;ad({latitude:parseFloat(aK[0]),longitude:parseFloat(aK[1])},ah.getZoom());av.cancel=aV;if(G.showing){G(ag.map[aL])}};av.cancel();(av.last=this).classList.add("selected");aM=0;aO=this.previousElementSibling;while(aO.classList.contains("place")){aO=aO.previousElementSibling;aM+=276}aG=o.compat?-parseFloat(aH.style.marginLeft||0):aH.scrollLeft;(av.sk=new c({onmove:function(aQ,aV,aS,aR,aU,aT){if(o.compat){aH.style.marginLeft=-aQ+"px"}else{aH.scrollLeft=aQ}},onend:aP})).init(aG,0,aM-aG,0,true,false)||aP()}}av.reset=function(){if(av.last){av.last.classList.remove("selected");av.last=null}};av.cancel=function(){if(av.sk){av.sk.cancel()}av.reset()};function T(aG){t(aG);if(aG){I.forEach(N)}W()}function V(aG){if(aG){I=JSON.parse(aG).map(ak);at=aG;aF=null;T(true);ag()}}function ai(){var aG=aq.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");aG.open("GET","/cgi/location.php",true);aG.onreadystatechange=function(){if(aG.readyState==4){if(199<aG.status&&aG.status<400){V(aG.responseText)}else{setTimeout(ai,5000)}}};aG.send(null)}au=function(aH){var aG=z.body.scrollTop?z.body:(z.documentElement.scrollTop?z.documentElement:null);if(aG){au=function(aI){return aI==null?aG.scrollTop:(aG.scrollTop=aI)};au.el=aG;return au(aH)}else{if(aH==null){return 0}else{z.body.scrollTop=z.documentElement.scrollTop=aH}}};function ae(aJ){var aI=aJ.firstChild.href.split("#")[1],aH=R.details,aN=true,aL=0,aG=0,aK=aH.length,aM=au();while(aN){aN=aH[aG].id!=aI;if(aN){aL+=aH[aG].offsetHeight+8}aG++}if(IEMobile){au(aL)}else{if(ae.sk){ae.sk.cancel()}(ae.sk=new c({onstart:function(){ae.kinetic=true},onmove:function(aO,aT,aQ,aP,aS,aR){au(aT)},onend:function(aO,aT,aQ,aP,aS,aR){au(aR);ae.kinetic=false}})).init(0,aM,0,aL-aM,false,true)}}function ad(aH,aG){ah.setView(O(aH),aG||Math.max(15,ah.getZoom()))}function al(aH,aG){var aI=aH?"remove":"add";if(aG){z.documentElement.scrollTop=0;z.body.scrollTop=0}z.documentElement.classList[aI]("no-scroll");z.body.classList[aI]("no-scroll")}function aB(){return(q.width-276)>>1}function F(){var aG=aB();h({section:{"min-height":q.height+"px"},"section#map > div.location li.place:nth-child(3)":{"margin-left":aG+"px"},"section#map > div.location li.place:last-child":{"margin-right":aG+"px"},"section#map > div.location > ul > li":{"min-height":(150-n)+"px"}});U()}function U(){if(ah){ah.invalidateSize()}if(u){u.invalidateSize()}}function ao(aG){var aH=X.value;return aG.icon==aH||aH=="all"&&this.contains(new L.LatLng(aG.latitude,aG.longitude))}function O(aG){return[aG.latitude||aG.lat||aG[0]||0,aG.longitude||aG.lng||aG[1]||0]}function ap(aG){if(IE9Mobile){k.fix(aG)}}function Y(){q.full(!q.fullScreen);setTimeout(U,300)}aq.on("go:fullscreen",function(){q.full(true)});function ak(aG){aG.place=p.unpack(aG.place);return aG}function ay(){$("span.email").forEach(function(aI){var aG=z.createElement("a"),aH=aI.textContent.split("").reverse().join("");aG.href="mailto:"+aH;aG.textContent=aH;aI.replace(aG)})}q.on("change",F)}(i,document))}(this));