/*! )Â°(, equolo - https://github.com/equolo/equolo.org */
/*@cc_on
(function(f){
window.setTimeout=f(window.setTimeout);
window.setInterval=f(window.setInterval);
})(function(f){return function(c,t,a){a=[].slice.call(arguments,2);return f(function(){c.apply(this,a)},t)}});
@*/
var
IEMobile=/*@cc_on/\bIEMobile\b/.test(navigator.userAgent)||@*/false,
IE9Mobile=/*@cc_on(IEMobile&&@_jscript_version<10)||@*/false,
IE10Mobile=/*@cc_on(IEMobile&&@_jscript_version/10>=1)||@*/false
;
IE9Mobile&&document.write('<link rel="stylesheet" href="css/IE9Mobile.css"/><script src="js/IE9Mobile.js"></script>');(function(k){
/*! display v0.1.8 - MIT license */
;var s=function(K){var z=K.Math,D=z.abs,N=z.max,J=z.min,S=K.Infinity,w=K.screen||S,v=K.matchMedia,E="addEventListener",F=K.document,R=F.documentElement,A=/\bMobile\b/.test(navigator.userAgent),x=R.requestFullscreen||R.mozRequestFullScreen||R.webkitRequestFullScreen,P=F.exitFullscreen||F.cancelFullscreen||F.mozCancelFullScreen||F.webkitExitFullscreen,G={change:[]},M={width:0,height:0,ratio:0,full:x&&P?function(T){var U=F.fullscreenElement||F.mozFullScreenElement||F.webkitFullscreenElement;if(T||T==null){M.fullScreen=true;if(!U){x.call(R)}}else{if(U){M.fullScreen=false;P.call(F)}}}:Object,on:function(T,U){G[T].push(U)}},O=G.change.forEach||function(V,T){for(var U=0;U<this.length;U++){V.call(T,this[U],U,this)}},B;function C(T){T.call(M,M.width,M.height)}function I(T){if(B){clearTimeout(B);B=0}return(!H()&&innerHeight<300)||(B=setTimeout(y,300,T))}function H(){return"orientation" in K?D(K.orientation||0)===90:!!v&&v("(orientation:landscape)").matches}function y(Y){B=0;var U=K.devicePixelRatio||1,Z=H(),V=w.width,X=w.height,W=J(K.innerWidth||R.clientWidth,U<1?S:((A&&Z?N(V,X):V)||S)),T=J(K.innerHeight||R.clientHeight,U<1?S:((A&&Z?J(V,X):X)||S));if(W!==M.width||T!==M.height){M.width=W;M.height=T;O.call(G.change,C)}}if(E in K){K[E]("orientationchange",I,true);K[E]("resize",I,true);try{w[E]("orientationchange",I,true)}catch(Q){}}else{K.attachEvent("onresize",y)}y.call(K);M.ratio=K.devicePixelRatio||w.width/M.width||(w.deviceXDPI||1)/(w.logicalXDPI||1);return M}(k);function i(E,B){
/*! (C) Andrea Giammarchi - Mit Style License */
;if(!B){B=document}B.getElementsByTagName("head")[0].appendChild(B.createElement("style")).appendChild(B.createTextNode(""));var D=B.styleSheets,A=D[D.length-1],F=A.addRule||function(G,I,H){this.insertRule(G+"{"+I+"}",H)},w=0,v,y,C,z,x;for(v in E){if(E.hasOwnProperty(v)){x=[];y=E[v];for(C in y){if(y.hasOwnProperty(C)){z=y[C];x.push("-webkit-"+C+":"+z,"-khtml-"+C+":"+z,"-blink-"+C+":"+z,"-moz-"+C+":"+z,"-ms-"+C+":"+z,"-o-"+C+":"+z,C+":"+z)}}F.call(A,v,x.join(";")+";",w++)}}}(function(x,v,w){"bind" in v||(v.bind=function(B){var A=this,z=x.slice,y=z.call(arguments,1);return function(){return A.apply(B,y.concat(z.call(arguments)))}});"trim" in w||(w.trim=function(){return this.replace(/^[^\S]+|[^\S]+$/g,"")})}(Array.prototype,Function.prototype,String.prototype));var r,d=r=function(E,x){function N(V){for(var Q=V.length,W=C(Q?V[0]:{}),R=W.length,X=E(Q*R),U=0,T=0,S,P;U<Q;++U){for(P=V[U],S=0;S<R;X[T++]=P[W[S++]]){}}return z.call([R],W,X)}function K(T){for(var U=T.length,Q=T[0],P=E(((U-Q-1)/Q)||0),S=1+Q,R=0,W,V;S<U;){for(P[R++]=(V={}),W=0;W<Q;V[T[++W]]=T[S++]){}}return P}function y(Q){return function P(W){for(var Y=this,X=W,U=0,V=Y.length,S,R,T;U<V;++U){if(B(T=X[R=Y[U]])){S=U+1;X[R]=S<V?O.call(T,Q,Y.slice(S)):Q(T)}X=X[R]}return W}}function A(Q){return function P(X,V){for(var S=B(X),R=z.call(w,X),W=z.call(w,V),T=0,U=W.length;T<U;++T){R=O.call(R,Q,W[T].split("."))}return S?R:R[0]}}function I(Q,P){return P?D(Q,P):N(Q)}function v(P,Q){return Q?H(P,Q):K(P)}function G(S,P,R,Q){return M(I(S,Q),P,R)}function F(Q,P,R){return v(J(Q,P),R)}var w=[],z=w.concat,C=Object.keys||function(R){var Q=[],P;for(P in R){R.hasOwnProperty(P)&&Q.push(P)}return Q},B=E.isArray||(function(Q,R){R=Q.call(w);return function P(S){return Q.call(S)==R}}({}.toString)),O=w.map||function(T,S){for(var Q=this,R=Q.length,P=E(R);R--;P[R]=T.call(S,Q[R],R,Q)){}return P},D=A(y(N)),H=A(y(K)),M=x.stringify,J=x.parse;return{pack:I,parse:F,stringify:G,unpack:v}}(Array,JSON);
/*! (C) WebReflection Mit Style License */
(function(E){function K(v){return typeof v=="string"?E.document.createTextNode(v):v}function z(P){if(P.length===1){return K(P[0])}for(var O=E.document.createDocumentFragment(),v=C.call(P),N=0;N<P.length;N++){O.appendChild(K(v[N]))}return O}for(var w,B,M,y=/^\s+|\s+$/g,J=/\s+/,H=" ",D=function(v,N){return this.contains(v)?N||this.remove(v):N&&this.add(v),!!N},A=(E.Element||E.Node||E.HTMLElement).prototype,G=["prepend",function(){var v=this.firstChild,N=z(arguments);v?this.insertBefore(N,v):this.appendChild(N)},"append",function(){this.appendChild(z(arguments))},"before",function(){var v=this.parentNode;v&&v.insertBefore(z(arguments),this)},"after",function(){var N=this.parentNode,O=this.nextSibling,v=z(arguments);N&&(O?N.insertBefore(v,O):N.appendChild(v))},"replace",function(){var v=this.parentNode;v&&v.replaceChild(z(arguments),this)},"remove",function(){var v=this.parentNode;v&&v.removeChild(this)}],C=G.slice,x=G.length;x;x-=2){w=G[x-2],w in A||(A[w]=G[x-1])}"classList" in document.documentElement?(M=document.createElement("div").classList,M.add("a","b"),"a b"!=M&&(A=M.constructor.prototype,"add" in A||(A=E.DOMTokenList.prototype),B=function(v){return function(){var N=0;while(N<arguments.length){v.call(this,arguments[N++])}}},A.add=B(A.add),A.remove=B(A.remove),A.toggle=D)):(B=function(v){if(!v){throw"SyntaxError"}if(J.test(v)){throw"InvalidCharacterError"}return v},M=function(N){var v=N.className.replace(y,"");v.length&&G.push.apply(this,v.split(J)),this._=N},M.prototype={length:0,add:function(){for(var v=0,N;v<arguments.length;v++){N=arguments[v],this.contains(N)||G.push.call(this,w)}this._.className=""+this},contains:function(v){return function(N){return x=v.call(this,w=B(N)),-1<x}}([].indexOf||function(v){x=this.length;while(x--&&this[x]!==v){}return x}),item:function(v){return this[v]||null},remove:function(){for(var v=0,N;v<arguments.length;v++){N=arguments[v],this.contains(N)&&G.splice.call(this,x,1)}this._.className=""+this},toggle:D,toString:function I(){return G.join.call(this,H)}},(Object.defineProperty||function(N,v,O){N.__defineGetter__(v,O.get)})(A,"classList",{get:function(){return new M(this)},set:function(){}}));try{new E.CustomEvent("?")}catch(F){E.CustomEvent=function(O,v){function P(S,Q){var R=document.createEvent(O);if(typeof S!="string"){throw new Error("An event name must be provided")}return O=="Event"&&(R.initCustomEvent=N),Q==null&&(Q=v),R.initCustomEvent(S,Q.bubbles,Q.cancelable,Q.detail),R}function N(S,Q,T,R){this.initEvent(S,Q,T),this.detail=R}return P}(E.CustomEvent?"CustomEvent":"Event",{bubbles:!1,cancelable:!1,detail:null})}})(k);
/*! (C) Andrea Giammarchi Mit Style License */
(function(at){function F(){return{w:{},l:{},m:[],b:[]}}function aa(w,v,x){typeof v=="function"?v.apply(w,x):v.handleEvent.apply(v,x)}function z(w,v,x){x!==void 0&&aw(this,"detail",x),aw(this,"type",v),aw(this,"target",w),aw(this,"timeStamp",ak())}if(at.eddy){return}at.eddy=!0;var ae=Array.prototype,aj=at.prototype,ag=z.prototype,ao=aj.hasOwnProperty,af=ae.push,ai=ae.slice,ad=ae.unshift,ax="toLocaleString",ar={toLocaleString:1}.propertyIsEnumerable(ax)?"_@eddy"+Math.random():ax,al=ar===ax,av=(at.create||at)(null),ap=[],ah=al?function(w,v,x){w[v]=x.value}:at.defineProperty,au=function(w){var v=this;return function(){return v.apply(w,arguments)}},ac=ae.indexOf||function(w){var v=this.length;while(v--&&this[v]!==w){}return v},ak=Date.now||function(){return(new Date).getTime()},aq=function(w){var v=F();return av.value=v,ah(w,ar,av),av.value=null,v},Z={boundTo:function am(A,x){var C=ao.call(this,ar)?this[ar]:aq(this),y=C.m,B=C.b,w=typeof A=="string"?typeof x===void 0||ao.call(this,A)?this[A]:this[A]=x:A,v=ac.call(y,w);return v<0?B[af.call(y,w)-1]=au.call(w,this):B[v]},emit:function Q(C){var y=ao.call(this,ar),D=y&&this[ar].l,B=y&&ao.call(D,C),A=B&&D[C].slice(0),x=B&&ai.call(arguments,1),w=0,v=B?A.length:w;while(w<v){aa(this,A[w++],x)}return B},listeners:function Y(v){return ao.call(this,ar)&&ao.call(this[ar].l,v)&&this[ar].l[v].slice()||[]},off:function I(y,v){var B=ao.call(this,ar),x=B&&this[ar].l,w=B&&ao.call(x,y)&&x[y],A;return w&&(A=ac.call(w,v),-1<A&&(w.splice(A,1),w.length||delete x[y])),this},on:function K(y,w,B){var x=ao.call(this,ar),A=(x?this[ar]:aq(this)).l,v=x&&ao.call(A,y)?A[y]:A[y]=[];return ac.call(v,w)<0&&(B?ad:af).call(v,w),this},once:function ay(y,w,A){var x=function(B){v.off(y,x,A),aa(v,w,arguments)},v=this;return v.on(y,x,A)},trigger:function V(B,N){var y=ao.call(this,ar),O=y&&this[ar].l,x=typeof B=="string",M=x?B:B.type,E=y&&ao.call(O,M),A=E&&O[M].slice(0),D=x?new z(this,M,N):B,w=0,C=E?A.length:w,H=!(D instanceof z);H&&(D._active=!0,D.stopImmediatePropagation=ag.stopImmediatePropagation),D.currentTarget=this,ap[0]=D;while(D._active&&w<C){aa(this,A[w++],ap)}return H&&(delete D._active,delete D.stopImmediatePropagation),!D.defaultPrevented},when:function(y,v){var A=ao.call(this,ar),x=(A?this[ar]:aq(this)).w,w=A&&ao.call(x,y);return w?(aa(this,v,x[y]),this):this.once(y,function(){ao.call(x,y)||(x[y]=arguments)},!0).once(y,v)}},aw=function(w,v,x){ao.call(w,v)||(w[v]=x)},ab=!1,U;ag.defaultPrevented=!1,ag._active=ag.cancelable=!0,ag.preventDefault=function(){this.defaultPrevented=!0},ag.stopImmediatePropagation=function(){this._active=!1};for(U in Z){ao.call(Z,U)&&ah(aj,U,{enumerable:!1,configurable:!0,writable:!0,value:Z[U]})}(function(w){function x(y){function A(B){B[y].apply(B,this)}return function(){return w.call(this,A,arguments),this}}for(var v in Z){Z.hasOwnProperty(v)&&!/^listeners|boundTo$/.test(v)&&ah(ae,v,{enumerable:!1,configurable:!0,writable:!0,value:x(v)})}})(ae.forEach);var J={boundTo:function(w){try{w.call(document.createElement("div"),function(){})}catch(v){aq=function(x){return x[ar]=F(),x[ar]}}return w}(Z.boundTo),data:function G(x,v){var y="dataset" in this,w;return arguments.length<2?y?x in this.dataset?this.dataset[x]:w:(v=this.getAttribute("data-"+x.replace(G.gre||(G.gre=/-[a-z]/g),G.gplace||(G.gplace=function(B,A){return A.toUpperCase()}))))==null?w:v:y?v==null?delete this.dataset[x]:(this.dataset[x]=v,v):(G.sre||(G.sre=/([a-z])([A-Z])/g,G.splace=function(B,A,C){return A+"-"+C.toLowerCase()}),x="data-"+x.replace(G.sre,G.splace),v==null?!this.removeAttribute(x):(this.setAttribute(x,v),v))},emit:function R(v){var w=new CustomEvent(v);return w.arguments=ae.slice.call(arguments,1),this.dispatchEvent(w)},listeners:function X(v){return[]},off:function(w,v,x){return this.removeEventListener(w,v,x),this},on:function(w,v,x){return this.addEventListener(w,v,x),this},once:Z.once,trigger:function an(y,w){var A=typeof y=="string",x=A?y:y.type,v=A?new CustomEvent(x,(av.detail=w,av)):y;return av.detail=null,z.call(v,this,x),this.dispatchEvent(v)},when:Z.when};av.cancelable=!0,av.bubbles=!0;try{document.createEvent("Event").target=document}catch(W){ab=!0,aw=function(x,v,y){if(!ao.call(x,v)){try{x[v]=y}catch(w){}}}}(function(E){var x=E.Window,v=x?x.prototype:E,H=(E.Node||E.Element||E.HTMLElement).prototype,w=(E.Document||E.HTMLDocument).prototype,D=(E.XMLHttpRequest||function(){}).prototype,C=function(){A.trigger("ready")},A=E.document,y,B;for(y in J){ao.call(J,y)&&(B={enumerable:!1,configurable:!0,writable:!0,value:J[y]},ah(H,y,B),y!=="data"&&(ah(v,y,B),ah(w,y,B),ah(D,y,B)))}A.when("ready",at),/loaded|complete/.test(A.readyState)?(E.setImmediate||setTimeout)(C):A.once("DOMContentLoaded",C,!0)})(k)})(Object);k.$=function(v){return function(x,w){return v.slice.call(v.concat(w||document)[0].querySelectorAll(x))}}([]);
/*! (C) Andrea Giammarchi */
;function o(O){var D=k.Math,A=D.atan,C=D.exp,B=D.log,N=D.max,J=D.min,z=D.pow,S=D.round,U=D.sqrt,Q=D.tan,H=D.PI,w=0.5,T=90,x=T*2,P=T*4,y=H/2,v=H/4,M=H/x,E=x/H,K=H*2,G=H*4;if(!O){O=256}return{coordsToPoint:function I(X,W){var V=O<<W;return{x:S((X.longitude/P+w)*V),y:S(J(1,N(0,w-(B(Q(v+y*X.latitude/x))/H)/2))*V)}},pointDistance:function F(W,V){return U(z(V.y-W.y,2)+z(V.x-W.x,2))},pointToCoords:function R(W,Y){var X=O<<Y,V=W.x/X,Z=W.y/X;return{latitude:Z<=0?T:Z>=1?-T:E*(2*A(C(H*(1-2*Z)))-y),longitude:(V===1?1:(V%1+1)%1)*P-x}}}}var p=p||function(y){var x=y.documentElement,w=y.createElement("p"),v;w.style.cssText=[";position:absolute",";margin:0",";padding:0",";display:block",";overflow:scroll",";width:50px",";line-height:50px",";font-size:50px"].join(" !important");w.innerHTML="0";x.insertBefore(w,x.lastChild);v=w.offsetWidth-w.clientWidth;x.removeChild(w);return v}(document);
/*! SimpleKinetic v0.1.1 - MIT license */
;var c=function(w){var E=w.isNaN,x=w.Math,M=x.abs,K=x.round,H=x.sqrt,D=w.setInterval,I=w.clearInterval,z=0.2,J=9,F=1000/60,C=y.prototype;function y(N){for(var O in N){if(/^on|context|interval/.test(O)){this[O]=N[O]}}}C.init=function(ab,aa,S,Q,V,T){var ac=B(this),R=(M(S)<1?0:S)*(V?1:J),X=(M(Q)<1?0:Q)*(T?1:J),P=R*R,W=X*X,O=H(P+W),N=R/O,U=X/O,Z,Y;ac.cancel(ac._cx,ac._cy);if(!(E(N)||E(U))){ac._a=D(A,ac.interval||F,ac);ac._t=0;ac._d=O;ac._sx=ac._cx=ab;ac._sy=ac._cy=aa;ac._xa=N;ac._ya=U;Z=K(ab+O*N);Y=K(aa+O*U);ac._ex=Z;ac._ey=Y;if((ab!==Z||aa!==Y)&&ac.start(ab,aa,0,0,Z,Y)!==false){return true}B(ac._a)}return false};C.start=G("start");C.move=G("move");C.end=G("end");C.cancel=function(P,N,Q,O,S,R){if(this._a){B(this).oncancel.call(this.context||this,P,N,Q,O,S,R)}};C.onstart=C.onmove=C.onend=C.oncancel=function(P,N,Q,O,S,R){};function B(N){I(N._a);N._a=0;return N}function G(N){N="on"+N;return function(Q,O,R,P,T,S){return this[N].call(this.context||this,Q,O,R,P,T,S)}}function A(O){var T=(O._t+=(O._d-O._t)*z),N=K(O._sx+T*O._xa),U=K(O._sy+T*O._ya),S=O._ex,Q=O._ey,R=N-O._cx,P=U-O._cy;if(N===S&&U===Q){B(O).end(S,Q,R,P,S,Q)}else{O.move(N,U,R,P,S,Q);O._cx=N;O._cy=U}}var v=D(function(N){I(v);if(!N){D=function(Q,P,O){return w.setInterval(function(){Q(O)},P)}}},0,1);return y}(this);function t(x,E,v,B){
/*! (C) equolo.org */
;var y=192,A=E/y,C=v||"#286868",w=x.getContext("2d");function D(F,G){w.moveTo(F*A,G*A)}function z(G,F,K,J,I,H){w.bezierCurveTo(G*A,F*A,K*A,J*A,I*A,H*A)}w.clearRect(0,0,x.width,x.height);x.width=x.height=E;if(B){w.fillStyle=B;w.fillRect(0,0,E,E)}w.fillStyle=C;w.save();w.scale(1.25,1.25);w.beginPath();D(95.32+10,10.21);z(101.05+10,7.85,108.56+10,12.68,108.09+10,19.01);z(108.39+10,25.61,100.46+10,30.49,94.67+10,27.28);z(87.81+10,24.1,88.04+10,12.79,95.32+10,10.21);w.closePath();w.fill();w.beginPath();D(67.01+10,7.48);z(72.33+10,20.59,82.54+10,31.7,95.46+10,37.57);z(104.17+10,41.72,113.89+10,43.25,123.47+10,43.1);z(108.12+10,48.29,96.34+10,60.6,88.32+10,74.31);z(79.91+10,88.85,78.34+10,106.86,83.29+10,122.84);z(72.84+10,106.64,59.08+10,91.84,41.39+10,83.57);z(30.55+10,78.74,18.41+10,76.4,6.58+10,77.64);z(24.52+10,73.08,42.99+10,65.59,54.74+10,50.61);z(64.15+10,38.49,68.55+10,22.74,67.01+10,7.48);w.closePath();w.fill();w.beginPath();D(43.22+10,119.97);z(43.75+10,102.87,43.89+10,94.92,48.72+10,89.2);z(50.5+10,93.22,49.73+10,97.67,50.54+10,101.88);z(51.34+10,107.31,53.13+10,112.93,57.29+10,116.73);z(61.3+10,121.01,68.71+10,121.41,70.94+10,127.44);z(72.27+10,133.19,66.42+10,138.03,61.08+10,138.09);z(54.7+10,138.64,49.47+10,133.66,46.69+10,128.39);z(43.41+10,122.84,43.52+10,116.2,43.22+10,109.97);w.closePath();w.fill();w.restore();return x}function j(y,G,w,D){
/*! (C) equolo.org */
;var A=64,C=G/A,E=w||"#286868",x=y.getContext("2d");function v(I,H,M,K,J){x.arc(I*C,H*C,M*C,K,J)}function B(I,H,N,M,K,J){x.bezierCurveTo(I*C,H*C,N*C,M*C,K*C,J*C)}function F(H,I){x.moveTo(H*C,I*C)}function z(H,I){x.lineTo(H*C,I*C)}x.clearRect(0,0,y.width,y.height);y.width=y.height=G;if(D){x.fillStyle=D;x.fillRect(0,0,G,G)}x.fillStyle=E;x.save();x.beginPath();F(18,12);z(26,10);B(30,16,34,16,38,10);z(48,12);z(58,20);z(52,28);z(46,24);z(46,54);z(18,54);z(18,24);z(12,28);z(6,20);z(18,12);x.closePath();x.fill();x.restore();return y}var h=function(w){var x=w.getContext("2d"),A={question:61736,"shopping-cart":61562,gift:61547,cutlery:61685,home:61461,glass:61440,briefcase:61617,group:61632,truck:61649},v={};function z(D,F,E){x.beginPath();x.arc(D,F,E,0,Math.PI*2,true);x.closePath();x.fill()}function y(E,D){x.clearRect(0,0,w.width,w.height);w.width=w.height=D;x.textBaseline="bottom";x.fillStyle="rgb(25,138,138)";z(D/2,D/2.5,D/2.5);B(D,D/4.9);x.fillStyle="rgb(240,240,240)";z(D/2,D/2.5,D/2.8);x.font=x.mozTextStyle=Math.round(D/2)+"px FontAwesome";x.fillStyle="rgb(40,104,104)";if(E.charAt(0)!="@"){x.translate((w.width-(x.measureText||x.mozMeasureText).call(x,E).width)/2,0);x.fillText(E,0,D/1.5)}else{x.drawImage((E==="@map-marker"?t:j)(document.createElement("canvas"),D/1.5),D/7,D/10)}return w.toDataURL()}function B(D,E){x.beginPath();x.moveTo(D/2,D);x.lineTo(E,D/1.5);x.lineTo(D-E,D/1.5);x.lineTo(D/2,D);x.closePath();x.fill()}return function C(F,D,E){return v[F+D+E]||(v[F+D+E]=y(A.hasOwnProperty(F)?String.fromCharCode(A[F]):"@"+F,Math.round(D*(E||(typeof s==="undefined"?1:s.ratio)))))}}(document.createElement("canvas"));function b(v){for(var x,w,z=document.createElement("canvas"),y=document.createDocumentFragment(),B=[30,57,60,72,114,128,144,173,196,214,256],A=0;A<B.length;A++){x=document.createElement("link");w=document.createElement("link");x.rel="shortcut icon";w.rel="apple-touch-icon";x.type=w.type="image/png";x.href=w.href=v(z,B[A],"#E6A72A","#286868").toDataURL();x.setAttribute("sizes",x.sizes=B[A]+"x"+B[A]);w.setAttribute("sizes",x.sizes);y.appendChild(x);y.appendChild(w)}(document.head||document.querySelector("head")).appendChild(y)}var u=localStorage;try{u.setItem("0",0);u.removeItem("0")}catch(l){u={length:0,getItem:function(y){var x=document.cookie,w=x.indexOf(y=escape(""+y)),v;if(-1<w){w+=1+y.length;v=x.indexOf(";",w);return unescape(x.substring(w,v<0?x.length:v))}},setItem:function(v,w){document.cookie=[escape(""+v)+"="+escape(""+w),"expires="+(new Date(Date.now()+1000*60*60*24)).toUTCString(),"path=/"].join("; ")}}}k.on("leaflet:map",function(C){function B(){w.panBy([F*6,D*6]);G=null;x=0;y.scrollLeft=parseFloat(y.style.width);y.scrollTop=parseFloat(y.style.height)}function z(){y.style.top=A.offsetHeight+"px";v.style.width=(parseFloat(y.style.width=s.width+"px")*3)+"px";v.style.height=(parseFloat(y.style.height=I.offsetHeight+"px")*3)+"px"}var w=C.detail,I=document.getElementById("tiles"),A=I.parentNode.children[0],y=I.parentNode.appendChild(document.createElement("div")),v=y.appendChild(document.createElement("span")),H={animate:false,noMoveStart:true},x=0,F=0,D=0,G,E;y.id="ie9-map-wrapper";v.id="ie9-map-center";s.on("change",z);v.onmouseenter=v.onmouseleave=v.onselectionstart=v.onmousedown=v.onmouseup=v.onmousemove=v.onclick=v.ondblclick=function(J){J.preventDefault();J.stopPropagation();if(J.pageX<60&&J.pageY<100){}};B();y.onscroll=function(J){if(G!=null){w.panBy([(F=y.scrollLeft-G),(D=y.scrollTop-E)],H);clearTimeout(x);x=setTimeout(B,30)}G=y.scrollLeft;E=y.scrollTop};setTimeout(z)});
/*! (C) Andrea Giammarchi - Mit Style License */
;var m=function(E){function J(O,N){var P=new XMLHttpRequest,v;P.open("get",O,!0),P.onreadystatechange=function(){if(P.readyState==4){v=P.responseXML;if(!v||!v.firstChild){v=document.createElement("div"),v.innerHTML=P.responseText}B=H(v,"font-face","units-per-em"),M=H(v,"font-face","ascent"),y=H(v,"font-face","descent"),Array.prototype.forEach.call(v.getElementsByTagName("glyph"),C,w={}),N?N(w):D()}},P.send(null)}function H(N,v,O){return parseFloat(N.getElementsByTagName(v)[0].getAttribute(O))}function D(v){Array.prototype.forEach.call((v||document).querySelectorAll(".fa"),G,w)}function A(aa,N,ab){var Z=0,X=0,T=aa.length,Q=N/B*(typeof s=="object"?s.ratio:1.5),V,R,O,U,Y,P,S,W;E.width=E.height=Math.round(Q*B),z.setTransform(1,0,0,-1,0,E.height),z.fillStyle=ab||"rgb(0,0,0)",z.globalCompositeOperation="xor";while(Z<T){W=aa[Z++],S=1;switch(W.type){case"T":S=0;case"t":z.quadraticCurveTo(Q*(Y=2*O-(Y||O)),Q*(P=2*U-(P||U)),Q*(O=O*S+W.arguments[0]),Q*(U=U*S+W.arguments[1]));break;case"Q":S=0;case"q":z.quadraticCurveTo(Q*(Y=O*S+W.arguments[0]),Q*(P=U*S+W.arguments[1]),Q*(O=O*S+W.arguments[2]),Q*(U=U*S+W.arguments[3]));break;case"L":S=0;case"l":z.lineTo(Q*(O=O*S+W.arguments[0]),Q*(U=U*S+W.arguments[1]));break;case"H":S=0;case"h":z.lineTo(Q*(O=O*S+W.arguments[0]),Q*U);break;case"V":S=0;case"v":z.lineTo(Q*O,Q*(U=U*S+W.arguments[0]));break;case"z":case"Z":z.lineTo(Q*V,Q*R),z.closePath(),z.fill();break;case"M":S=0,z.moveTo(Q*(O=V=W.arguments[0]),Q*(U=R=W.arguments[1]-y)),z.beginPath(),X=2;while(X<W.arguments.length){z.lineTo(Q*(O=W.arguments[X]),Q*(U=W.arguments[X+1])),X+=2}break;default:throw"unknown "+W.type}}}function G(P){var N=P.offsetHeight,Q=getComputedStyle(P,":before"),O=Q.getPropertyValue("content"),v=this[O.length!==1?O.charAt(1):O].size(N,Q.getPropertyValue("color"));P.parentNode.replaceChild(v,P)}function C(N,v){var O=N.getAttribute("d");O&&(this[N.getAttribute("unicode")]={size:I,path:O})}function x(O){var v=0,P=[],N;O=O.replace(x.re||(x.re=/\s*([achlmqstvzACHLMQSTVZ])\s*/g),"$1");while(v<O.length){P.push(N={}),v=F(N,O,v)}return P}function F(P,N,Q){var O=Q,v=!1;switch(P.type=N[Q]){case"z":case"Z":return Q+1}P.arguments=[];while(O++<N.length){switch(N[O]){case"A":case"a":case"C":case"c":case"H":case"h":case"L":case"l":case"M":case"m":case"Q":case"q":case"S":case"s":case"T":case"t":case"V":case"v":case"Z":case"z":v=!0;case" ":P.arguments.push(parseFloat(N.substring(Q+1,O))),Q=O;if(v){return Q}}}}function I(N,v){var O;return A(this._actions||(this._actions=x(this.path)),N,v),K?(O=E,E=document.createElement("canvas"),z=E.getContext("2d")):(O=new Image,O.src=E.toDataURL(),z.clearRect(0,0,B,B)),O.style.cssText="width:"+N+"px;height:"+N+"px;",O.className="fa-ke",O}var K=-1<navigator.userAgent.indexOf("webOSBrowser"),z=E.getContext("2d"),w,B,M,y;return J.fix=D,J}(document.createElement("canvas"));
/*! (C) Andrea Giammarchi */
;var f=function(y){function w(B,A){function z(){v.call(z);z.waiting=setTimeout(x,A,z,B,this,arguments)}if(!A){A=w.delay}z.clear=v;z.waiting=Infinity;return z}function v(){if(this.waiting!==Infinity){clearTimeout(this.waiting)}this.waiting=0}function x(A,C,B,z){A.waiting=0;C.apply(B,z)}w.delay=y;return w}(500);
/*! (C) Andrea Giammarchi */
;function o(O){var D=k.Math,A=D.atan,C=D.exp,B=D.log,N=D.max,J=D.min,z=D.pow,S=D.round,U=D.sqrt,Q=D.tan,H=D.PI,w=0.5,T=90,x=T*2,P=T*4,y=H/2,v=H/4,M=H/x,E=x/H,K=H*2,G=H*4;if(!O){O=256}return{coordsToPoint:function I(X,W){var V=O<<W;return{x:S((X.longitude/P+w)*V),y:S(J(1,N(0,w-(B(Q(v+y*X.latitude/x))/H)/2))*V)}},pointDistance:function F(W,V){return U(z(V.y-W.y,2)+z(V.x-W.x,2))},pointToCoords:function R(W,Y){var X=O<<Y,V=W.x/X,Z=W.y/X;return{latitude:Z<=0?T:Z>=1?-T:E*(2*A(C(H*(1-2*Z)))-y),longitude:(V===1?1:(V%1+1)%1)*P-x}}}}
/*! (C) Andrea Giammarchi */
;var q=(function(D,v){var J=/Android 4\.0/.test(D),H=/Android/.test(D)&&/Chrom(?:e|ium)/.test(D),K=C.prototype,M=v.abs,F=v.max,z=v.min,G=15;function C(N,O){if(!O){O=this}this._el=N;while(!N.offsetHeight){N=N.parentNode}w(this,this._r=N,true);this.disabled=false;this.onstart=O.onstart||x;this.onchange=O.onchange||x;this.onend=O.onend||x;this.onclick=O.onclick||x;if("ontouchend" in document){this._el.parentNode.style.cssText+=[";-ms-touch-action:none",";touch-action:none",";overflow:hidden"].join("")}}function x(N){}function w(N,O,P){var Q=(P?"add":"remove")+"EventListener";O[Q]("touchstart",N,true);O[Q]("touchmove",N,true);O[Q]("touchend",N,true)}K.clear=function B(){w(this,this._r,false)};K.handleEvent=function E(N){if(this._vscrolling&&N.type!=="touchend"){return}if(H){N.preventDefault()}this[N.type](N)};K.touchstart=function A(N){if(!this._scrolling){N=N.touches[0];this._x=N.pageX>>0;this._y=N.pageY>>0;this._diffY=0;this._t=0;this._l=0}};K.touchmove=function y(O){var P=O.touches[0],N=P.pageX>>0;if(this._scrolling){O.preventDefault();O.stopPropagation();O.x=N-this._diffX-this._x;if(J){this._p.style.marginLeft=F(this._m,z(0,O.x+this._l))+"px";this._e=O.x}else{this._p.scrollLeft=this._s-O.x}this.onchange(O)}else{this._diffX=N-this._x;this._diffY=P.pageY-this._y;this._vscrolling=G<=this._t++||G<=M(this._diffY);this._scrolling=!this._vscrolling&&G<=M(this._diffX);if(this._scrolling){O.preventDefault();this._p=this._el.parentNode;this._s=this._p.scrollLeft;if(J){if(!this._l){this._l=parseFloat(this._p.style.marginLeft||0);if(!this._l&&this._p.scrollLeft){this._l=-this._p.scrollLeft;this._p.scrollLeft=0;this._p.style.marginLeft=this._l+"px"}if(!this._m){this._m=this._p.clientWidth-this._p.scrollWidth}}this._s=-this._l}this.onstart(O)}}};K.touchend=function I(N){if(!N.touches.length){if(this._scrolling){N.preventDefault();this._p=null;if(J){this._l=F(this._m,z(0,this._e+this._l))}this.onend(N)}else{if(!this._vscrolling){this.onclick(N)}}this._t=0;this._scrolling=false;this._vscrolling=false}};C.compat=J;return C}(navigator.userAgent,Math));
/*! (C) Andrea Giammarchi */
(function(x,I,D){if(!((D=!!x.pointerEnabled)||x.msPointerEnabled)||"ontouchend" in I){return}var z=(D?"":"MS")+"POINTER_TYPE_MOUSE",y=function(R){return D?R.toLowerCase():"MS"+R},A=D?function(R){return R}:function(R){return R.slice(2).toLowerCase()},B=function(R,S,T){S.call(R,y(T),w,true)},K=function(R){return{value:function(){Q[R].call(this);this._[R]()}}},M=function(T,R){var S=T[R];Object.defineProperty(T,R,{configurable:true,value:function(W,V,U){if(W in C){S.call(this,C[W],w,U)}return S.call(this,W,V,U)}})},J=function(R){return{get:function(){return this._[R]}}},v=function(R,S){var T=I.createEvent("Event");T.initEvent(R,true,true);O.value=S;Object.defineProperties(T,P);S.target.dispatchEvent(T)},H=function(S){var R=S.pointerType;return(R===S[z]||R==="mouse")?"mouse":"touch"},N=function(R){return this[R]},G=function(R){return E[R]},O={value:null},Q=I.createEvent("Event"),P={_:O,touches:{configurable:true,get:function(){O.value=Object.keys(E).map(G);return Object.defineProperty(this,"touches",O).touches}},relatedTarget:J("relatedTarget"),currentTarget:J("currentTarget"),target:J("target"),altKey:J("altKey"),metaKey:J("metaKey"),ctrlKey:J("ctrlKey"),shiftKey:J("shiftKey"),preventDefault:K("preventDefault"),stopPropagation:K("stopPropagation"),stopImmediatePropagation:K("stopImmediatePropagation")},E=Object.create(null),C=Object.create(null),w={handleEvent:function(R){if(H(R)==="touch"){w[A(R.type)](R)}},pointerdown:function(R){E[R.pointerId]=new F(R);v("touchstart",R)},pointermove:function(R){E[R.pointerId]._=R;v("touchmove",R)},pointerup:function(R){delete E[R.pointerId];v("touchend",R)}};function F(R){this._=R}Object.defineProperties(F.prototype,{identifier:J("pointerId"),target:J("target"),screenX:J("screenX"),screenY:J("screenY"),clientX:J("clientX"),clientY:J("clientY"),pageX:J("pageX"),pageY:J("pageY")});C.touchstart=y("PointerDown");C.touchmove=y("PointerMove");C.touchend=y("PointerUp");M(I,"addEventListener");M(I,"removeEventListener");M(Element.prototype,"addEventListener");M(Element.prototype,"removeEventListener");I.ontouchstart=I.ontouchmove=I.ontouchend=null}(navigator,document));k.on("wp:hs-icon",function(y){var w=document.body.appendChild(document.createElement("wp")),v=document.createElement("canvas"),x=(Math.min(s.width,s.height)/2)>>0;v.style.cssText="width:"+x+"px;height:"+x+"px;";w.appendChild(t(v,x*s.ratio,"#E6A72A","#286868"));w.appendChild(document.createElement("h1")).textContent="equolo.org";w.onclick=w.remove;if(IE9Mobile){w.style.cssText=[";top:",document.documentElement.scrollTop,"px",";width:",s.width,"px",";height:",s.height,"px"].join("")}y.arguments[0].preventDefault()});k.on("wp:ffos-install",function(w){try{navigator.mozApps.install("http://equolo.org/equolo.webapp").onerror=function(){alert(":-(\n"+this.error.name)}}catch(v){}w.arguments[0].preventDefault()});function g(){if(location.href.indexOf("equolo")<0){return}k._gaq=[["_setAccount","UA-924021-6"],["_trackPageview"]];var w=document.createElement("script"),v=document.getElementsByTagName("script")[0];w.type="text/javascript";w.async=true;w.src="http://www.google-analytics.com/ga.js";v.parentNode.insertBefore(w,v)}function n(){var y="https://www.paypalobjects.com/",x=document.createDocumentFragment(),w=x.appendChild(document.createElement("input")),v=x.appendChild(document.createElement("img"));w.type="image";w.src=y+"en_US/i/btn/btn_donate_SM.gif";w.border=v.border=0;w.name="submit";w.alt="PayPal - The safer, easier way to pay online!";v.alt="";v.src=y+"de_DE/i/scr/pixel.gif";v.width=v.height=1;$("form#paypal")[0].appendChild(x)}
/*! (C) Andrea Giammarchi */
;var e=function(x,w){function v(y,A){var z=y.getContext("2d");y.width=y.height=16;z.clearRect(0,0,16,16);z.fillStyle="rgb(0,0,0)";z.font="16px '"+A+"'";z.fillText("\uf06b",0,16);return y.toDataURL()}return function(y,z){return v(x,"default",z)!==v(w,y,z)}}(document.createElement("canvas"),document.createElement("canvas"));try{if(IE9Mobile||h("?",36).length<36||/Silk/.test(navigator.userAgent)){throw 0}}catch(a){k.compat=true;h=function(v){return base64Icon[v]};(function(w,v){v=w.documentElement;v.insertBefore(w.createElement("script"),v.lastChild).src="/cgi/base64_icon.php"}(document))}(function(at,B){var G=12,O=15,az=18,R=3,aF="ontouchend" in B,ac=new o(256),aj,w,Z,aC,au,C,F,U,A,M,T,av,K,aH,aw,ap=true;B.when("ready",function(){if(IE9Mobile){m("/cgi/fontawesome-webfont.svg.php")}ao();$("noscript").forEach(function(aI){aI.remove()});an(false,true)});at.once("load",aE);function ao(){while(B.body.firstChild.id!="map"){B.body.removeChild(B.body.firstChild)}}function aE(){var aI,aM,aJ,aL,aK;if(!at.L||(!at.compat&&!e("FontAwesome","\uf06b"))){return setTimeout(aE,50)}T={map:$("section#map")[0],about:$("section#about")[0],contact:$("section#contact")[0],pinIt:$("section#pin-it")[0]};T.nav=$("nav",T.map)[0];T.placeDetails=$("div.details",T.map)[0];T.location=$("div.location",T.map)[0];T.details=[T.about,T.contact,T.pinIt];aM=$("img",T.map)[0];if(!at.compat){aK=aM.width||aM.naturalWidth;b(t);aJ=B.createElement("canvas");aJ.style.cssText="width:"+aK+"px;height:"+aK+"px;";aM.replace(t(aJ,aK*s.ratio,"#E6A72A").on("click",aa));aM=aJ;aK=20;aJ=B.createElement("canvas");aJ.style.cssText="width:"+aK+"px;height:"+aK+"px;";$("li.intro h3 > i")[0].replace(t(aJ,aK*s.ratio,"#064646"))}else{aM.on("click",aa);aJ=$("head")[0].appendChild(B.createElement("link"));aJ.rel="shortcut icon";aJ.type="image/png";aJ.href="/img/equolo-favicon.png"}if(s.height<=500){aJ=aM.cloneNode(true).on("click",aa);T.map.appendChild(aJ).classList.add("logo");if(aJ.nodeName!=="IMG"){aJ.getContext("2d").putImageData(aM.getContext("2d").getImageData(0,0,aM.width,aM.height),0,0)}}H();setTimeout(aA,Math.random()*1000);g();n();function aP(aQ,aR){if(aR.parentNode){aR.parentNode.classList.remove("selected")}aR.parentNode=aQ;aR.section=aQ.firstChild.href.split("#")[1];aQ.classList.add("selected")}Z=$("select[name=category]")[0];Z.on("change",function(){V(false);ai()});aC=[].map.call(Z.options,function(aQ){this[aQ.value]=aQ.textContent;return aQ.value},au={});aI=$("nav a").on("click",function aO(aU){var aQ=this.parentNode,aR;if(aO.sk){aO.sk.cancel()}if(aQ.classList.contains("selected")){aU.preventDefault();aO.parentNode=null;aQ.classList.remove("selected");aR=T.nav.offsetHeight;(aO.sk=new c({context:T.map,onstart:function(){aO.kinetic=true;if(ag.sk){ag.sk.cancel()}an(false);B.body.scrollTop=B.documentElement.scrollTop=0;aO.ms.display="block";if(IE9Mobile){T.nav.style.top=null}aO.np.appendChild(T.nav)},onmove:function(aV,a0,aX,aW,aZ,aY){aO.ms.minHeight=a0+"px"},onend:function(aV,a0,aX,aW,aZ,aY){aO.ms.minHeight=null;M.style.zIndex=Z.style.zIndex=9999;T.placeDetails.style.height=T.placeDetails.style._height;W();aO.kinetic=false;aO.doNotScroll=true}})).init(0,aR,0,s.height-aR,false,true)}else{if(aO.parentNode){if(IE9Mobile){aP(aQ,aO)}else{aU.preventDefault();aP(aQ,aO);setTimeout(ag,300,aQ)}}else{aU.preventDefault();aO.sk=new c({context:T.map,onstart:function(){M.style.zIndex=Z.style.zIndex=0;T.placeDetails.style._height=T.placeDetails.style.height;T.placeDetails.style.height=0;aO.doNotScroll=false;aO.kinetic=true;an(true)},onmove:function(aV,a0,aX,aW,aZ,aY){aO.ms.minHeight=a0+"px"},onend:function(){T.about.prepend(T.nav);aO.ms.display="none";setTimeout(aP,100,aO.lt,aO);setTimeout(ag,400,aO.lt);aO.kinetic=false}});if(!aO.np){aO.np=T.nav.parentNode;aO.ms=T.map.style}aO.lt=aQ;aR=T.map.offsetHeight;aO.sk.init(0,aR,0,($("footer",T.map)[0].offsetHeight-aR),false,true);if(!aO.scroll){aO.scroll=true;[B,B.documentElement,B.body].forEach(function(aV){aV.on("scroll",this).on("mousewheel",this);this.i=0},function aS(a0){if(ag.kinetic||aO.kinetic||aO.doNotScroll){return}var aZ=aw(),aX,aV,aW,aY;if(aw.el){aX="scrollTop" in this?this:aw.el;if(aX==aw.el){aV=aY=0;aW=aZ+s.height/3;while(aV<T.details.length){aX=T.details[aV++];aY+=aX.offsetHeight+8;if(aW<aY){--aV;break}}if(aV!=aS.i){aS.i=aV;aP(aI[aV].parentNode,aO)}if(IE9Mobile){T.nav.style.top=B.documentElement.scrollTop+"px"}}else{this.off("scroll",aS).off("mousewheel",aS)}}})}}}try{this.blur()}catch(aT){}});aI.some(function(aQ){if(aQ.href.split("#")[1]==this){setTimeout(aQ.trigger.bind(aQ),2000,"click");return true}},location.href.split("#")[1]);T.tiles=$("#tiles")[0];aj=S(T.tiles);F={};af(navigator.country&&navigator.country.iso2!="US"?navigator.country.geo:[49.6,6.116667],5);M=$("button#find-me")[0];if("geolocation" in navigator){M.on("click",function(aR){M.firstChild.classList.remove("fa-compass");M.firstChild.classList.add("fa-spin","fa-refresh");M.disabled=true;M.moved=false;try{if(aL){navigator.geolocation.clearWatch(aL)}aL=navigator.geolocation.watchPosition(function(aS){if(!M.moved){M.moved=true;af(aS.coords,15)}E(aS.coords);ay()},ay,{maximumAge:300000})}catch(aQ){M.remove()}M.blur()})}else{M.remove()}ak();if(u.length){X(u.getItem("equolo.activities"));aJ=u.getItem("equolo.map");if(aJ){ap=false;af.apply(null,JSON.parse(aJ))}}if(ap){$("li.intro",T.map)[0].style.cssText="display:block;margin-left:"+(aD())+"px;"}aj.on("zoomend",function aN(aQ){var aR=aj.getZoom(),aS=aN.current||0;aN.current=aR;if(aS===0||((G<=aR&&aS<G)||(aR<G&&G<=aS))){V(true);ai()}});aj.on("movestart",function(){M.moved=true;ap=false});aj.on("moveend",aJ=f(function(){var aS=aj.getZoom(),aQ=aj.getCenter(),aR;u.setItem("equolo.map",JSON.stringify([aQ,aS]))}));aj.on("movestart",aJ.clear);at.on("pagehide",y).on("unload",y);if(IE9Mobile){at.trigger("leaflet:map",aj)}}function y(){if(u.length){try{u.setItem("equolo.activities",av||"")}catch(aI){u.setItem("equolo.activities","")}}}function S(aK,aJ){var aI={attribution:'Map Tiles <a href="http://open.mapquest.com/">&copy; Open MapQuest</a>',maxZoom:az,minZoom:R},aL;aL=aJ?L.map(aK,aJ):L.map(aK);L.tileLayer("http://otile1.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.jpg",aI).addTo(aL);return aL}function ay(){M.firstChild.classList.remove("fa-spin","fa-download");M.firstChild.classList.add("fa-compass");M.disabled=false}function ad(){if(!aH){aH=K.reduce(aG,[])}return aH}function ae(aJ,aI){var aK=ac.pointDistance(ac.coordsToPoint(aJ,az),ac.coordsToPoint(aI,az));if(!("distance" in aJ)){aJ.distance=aK}if(!("distance" in aI)){aI.distance=aK}if(aJ.distance<aI.distance){if(aK<aJ.distance){aJ.distance=aK;return 1}return 0}else{if(aI.distance<aJ.distance){return -1}else{return 0}}}function ah(aI){aI.name=this.name;aI.description=this.description;aI.aid=this.id;return aI}function aG(aI,aJ){return aI.concat(aJ.place.map(ah,aJ))}function P(aP){for(var aJ,aO,aM,aN=G<=aj.getZoom(),aK=aN||{stroke:true,color:"#286868",weight:2,opacity:1,fill:true,fillColor:"#E6A72A",fillOpacity:1,radius:8,clickable:false,pointerEvents:false},aI=aP.place,aL=0;aL<aI.length;aL++){aO=aI[aL];aM=aO.icon;if(aN){aJ=D(aO);aJ.activity=aP;aJ.placeIndex=aL}else{aJ=L.circleMarker(Q(aO),aK)}F[aM].addLayer(aJ)}}function D(aJ){var aI=L.marker(Q(aJ),{icon:L.icon({iconUrl:h(aJ.icon,36),iconSize:[36,36],iconAnchor:[18,36]})});aI.on("click",J);aI.id=aJ.id;return aI}function E(aI){var aJ=Q(aI);if(!A){A=L.circleMarker(aJ,{clickable:false,pointerEvents:false});A.addTo(aj)}A.setLatLng(aJ)}function Y(){for(var aJ=Z.value,aI=1;aI<aC.length;aI++){if(aJ=="all"||aJ==aC[aI]){F[aC[aI]].addTo(aj)}}}function v(aJ){for(var aI=1;aI<aC.length;aI++){if(F.hasOwnProperty(aC[aI])){aj.removeLayer(F[aC[aI]])}if(aJ){F[aC[aI]]=L.layerGroup()}}}function al(aI){if(!this.hasOwnProperty(aI.icon)){this[aI.icon]=0}this[aI.icon]++}function ai(){if(ap){return}if(ai.moveend){aj.off("moveend",ai.moveend);aj.off("movestart",ai.moveend.clear)}$("li",T.location).forEach(function(aI){if(aI.classList.contains("place")){aI.remove()}else{aI.style.display="none"}});ai.map={};if(aj.getZoom()<G){if(ai.el){ai.el.style.width=null}ai.el=$("li.stats",T.map)[0];ai.el.style.display="block";aj.on("moveend",ai.moveend=f(function(){var aL,aK,aJ={},aI=[];ad().filter(aq,aj.getBounds()).forEach(al,aJ);for(aK in aJ){if(aJ.hasOwnProperty(aK)){aI.push('<i class="fa fa-'+aK+'"></i> '+au[aK]+" "+aJ[aK])}}aL=ai.el.childNodes[1];aL.innerHTML=aI.length?aI.join(", "):"we have nothing nothing in this area :-(<br/>do you know any activity that could be part of equolo?";ar(aL)}));aj.on("movestart",ai.moveend.clear)}else{ai.el=$("ul",T.map)[0];aj.on("moveend",ai.moveend=f(function(){var aM=ad().filter(aq,aj.getBounds()),aL=aM.length,aI=aL&&B.createDocumentFragment(),aJ=0,aK;if(!aL){return}aK=[];aM.forEach(function(aO){aK.push(aO.id);if(ai.map[aO.id]){return}var aN=this.appendChild(B.createElement("li")),aP=aN.appendChild(B.createElement("h3")),aQ=aN.appendChild(B.createElement("p"));aP.classList.add("ellipsis");aN.data("coords",aO.latitude+"/"+aO.longitude);aN.classList.add("place","t-all");aN.id="place-"+aO.id;ai.map[aO.id]=aO;aP.appendChild(B.createElement("i")).classList.add("fa","fa-"+aO.icon);aP.appendChild(B.createTextNode(" "+aO.name));aP.appendChild(B.createElement("span")).textContent=aO.postcode;aQ.appendChild(B.createTextNode(aO.description));if(!aF){aN.on("click",ax)}},aI);ai.el.appendChild(aI);aL=$("li.place",ai.el).filter(function(aN){var aO=aN.id.slice(6);if(aK.indexOf(aO)<0){delete ai.map[aO];aN.remove();return false}return true}).length;ai.el.style.width=(aL*276+aD()*2+1)+"px";ar(ai.el);if(aF&&!ai.hscroll){ai.hscroll=new q(ai.el,{onstart:function(){this.x=ai.el.scrollLeft;this.el=ax.last||$("li.place",ai.el)[0];ax.reset()},onchange:function(aN){this.x=aN.x-this.x},onend:function(aN){ax.call((this.x<0?this.el.nextElementSibling:this.el.previousElementSibling)||this.el,{})},onclick:function(aO){var aN=aO.target;while(aN&&aN.nodeName!=="LI"){aN=aN.parentNode}if(aN&&aN.nodeName==="LI"){ax.call(aN,aN)}}})}}));aj.on("movestart",ai.movestart=function(){ai.moveend.clear();ax.cancel()})}ai.moveend()}function J(){ax.call($("li#place-"+this.id)[0],{detail:false})}function z(aI){return this[aI].length}function x(aI){return this[aI]}function N(aK,aJ,aI){var aL=aI.filter(z,aJ);if(aL.length){(aK.appendChild(B.createElement("li"))).textContent=aL.map(x,aJ).join(", ")}}function aB(aK,aJ,aM,aL){var aI;if(aJ[aM]){aI=aK.lastChild.appendChild(B.createElement("a"));aI.target="_blank";aI.classList.add("social");switch(aM){case"twitter":aI.href=/^https?:\/\/(?:www.)?twitter\./.test(aJ[aM])?aJ[aM]:"https://twitter.com/"+aJ[aM].replace(/^@/,"");break;case"facebook":aI.href=/^https?:\/\/(?:www.)?facebook\./.test(aJ[aM])?aJ[aM]:"https://www.facebook.com/"+aJ[aM];break;case"gplus":aI.href=/^https?:\/\/plus\.google\./.test(aJ[aM])?aJ[aM]:"https://plus.google.com/"+aJ[aM];break}aI.appendChild(B.createElement("i")).classList.add("fa","fa-"+aL)}}function ab(aK,aJ,aM,aL){var aI;if(aJ[aM]){aI=aK.appendChild(B.createElement("li"));aI.classList.add("button");aI.appendChild(B.createElement("i")).classList.add("fa","fa-"+aL);aI=aI.appendChild(B.createElement("a"));aI.classList.add("ellipsis");switch(aM){case"phone":aI.href="tel:"+aJ[aM].replace(/[^0-9+]/g,"");break;case"email":aI.href="mailto:"+aJ[aM];break;default:aI.target="_blank";aI.href=/^https?:\/\//i.test(aJ[aM])?aJ[aM]:"http://"+aJ[aM];break}aI.textContent=aJ[aM]}}function I(aJ){var aL,aK,aI,aM;I.showing=true;if(!I.footer){I.footer=T.nav.parentNode.offsetHeight}if(!I.el){I.el=T.placeDetails}aI=T.tiles.offsetHeight;aL=I.el;aL.style.cssText="opacity:1;top:"+($("header",T.map)[0].offsetHeight)+"px;height:"+(aI<276?(aI+I.footer):aI)+"px;";if(aI<276){T.location.style.bottom=T.nav.parentNode.style.height=0}if(!w){I.h3=$("h3",aL)[0];I.info=$("ul",aL)[0];I.address=$("ul.address",aL)[0];I.contact=$("ul.contact",aL)[0];w=S($("div.minimap",aL)[0],{zoomControl:false,dragging:false,touchZoom:false,doubleClickZoom:false,scrollWheelZoom:false,boxZoom:false,keyboard:false,attributionControl:false,tap:false,fadeAnimation:false})}D(aJ).addTo(w);aM=ac.coordsToPoint(aJ,15);aM.y-=18;w.setView(Q(ac.pointToCoords(aM,15)),15);I.h3.textContent=I.address.textContent=I.contact.textContent="";I.h3.appendChild(B.createElement("i")).className="fa fa-"+aJ.icon;I.h3.appendChild(B.createTextNode(" "+aJ.name));aK=I.address;N(aK,aJ,["address","extra","postcode","city"]);ab(aK,aJ,"phone","phone");aB(aK,aJ,"twitter","twitter");ab(aK,aJ,"email","envelope");aB(aK,aJ,"facebook","facebook-square");ab(aK,aJ,"website","globe");aB(aK,aJ,"gplus","google-plus");ar(aL)}function ax(aK){try{var aM=this.data("coords").split("/"),aP=ax.last==this,aJ=this.parentNode.parentNode,aN=this.id.slice(6),aQ,aO,aI,aR}catch(aL){return}this.clicked=true;if(aP){if(I.showing){I.showing=false;I.el.style.cssText="";T.location.style.bottom=T.nav.parentNode.style.height=null}else{I(ai.map[aN])}}else{aR=aK.detail===false?Object:function(aS,aY,aU,aT,aW,aV){var aX=ax.cancel;ax.cancel=Object;af({latitude:parseFloat(aM[0]),longitude:parseFloat(aM[1])},aj.getZoom());ax.cancel=aX;if(I.showing){I(ai.map[aN])}};ax.cancel();(ax.last=this).classList.add("selected");aO=0;aQ=this.previousElementSibling;while(aQ.classList.contains("place")){aQ=aQ.previousElementSibling;aO+=276}aI=q.compat?-parseFloat(aJ.style.marginLeft||0):aJ.scrollLeft;(ax.sk=new c({onmove:function(aS,aX,aU,aT,aW,aV){if(q.compat){aJ.style.marginLeft=-aS+"px"}else{aJ.scrollLeft=aS}},onend:aR})).init(aI,0,aO-aI,0,true,false)||aR()}}ax.reset=function(){if(ax.last){ax.last.classList.remove("selected");ax.last=null}};ax.cancel=function(){if(ax.sk){ax.sk.cancel()}ax.reset()};function V(aI){v(aI);if(aI){K.forEach(P)}Y()}function X(aI){if(aI){K=JSON.parse(aI).map(am);av=aI;aH=null;V(true);ai()}}function ak(){var aI=at.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");aI.open("GET","/cgi/location.php",true);aI.onreadystatechange=function(){if(aI.readyState==4){if(199<aI.status&&aI.status<400){X(aI.responseText)}else{setTimeout(ak,5000)}}};aI.send(null)}aw=function(aJ){var aI=B.body.scrollTop?B.body:(B.documentElement.scrollTop?B.documentElement:null);if(aI){aw=function(aK){return aK==null?aI.scrollTop:(aI.scrollTop=aK)};aw.el=aI;return aw(aJ)}else{if(aJ==null){return 0}else{B.body.scrollTop=B.documentElement.scrollTop=aJ}}};function ag(aL){var aK=aL.firstChild.href.split("#")[1],aJ=T.details,aP=true,aN=0,aI=0,aM=aJ.length,aO=aw();while(aP){aP=aJ[aI].id!=aK;if(aP){aN+=aJ[aI].offsetHeight+8}aI++}if(IEMobile){aw(aN)}else{if(ag.sk){ag.sk.cancel()}(ag.sk=new c({onstart:function(){ag.kinetic=true},onmove:function(aQ,aV,aS,aR,aU,aT){aw(aV)},onend:function(aQ,aV,aS,aR,aU,aT){aw(aT);ag.kinetic=false}})).init(0,aO,0,aN-aO,false,true)}}function af(aJ,aI){aj.setView(Q(aJ),aI||Math.max(15,aj.getZoom()))}function an(aJ,aI){var aK=aJ?"remove":"add";if(aI){B.documentElement.scrollTop=0;B.body.scrollTop=0}B.documentElement.classList[aK]("no-scroll");B.body.classList[aK]("no-scroll")}function aD(){return(s.width-276)>>1}function H(){var aI=aD();i({section:{"min-height":s.height+"px"},"section#map > div.location li.place:nth-child(3)":{"margin-left":aI+"px"},"section#map > div.location li.place:last-child":{"margin-right":aI+"px"},"section#map > div.location > ul > li":{"min-height":(150-p)+"px"}});W()}function W(){if(aj){aj.invalidateSize()}if(w){w.invalidateSize()}}function aq(aI){var aJ=Z.value;return aI.icon==aJ||aJ=="all"&&this.contains(new L.LatLng(aI.latitude,aI.longitude))}function Q(aI){return[aI.latitude||aI.lat||aI[0]||0,aI.longitude||aI.lng||aI[1]||0]}function ar(aI){if(IE9Mobile){m.fix(aI)}}function aa(){s.full(!s.fullScreen);setTimeout(W,300)}at.on("go:fullscreen",function(){s.full(true)});function am(aI){aI.place=r.unpack(aI.place);return aI}function aA(){$("span.email").forEach(function(aK){var aI=B.createElement("a"),aJ=aK.textContent.split("").reverse().join("");aI.href="mailto:"+aJ;aI.textContent=aJ;aK.replace(aI)})}s.on("change",H)}(k,document))}(this));