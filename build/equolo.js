/*! )Â°(, equolo - https://github.com/equolo/equolo.org */
/*@cc_on
(function(f){
window.setTimeout=f(window.setTimeout);
window.setInterval=f(window.setInterval);
})(function(f){return function(c,t,a){a=[].slice.call(arguments,2);return f(function(){c.apply(this,a)},t)}});
@*/
var
IEMobile=/*@cc_on/\bIEMobile\b/.test(navigator.userAgent)||@*/false,
IE9Mobile=/*@cc_on(IEMobile&&@_jscript_version<10)||@*/false,
IE10Mobile=/*@cc_on(IEMobile&&@_jscript_version/10>=1)||@*/false
;
IE9Mobile&&document.write('<link rel="stylesheet" href="css/IE9Mobile.css"/><script src="js/IE9Mobile.js"></script>');(function(h){
/*! display v0.1.6 - MIT license */
;var l=function(D){var t=D.Math,x=t.abs,F=t.max,C=t.min,J=D.Infinity,r=D.screen||J,q=D.matchMedia,y="addEventListener",I=D.document.documentElement,u=/\bMobile\b/.test(navigator.userAgent),z={change:[]},E={width:0,height:0,ratio:0,on:function(K,M){z[K].push(M)}},G=z.change.forEach||function(N,K){for(var M=0;M<this.length;M++){N.call(K,this[M],M,this)}},v;function w(K){K.call(E,E.width,E.height)}function B(K){if(v){clearTimeout(v);v=0}return(!A()&&innerHeight<300)||(v=setTimeout(s,300,K))}function A(){return"orientation" in D?x(D.orientation||0)===90:!!q&&q("(orientation:landscape)").matches}function s(Q){v=0;var M=D.devicePixelRatio||1,R=A(),N=r.width,P=r.height,O=C(D.innerWidth||I.clientWidth,M<1?J:((u&&R?F(N,P):N)||J)),K=C(D.innerHeight||I.clientHeight,M<1?J:((u&&R?C(N,P):P)||J));if(O!==E.width||K!==E.height){E.width=O;E.height=K;G.call(z.change,w)}}if(y in D){D[y]("orientationchange",B,true);D[y]("resize",B,true);try{r[y]("orientationchange",B,true)}catch(H){}}else{D.attachEvent("onresize",s)}s.call(D);E.ratio=D.devicePixelRatio||r.width/E.width||(r.deviceXDPI||1)/(r.logicalXDPI||1);return E}(h);function o(z,w){
/*! (C) Andrea Giammarchi - Mit Style License */
;if(!w){w=document}w.getElementsByTagName("head")[0].appendChild(w.createElement("style")).appendChild(w.createTextNode(""));var y=w.styleSheets,v=y[y.length-1],A=v.addRule||function(B,D,C){this.insertRule(B+"{"+D+"}",C)},r=0,q,t,x,u,s;for(q in z){if(z.hasOwnProperty(q)){s=[];t=z[q];for(x in t){if(t.hasOwnProperty(x)){u=t[x];s.push("-webkit-"+x+":"+u,"-khtml-"+x+":"+u,"-blink-"+x+":"+u,"-moz-"+x+":"+u,"-ms-"+x+":"+u,"-o-"+x+":"+u,x+":"+u)}}A.call(v,q,s.join(";")+";",r++)}}}(function(s,q,r){"bind" in q||(q.bind=function(w){var v=this,u=s.slice,t=u.call(arguments,1);return function(){return v.apply(w,t.concat(u.call(arguments)))}});"trim" in r||(r.trim=function(){return this.replace(/^[^\S]+|[^\S]+$/g,"")})}(Array.prototype,Function.prototype,String.prototype));var n,b=n=function(z,s){function H(Q){for(var K=Q.length,R=x(K?Q[0]:{}),M=R.length,S=z(K*M),P=0,O=0,N,J;P<K;++P){for(J=Q[P],N=0;N<M;S[O++]=J[R[N++]]){}}return u.call([M],R,S)}function F(O){for(var P=O.length,K=O[0],J=z(((P-K-1)/K)||0),N=1+K,M=0,R,Q;N<P;){for(J[M++]=(Q={}),R=0;R<K;Q[O[++R]]=O[N++]){}}return J}function t(K){return function J(R){for(var T=this,S=R,P=0,Q=T.length,N,M,O;P<Q;++P){if(w(O=S[M=T[P]])){N=P+1;S[M]=N<Q?I.call(O,K,T.slice(N)):K(O)}S=S[M]}return R}}function v(K){return function J(S,Q){for(var N=w(S),M=u.call(r,S),R=u.call(r,Q),O=0,P=R.length;O<P;++O){M=I.call(M,K,R[O].split("."))}return N?M:M[0]}}function D(K,J){return J?y(K,J):H(K)}function q(J,K){return K?C(J,K):F(J)}function B(N,J,M,K){return G(D(N,K),J,M)}function A(K,J,M){return q(E(K,J),M)}var r=[],u=r.concat,x=Object.keys||function(M){var K=[],J;for(J in M){M.hasOwnProperty(J)&&K.push(J)}return K},w=z.isArray||(function(K,M){M=K.call(r);return function J(N){return K.call(N)==M}}({}.toString)),I=r.map||function(O,N){for(var K=this,M=K.length,J=z(M);M--;J[M]=O.call(N,K[M],M,K)){}return J},y=v(t(H)),C=v(t(F)),G=s.stringify,E=s.parse;return{pack:D,parse:A,stringify:B,unpack:q}}(Array,JSON);
/*! (C) WebReflection Mit Style License */
(function(D){function J(r){return typeof r=="string"?D.document.createTextNode(r):r}function y(M){if(M.length===1){return J(M[0])}for(var v=D.document.createDocumentFragment(),t=B.call(M),u=0;u<M.length;u++){v.appendChild(J(t[u]))}return v}for(var q,A,K,x=/^\s+|\s+$/g,I=/\s+/,G=" ",C=function(r,s){return this.contains(r)?s||this.remove(r):s&&this.add(r),!!s},z=(D.Element||D.Node||D.HTMLElement).prototype,F=["prepend",function(){var s=this.firstChild,u=y(arguments);s?this.insertBefore(u,s):this.appendChild(u)},"append",function(){this.appendChild(y(arguments))},"before",function(){var r=this.parentNode;r&&r.insertBefore(y(arguments),this)},"after",function(){var u=this.parentNode,v=this.nextSibling,s=y(arguments);u&&(v?u.insertBefore(s,v):u.appendChild(s))},"replace",function(){var r=this.parentNode;r&&r.replaceChild(y(arguments),this)},"remove",function(){var r=this.parentNode;r&&r.removeChild(this)}],B=F.slice,w=F.length;w;w-=2){q=F[w-2],q in z||(z[q]=F[w-1])}"classList" in document.documentElement?(K=document.createElement("div").classList,K.add("a","b"),"a b"!=K&&(z=K.constructor.prototype,"add" in z||(z=D.DOMTokenList.prototype),A=function(r){return function(){var s=0;while(s<arguments.length){r.call(this,arguments[s++])}}},z.add=A(z.add),z.remove=A(z.remove),z.toggle=C)):(A=function(r){if(!r){throw"SyntaxError"}if(I.test(r)){throw"InvalidCharacterError"}return r},K=function(s){var r=s.className.replace(x,"");r.length&&F.push.apply(this,r.split(I)),this._=s},K.prototype={length:0,add:function(){for(var r=0,s;r<arguments.length;r++){s=arguments[r],this.contains(s)||F.push.call(this,q)}this._.className=""+this},contains:function(r){return function(s){return w=r.call(this,q=A(s)),-1<w}}([].indexOf||function(r){w=this.length;while(w--&&this[w]!==r){}return w}),item:function(r){return this[r]||null},remove:function(){for(var r=0,s;r<arguments.length;r++){s=arguments[r],this.contains(s)&&F.splice.call(this,w,1)}this._.className=""+this},toggle:C,toString:function H(){return F.join.call(this,G)}},(Object.defineProperty||function(s,r,u){s.__defineGetter__(r,u.get)})(z,"classList",{get:function(){return new K(this)},set:function(){}}));try{new D.CustomEvent("?")}catch(E){D.CustomEvent=function(v,s){function M(N,r){var t=document.createEvent(v);if(typeof N!="string"){throw new Error("An event name must be provided")}return v=="Event"&&(t.initCustomEvent=u),r==null&&(r=s),t.initCustomEvent(N,r.bubbles,r.cancelable,r.detail),t}function u(P,N,Q,O){this.initEvent(P,N,Q),this.detail=O}return M}(D.CustomEvent?"CustomEvent":"Event",{bubbles:!1,cancelable:!1,detail:null})}})(h);
/*! (C) Andrea Giammarchi Mit Style License */
(function(ab){function I(){return{l:{},m:[],b:[]}}function z(s){var r=I();return ad.value=r,P(s,aa,ad),ad.value=null,r}function D(s,r,u){typeof r=="function"?r.apply(s,u):r.handleEvent.apply(r,u)}function q(s,r,u){u&&B(this,"detail",u),B(this,"type",r),B(this,"target",s),B(this,"timeStamp",U())}if(ab.eddy){return}ab.eddy=!0;var J=Array.prototype,R=ab.prototype,O=q.prototype,X=R.hasOwnProperty,K=J.push,Q=J.slice,H=J.unshift,af="toLocaleString",aa={toLocaleString:1}.propertyIsEnumerable(af)?"_@eddy"+Math.random():af,V=aa===af,ad=(ab.create||ab)(null),Y=[],P=V?function(s,r,u){s[r]=u.value}:ab.defineProperty,ac=function(s){var r=this;return function(){return r.apply(s,arguments)}},G=J.indexOf||function(s){var r=this.length;while(r--&&this[r]!==s){}return r},U=Date.now||function(){return(new Date).getTime()},Z={boundTo:function(w){var C=X.call(this,aa)?this[aa]:z(this),x=C.m,y=C.b,v=typeof w=="string"?this[w]:w,s=G.call(x,v);return s<0?y[K.call(x,v)-1]=ac.call(v,this):y[s]},emit:function(y){var S=X.call(this,aa),E=S&&this[aa].l,C=S&&X.call(E,y),x=C&&E[y],w=C&&Q.call(arguments,1),v=0,N=C?x.length:v;while(v<N){D(this,x[v++],w)}return C},listeners:function(r){return X.call(this,aa)&&X.call(this[aa].l,r)&&this[aa].l[r].slice()||[]},off:function(w,E){var y=X.call(this,aa),x=y&&this[aa].l,C=y&&X.call(x,w)&&x[w],v;return C&&(v=G.call(C,E),-1<v&&(C.splice(v,1),C.length||delete x[w])),this},on:function(v,y,w){var x=X.call(this,aa),u=(x?this[aa]:z(this)).l,s=x&&X.call(u,v)?u[v]:u[v]=[];return G.call(s,y)<0&&(w?H:K).call(s,y),this},once:function(v,y,x){var u=function(r){w.off(v,u,x),D(w,y,arguments)},w=this;return w.on(v,u,x)},trigger:function(ah,x){var ai=X.call(this,aa),w=ai&&this[aa].l,ag=typeof ah=="string",S=ag?ah:ah.type,C=ai&&X.call(w,S),N=C&&w[S].slice(0),r=ag?new q(this,S,x):ah,E=0,T=C?N.length:E,y=!(r instanceof q);y&&(r._active=!0,r.stopImmediatePropagation=O.stopImmediatePropagation),r.currentTarget=this,Y[0]=r;while(r._active&&E<T){D(this,N[E++],Y)}return y&&(delete r._active,delete r.stopImmediatePropagation),!r.defaultPrevented}},B=function(s,r,u){X.call(s,r)||(s[r]=u)},ae=!1,F;O.defaultPrevented=!1,O._active=O.cancelable=!0,O.preventDefault=function(){this.defaultPrevented=!0},O.stopImmediatePropagation=function(){this._active=!1};for(F in Z){X.call(Z,F)&&P(R,F,{enumerable:!1,configurable:!0,writable:!0,value:Z[F]})}(function(t){function u(r){function v(w){w[r].apply(w,this)}return function(){return t.call(this,v,arguments),this}}for(var s in Z){Z.hasOwnProperty(s)&&!/^listeners|boundTo$/.test(s)&&P(J,s,{enumerable:!1,configurable:!0,writable:!0,value:u(s)})}})(J.forEach);var A={boundTo:Z.boundTo,data:function W(s,r){var u="dataset" in this;return arguments.length<2?u?this.dataset[s]:(r=this.getAttribute("data-"+s.replace(W.gre||(W.gre=/-[a-z]/g),W.gplace||(W.gplace=function(w,v){return v.toUpperCase()}))))==null?void 0:r:u?r==null?delete this.dataset[s]:(this.dataset[s]=r,r):(W.sre||(W.sre=/([a-z])([A-Z])/g,W.splace=function(w,v,x){return v+"-"+x.toLowerCase()}),s="data-"+s.replace(W.sre,W.splace),r==null?!this.removeAttribute(s):(this.setAttribute(s,r),r))},emit:function(t){var s=new CustomEvent(t);return s.arguments=J.slice.call(arguments,1),this.dispatchEvent(s)},listeners:function(r){return[]},off:function(s,r,u){return this.removeEventListener(s,r,u),this},on:function(s,r,u){return this.addEventListener(s,r,u),this},once:Z.once,trigger:function(v,y){var x=typeof v=="string",u=x?v:v.type,w=x?new CustomEvent(u,(ad.detail=y,ad)):v;return ad.detail=null,q.call(w,this,u),this.dispatchEvent(w)}};ad.cancelable=!0,ad.bubbles=!0;try{document.createEvent("Event").target=document}catch(M){ae=!0,B=function(v,s,w){if(!X.call(v,s)){try{v[s]=w}catch(u){}}}}(function(E){var x=E.Window,S=x?x.prototype:E,C=(E.Node||E.Element||E.HTMLElement).prototype,y=(E.Document||E.HTMLDocument).prototype,N=(E.XMLHttpRequest||function(){}).prototype,w,v;for(w in A){X.call(A,w)&&(v={enumerable:!1,configurable:!0,writable:!0,value:A[w]},P(S,w,v),P(C,w,v),P(y,w,v),w!=="data"&&P(N,w,v))}})(h)})(Object);h.$=function(q){return function(s,r){return q.slice.call(q.concat(r||document)[0].querySelectorAll(s))}}([]);
/*! (C) Andrea Giammarchi */
;function i(I){var y=h.Math,v=y.atan,x=y.exp,w=y.log,H=y.max,E=y.min,u=y.pow,N=y.round,P=y.sqrt,K=y.tan,C=y.PI,r=0.5,O=90,s=O*2,J=O*4,t=C/2,q=C/4,G=C/s,z=s/C,F=C*2,B=C*4;if(!I){I=256}return{coordsToPoint:function D(S,R){var Q=I<<R;return{x:N((S.longitude/J+r)*Q),y:N(E(1,H(0,r-(w(K(q+t*S.latitude/s))/C)/2))*Q)}},pointDistance:function A(R,Q){return P(u(Q.y-R.y,2)+u(Q.x-R.x,2))},pointToCoords:function M(R,T){var S=I<<T,Q=R.x/S,U=R.y/S;return{latitude:U<=0?O:U>=1?-O:z*(2*v(x(C*(1-2*U)))-t),longitude:(Q===1?1:(Q%1+1)%1)*J-s}}}}var m=m||function(u){var t=u.documentElement,s=u.createElement("p"),q;s.style.cssText=[";position:absolute",";margin:0",";padding:0",";display:block",";overflow:scroll",";width:50px",";line-height:50px",";font-size:50px"].join(" !important");s.innerHTML="0";t.insertBefore(s,t.lastChild);q=s.offsetWidth-s.clientWidth;t.removeChild(s);return q}(document);
/*! SimpleKinetic v0.1.1 - MIT license */
;var c=function(r){var z=r.isNaN,s=r.Math,G=s.abs,F=s.round,C=s.sqrt,y=r.setInterval,D=r.clearInterval,u=0.2,E=9,A=1000/60,x=t.prototype;function t(H){for(var I in H){if(/^on|context|interval/.test(I)){this[I]=H[I]}}}x.init=function(W,V,N,K,Q,O){var X=w(this),M=(G(N)<1?0:N)*(Q?1:E),S=(G(K)<1?0:K)*(O?1:E),J=M*M,R=S*S,I=C(J+R),H=M/I,P=S/I,U,T;X.cancel(X._cx,X._cy);if(!(z(H)||z(P))){X._a=y(v,X.interval||A,X);X._t=0;X._d=I;X._sx=X._cx=W;X._sy=X._cy=V;X._xa=H;X._ya=P;U=F(W+I*H);T=F(V+I*P);X._ex=U;X._ey=T;if((W!==U||V!==T)&&X.start(W,V,0,0,U,T)!==false){return true}w(X._a)}return false};x.start=B("start");x.move=B("move");x.end=B("end");x.cancel=function(J,H,K,I,N,M){if(this._a){w(this).oncancel.call(this.context||this,J,H,K,I,N,M)}};x.onstart=x.onmove=x.onend=x.oncancel=function(J,H,K,I,N,M){};function w(H){D(H._a);H._a=0;return H}function B(H){H="on"+H;return function(K,I,M,J,O,N){return this[H].call(this.context||this,K,I,M,J,O,N)}}function v(I){var O=(I._t+=(I._d-I._t)*u),H=F(I._sx+O*I._xa),P=F(I._sy+O*I._ya),N=I._ex,K=I._ey,M=H-I._cx,J=P-I._cy;if(H===N&&P===K){w(I).end(N,K,M,J,N,K)}else{I.move(H,P,M,J,N,K);I._cx=H;I._cy=P}}var q=y(function(H){D(q);if(!H){y=function(K,J,I){return r.setInterval(function(){K(I)},J)}}},0,1);return t}(this);function a(s,z,q,w){
/*! (C) equolo.org */
;var t=192,v=z/t,x=q||"#286868",r=s.getContext("2d");function y(A,B){r.moveTo(A*v,B*v)}function u(B,A,F,E,D,C){r.bezierCurveTo(B*v,A*v,F*v,E*v,D*v,C*v)}r.clearRect(0,0,s.width,s.height);s.width=s.height=z;if(w){r.fillStyle=w;r.fillRect(0,0,z,z)}r.fillStyle=x;r.save();r.scale(1.25,1.25);r.beginPath();y(95.32+10,10.21);u(101.05+10,7.85,108.56+10,12.68,108.09+10,19.01);u(108.39+10,25.61,100.46+10,30.49,94.67+10,27.28);u(87.81+10,24.1,88.04+10,12.79,95.32+10,10.21);r.closePath();r.fill();r.beginPath();y(67.01+10,7.48);u(72.33+10,20.59,82.54+10,31.7,95.46+10,37.57);u(104.17+10,41.72,113.89+10,43.25,123.47+10,43.1);u(108.12+10,48.29,96.34+10,60.6,88.32+10,74.31);u(79.91+10,88.85,78.34+10,106.86,83.29+10,122.84);u(72.84+10,106.64,59.08+10,91.84,41.39+10,83.57);u(30.55+10,78.74,18.41+10,76.4,6.58+10,77.64);u(24.52+10,73.08,42.99+10,65.59,54.74+10,50.61);u(64.15+10,38.49,68.55+10,22.74,67.01+10,7.48);r.closePath();r.fill();r.beginPath();y(43.22+10,119.97);u(43.75+10,102.87,43.89+10,94.92,48.72+10,89.2);u(50.5+10,93.22,49.73+10,97.67,50.54+10,101.88);u(51.34+10,107.31,53.13+10,112.93,57.29+10,116.73);u(61.3+10,121.01,68.71+10,121.41,70.94+10,127.44);u(72.27+10,133.19,66.42+10,138.03,61.08+10,138.09);u(54.7+10,138.64,49.47+10,133.66,46.69+10,128.39);u(43.41+10,122.84,43.52+10,116.2,43.22+10,109.97);r.closePath();r.fill();r.restore();return s}var k=function(r){var s=r.getContext("2d"),v={question:61736,"shopping-cart":61562,gift:61547,cutlery:61685,home:61461,glass:61440,briefcase:61617,group:61632,truck:61649},q={};function u(z,B,A){s.beginPath();s.arc(z,B,A,0,Math.PI*2,true);s.closePath();s.fill()}function t(z,y){s.clearRect(0,0,r.width,r.height);r.width=r.height=y;s.textBaseline="bottom";s.fillStyle="rgb(25,138,138)";u(y/2,y/2.5,y/2.5);w(y,y/4.9);s.fillStyle="rgb(240,240,240)";u(y/2,y/2.5,y/2.8);s.font=s.mozTextStyle=Math.round(y/2)+"px FontAwesome";s.translate((r.width-(s.measureText||s.mozMeasureText).call(s,z).width)/2,0);s.fillStyle="rgb(40,104,104)";if(z.length){s.fillText(z,0,y/1.5)}else{s.drawImage(a(document.createElement("canvas"),y/1.5),-y/2.8,y/10)}return r.toDataURL()}function w(y,z){s.beginPath();s.moveTo(y/2,y);s.lineTo(z,y/1.5);s.lineTo(y-z,y/1.5);s.lineTo(y/2,y);s.closePath();s.fill()}return function x(A,y,z){return q[A+y+z]||(q[A+y+z]=t(v.hasOwnProperty(A)?String.fromCharCode(v[A]):"",Math.round(y*(z||(typeof l==="undefined"?1:l.ratio)))))}}(document.createElement("canvas"));var f=localStorage;try{f.setItem("0",0);f.removeItem("0")}catch(e){f={length:0,getItem:function(t){var s=document.cookie,r=s.indexOf(t=escape(""+t)),q;if(-1<r){r+=1+t.length;q=s.indexOf(";",r);return unescape(s.substring(r,q<0?s.length:q))}},setItem:function(q,r){document.cookie=[escape(""+q)+"="+escape(""+r),"expires="+(new Date(Date.now()+1000*60*60*24)).toUTCString(),"path=/"].join("; ")}}}h.on("leaflet:map",function(x){function w(){r.panBy([A*6,y*6]);B=null;s=0;t.scrollLeft=parseFloat(t.style.width);t.scrollTop=parseFloat(t.style.height)}function u(){t.style.top=v.offsetHeight+"px";q.style.width=(parseFloat(t.style.width=l.width+"px")*3)+"px";q.style.height=(parseFloat(t.style.height=D.offsetHeight+"px")*3)+"px"}var r=x.detail,D=document.getElementById("tiles"),v=D.parentNode.children[0],t=D.parentNode.appendChild(document.createElement("div")),q=t.appendChild(document.createElement("span")),C={animate:false,noMoveStart:true},s=0,A=0,y=0,B,z;t.id="ie9-map-wrapper";q.id="ie9-map-center";l.on("change",u);q.onmouseenter=q.onmouseleave=q.onselectionstart=q.onmousedown=q.onmouseup=q.onmousemove=q.onclick=q.ondblclick=function(E){E.preventDefault();E.stopPropagation();if(E.pageX<60&&E.pageY<100){}};w();t.onscroll=function(E){if(B!=null){r.panBy([(A=t.scrollLeft-B),(y=t.scrollTop-z)],C);clearTimeout(s);s=setTimeout(w,30)}B=t.scrollLeft;z=t.scrollTop};setTimeout(u)});
/*! (C) Andrea Giammarchi - Mit Style License */
;var d=function(C){function w(u,r){var J=new XMLHttpRequest,s;J.open("get",u,!0),J.onreadystatechange=function(){J.readyState==4&&(s=J.responseXML,s.firstChild||(s=document.createElement("div"),s.innerHTML=J.responseText),q=G(s,"font-face","units-per-em"),z=G(s,"font-face","ascent"),I=G(s,"font-face","descent"),Array.prototype.forEach.call(s.getElementsByTagName("glyph"),E,x={}),r?r(x):F())},J.send(null)}function G(s,r,u){return parseFloat(s.getElementsByTagName(r)[0].getAttribute(u))}function F(r){Array.prototype.forEach.call((r||document).querySelectorAll(".fa"),y,x)}function B(t,M,s){var V=0,T=0,P=t.length,K=M/q*(typeof l=="object"?l.ratio:1.5),R,N,r,Q,U,J,O,S;C.width=C.height=Math.round(K*q),H.translate(0,C.height),H.scale(1,-1),H.fillStyle=s||"rgb(0,0,0)",H.globalCompositeOperation="xor";while(V<P){S=t[V++],O=1;switch(S.type){case"T":O=0;case"t":H.quadraticCurveTo(K*(U=2*r-(U||r)),K*(J=2*Q-(J||Q)),K*(r=r*O+S.arguments[0]),K*(Q=Q*O+S.arguments[1]));break;case"Q":O=0;case"q":H.quadraticCurveTo(K*(U=r*O+S.arguments[0]),K*(J=Q*O+S.arguments[1]),K*(r=r*O+S.arguments[2]),K*(Q=Q*O+S.arguments[3]));break;case"L":O=0;case"l":H.lineTo(K*(r=r*O+S.arguments[0]),K*(Q=Q*O+S.arguments[1]));break;case"H":O=0;case"h":H.lineTo(K*(r=r*O+S.arguments[0]),K*Q);break;case"V":O=0;case"v":H.lineTo(K*r,K*(Q=Q*O+S.arguments[0]));break;case"z":case"Z":H.lineTo(K*R,K*N),H.closePath(),H.fill();break;case"M":O=0,H.moveTo(K*(r=R=S.arguments[0]),K*(Q=N=S.arguments[1]-I)),H.beginPath(),T=2;while(T<S.arguments.length){H.lineTo(K*(r=S.arguments[T]),K*(Q=S.arguments[T+1])),T+=2}break;default:throw"unknown "+S.type}}}function y(K){var u=K.offsetHeight,M=getComputedStyle(K,":before"),J=M.getPropertyValue("content"),s=this[J.length!==1?J.charAt(1):J].size(u,M.getPropertyValue("color"));K.parentNode.replaceChild(s,K)}function E(s,r){var u=s.getAttribute("d");u&&(this[s.getAttribute("unicode")]={size:D,path:u})}function A(J){var s=0,K=[],u;J=J.replace(A.re||(A.re=/\s*([achlmqstvzACHLMQSTVZ])\s*/g),"$1");while(s<J.length){K.push(u={}),s=v(u,J,s)}return K}function v(K,u,M){var J=M,s=!1;switch(K.type=u[M]){case"z":case"Z":return M+1}K.arguments=[];while(J++<u.length){switch(u[J]){case"A":case"a":case"C":case"c":case"H":case"h":case"L":case"l":case"M":case"m":case"Q":case"q":case"S":case"s":case"T":case"t":case"V":case"v":case"Z":case"z":s=!0;case" ":K.arguments.push(parseFloat(u.substring(M+1,J))),M=J;if(s){return M}}}}function D(u,r){var t=new Image;return B(this._actions||(this._actions=A(this.path)),u,r),t.src=C.toDataURL(),t.style.cssText="width:"+u+"px;height:"+u+"px;",H.clearRect(0,0,q,q),t}var H=C.getContext("2d"),x,q,z,I;return w.fix=F,w}(document.createElement("canvas"));
/*! (C) Andrea Giammarchi */
;var p=function(t){function r(x,w){if(!w){w=r.delay}function v(){u();v._=setTimeout(s,w,x,this,arguments,v)}function u(){clearTimeout(v._)}v.clear=u;v._=0;return v}function q(){clearTimeout(this._);this._=0;return this}function s(x,w,v,u){u._=0;x.apply(w,v)}r.delay=t;return r}(500);
/*! (C) Andrea Giammarchi */
;function i(I){var y=h.Math,v=y.atan,x=y.exp,w=y.log,H=y.max,E=y.min,u=y.pow,N=y.round,P=y.sqrt,K=y.tan,C=y.PI,r=0.5,O=90,s=O*2,J=O*4,t=C/2,q=C/4,G=C/s,z=s/C,F=C*2,B=C*4;if(!I){I=256}return{coordsToPoint:function D(S,R){var Q=I<<R;return{x:N((S.longitude/J+r)*Q),y:N(E(1,H(0,r-(w(K(q+t*S.latitude/s))/C)/2))*Q)}},pointDistance:function A(R,Q){return P(u(Q.y-R.y,2)+u(Q.x-R.x,2))},pointToCoords:function M(R,T){var S=I<<T,Q=R.x/S,U=R.y/S;return{latitude:U<=0?O:U>=1?-O:z*(2*v(x(C*(1-2*U)))-t),longitude:(Q===1?1:(Q%1+1)%1)*J-s}}}}
/*! (C) Andrea Giammarchi */
;var g=(function(y,q){var E=/Android 4\.0/.test(y),C=/Android/.test(y)&&/Chrom(?:e|ium)/.test(y),F=x.prototype,G=q.abs,A=q.max,u=q.min,B=15;function x(H,I){if(!I){I=this}this._el=H;while(!H.offsetHeight){H=H.parentNode}r(this,this._r=H,true);this.disabled=false;this.onstart=I.onstart||s;this.onchange=I.onchange||s;this.onend=I.onend||s;this.onclick=I.onclick||s;if("ontouchend" in document){this._el.parentNode.style.cssText+=[";-ms-touch-action:none",";touch-action:none",";overflow:hidden"].join("")}}function s(H){}function r(H,I,J){var K=(J?"add":"remove")+"EventListener";I[K]("touchstart",H,true);I[K]("touchmove",H,true);I[K]("touchend",H,true)}F.clear=function w(){r(this,this._r,false)};F.handleEvent=function z(H){if(this._vscrolling&&H.type!=="touchend"){return}if(C){H.preventDefault()}this[H.type](H)};F.touchstart=function v(H){if(!this._scrolling){H=H.touches[0];this._x=H.pageX>>0;this._y=H.pageY>>0;this._diffY=0;this._t=0;this._l=0}};F.touchmove=function t(I){var J=I.touches[0],H=J.pageX>>0;if(this._scrolling){I.preventDefault();I.stopPropagation();I.x=H-this._diffX-this._x;this._p.scrollLeft=this._s-I.x;if(E){this._p.style.marginLeft=A(this._m,u(0,I.x+this._l))+"px";this._e=I.x}this.onchange(I)}else{this._diffX=H-this._x;this._diffY=J.pageY-this._y;this._vscrolling=B<=this._t++||B<=G(this._diffY);this._scrolling=!this._vscrolling&&B<=G(this._diffX);if(this._scrolling){I.preventDefault();this._p=this._el.parentNode;this._s=this._p.scrollLeft;if(E){if(!this._l){this._l=parseFloat(this._p.style.marginLeft||0);this._m=this._p.clientWidth-this._p.scrollWidth}this._s=-this._l}this.onstart(I)}}};F.touchend=function D(H){if(!H.touches.length){if(this._scrolling){H.preventDefault();this._p=null;if(E){this._l=A(this._m,u(0,this._e+this._l))}this.onend(H)}else{if(!this._vscrolling){this.onclick(H)}}this._t=0;this._scrolling=false;this._vscrolling=false}};x.compat=E;return x}(navigator.userAgent,Math));
/*! (C) Andrea Giammarchi */
(function(s,D,y){if(!((y=!!s.pointerEnabled)||s.msPointerEnabled)||"ontouchend" in D){return}var u=(y?"":"MS")+"POINTER_TYPE_MOUSE",t=function(M){return y?M.toLowerCase():"MS"+M},v=y?function(M){return M}:function(M){return M.slice(2).toLowerCase()},w=function(M,N,O){N.call(M,t(O),r,true)},F=function(M){return{value:function(){K[M].call(this);this._[M]()}}},G=function(O,M){var N=O[M];Object.defineProperty(O,M,{configurable:true,value:function(R,Q,P){if(R in x){N.call(this,x[R],r,P)}return N.call(this,R,Q,P)}})},E=function(M){return{get:function(){return this._[M]}}},q=function(M,N){var O=D.createEvent("Event");O.initEvent(M,true,true);I.value=N;Object.defineProperties(O,J);N.target.dispatchEvent(O)},C=function(N){var M=N.pointerType;return(M===N[u]||M==="mouse")?"mouse":"touch"},H=function(M){return this[M]},B=function(M){return z[M]},I={value:null},K=D.createEvent("Event"),J={_:I,touches:{configurable:true,get:function(){I.value=Object.keys(z).map(B);return Object.defineProperty(this,"touches",I).touches}},relatedTarget:E("relatedTarget"),currentTarget:E("currentTarget"),target:E("target"),altKey:E("altKey"),metaKey:E("metaKey"),ctrlKey:E("ctrlKey"),shiftKey:E("shiftKey"),preventDefault:F("preventDefault"),stopPropagation:F("stopPropagation"),stopImmediatePropagation:F("stopImmediatePropagation")},z=Object.create(null),x=Object.create(null),r={handleEvent:function(M){if(C(M)==="touch"){r[v(M.type)](M)}},pointerdown:function(M){z[M.pointerId]=new A(M);q("touchstart",M)},pointermove:function(M){z[M.pointerId]._=M;q("touchmove",M)},pointerup:function(M){delete z[M.pointerId];q("touchend",M)}};function A(M){this._=M}Object.defineProperties(A.prototype,{identifier:E("pointerId"),target:E("target"),screenX:E("screenX"),screenY:E("screenY"),clientX:E("clientX"),clientY:E("clientY"),pageX:E("pageX"),pageY:E("pageY")});x.touchstart=t("PointerDown");x.touchmove=t("PointerMove");x.touchend=t("PointerUp");G(D,"addEventListener");G(D,"removeEventListener");G(Element.prototype,"addEventListener");G(Element.prototype,"removeEventListener");D.ontouchstart=D.ontouchmove=D.ontouchend=null}(navigator,document));try{if(IE9Mobile||k("?",36).length<36){throw 0}}catch(j){h.compat=true;k=function(q){return base64Icon[q]};(function(r,q){q=r.documentElement;q.insertBefore(r.createElement("script"),q.lastChild).src="/cgi/base64_icon.php"}(document))}(function(al,w){var B=12,I=15,ar=18,M=3,ax="ontouchend" in w,V=new i(256),ac,r,T,au,am,x,A,P,v,G,O,an,F,az,ao,ai=true;al.onDOM(function(){if(IE9Mobile){d("../fonts/fontawesome-webfont.svg")}ah();$("noscript").forEach(function(aA){aA.remove()});ag(false)});al.onLoad(aw);function ah(){while(w.body.firstChild.id!="map"){w.body.removeChild(w.body.firstChild)}}function aw(){var aA,aE,aC,aD;if(!al.L){return setTimeout(aw,15)}O={map:$("section#map")[0],about:$("section#about")[0],contact:$("section#contact")[0],pinIt:$("section#pin-it")[0]};O.nav=$("nav",O.map)[0];O.placeDetails=$("div.details",O.map)[0];O.location=$("div.location",O.map)[0];O.details=[O.about,O.contact,O.pinIt];if(!al.compat){aB();aE=$("section#map img")[0];aC=w.createElement("canvas");aC.style.cssText="width:"+aE.width+"px;height:"+aE.height+"px;";aE.replace(a(aC,aE.width*l.ratio,"#E6A72A"));aC=w.createElement("canvas");aC.style.cssText="width:"+20+"px;height:"+20+"px;";$("li.intro h3 > i")[0].replace(a(aC,20*l.ratio,"#064646"))}C();if(l.height<=500){O.map.appendChild($(al.compat?"img":"canvas",O.map)[0]).classList.add("logo")}function aB(){for(var aJ,aI,aL=w.createElement("canvas"),aK=w.createDocumentFragment(),aN=[30,57,60,72,114,128,144,173,196,214,256],aM=0;aM<aN.length;aM++){aJ=w.createElement("link");aI=w.createElement("link");aJ.rel="shortcut icon";aI.rel="apple-touch-icon";aJ.type=aI.type="image/png";aJ.href=aI.href=a(aL,aN[aM],"#E6A72A","#286868").toDataURL();aJ.setAttribute("sizes",aJ.sizes=aN[aM]+"x"+aN[aM]);aI.setAttribute("sizes",aJ.sizes);aK.appendChild(aJ);aK.appendChild(aI)}(w.head||w.querySelector("head")).appendChild(aK)}function aH(aI,aJ){if(aJ.parentNode){aJ.parentNode.classList.remove("selected")}aJ.parentNode=aI;aJ.section=aI.firstChild.href.split("#")[1];aI.classList.add("selected")}T=$("select[name=category]")[0];T.on("change",function(){Q(false);ab()});au=[].map.call(T.options,function(aI){this[aI.value]=aI.textContent;return aI.value},am={});aA=$("nav a").on("click",function aG(aM){var aI=this.parentNode,aJ;if(aG.sk){aG.sk.cancel()}if(aI.classList.contains("selected")){aM.preventDefault();aG.parentNode=null;aI.classList.remove("selected");aJ=O.nav.offsetHeight;(aG.sk=new c({context:O.map,onstart:function(){aG.kinetic=true;if(Z.sk){Z.sk.cancel()}ag(false);w.body.scrollTop=w.documentElement.scrollTop=0;aG.ms.display="block";aG.np.appendChild(O.nav)},onmove:function(aN,aS,aP,aO,aR,aQ){aG.ms.minHeight=aS+"px"},onend:function(aN,aS,aP,aO,aR,aQ){aG.ms.minHeight=null;G.style.zIndex=T.style.zIndex=9999;O.placeDetails.style.height=O.placeDetails.style._height;ac.invalidateSize();aG.kinetic=false;aG.doNotScroll=true}})).init(0,aJ,0,l.height-aJ,false,true)}else{if(aG.parentNode){if(IE9Mobile){aH(aI,aG)}else{aM.preventDefault();aH(aI,aG);setTimeout(Z,300,aI)}}else{aM.preventDefault();aG.sk=new c({context:O.map,onstart:function(){G.style.zIndex=T.style.zIndex=0;O.placeDetails.style._height=O.placeDetails.style.height;O.placeDetails.style.height=0;aG.doNotScroll=false;aG.kinetic=true;ag(true)},onmove:function(aN,aS,aP,aO,aR,aQ){aG.ms.minHeight=aS+"px"},onend:function(){O.about.prepend(O.nav);aG.ms.display="none";setTimeout(aH,50,aG.lt,aG);setTimeout(Z,350,aG.lt);aG.kinetic=false}});if(!aG.np){aG.np=O.nav.parentNode;aG.ms=O.map.style}aG.lt=aI;aJ=O.map.offsetHeight;aG.sk.init(0,aJ,0,($("footer",O.map)[0].offsetHeight-aJ),false,true);if(!aG.scroll){aG.scroll=true;[w,w.documentElement,w.body].forEach(function(aN){aN.on("scroll",this).on("mousewheel",this);this.i=0},function aK(aS){if(Z.kinetic||aG.kinetic||aG.doNotScroll){return}var aR=ao(),aP,aN,aO,aQ;if(ao.el){aP="scrollTop" in this?this:ao.el;if(aP==ao.el){aN=aQ=0;aO=aR+l.height/3;while(aN<O.details.length){aP=O.details[aN++];aQ+=aP.offsetHeight+8;if(aO<aQ){--aN;break}}if(aN!=aK.i){aK.i=aN;aH(aA[aN].parentNode,aG)}}else{this.off("scroll",aK).off("mousewheel",aK)}}})}}}try{this.blur()}catch(aL){}});O.tiles=$("#tiles")[0];ac=N(O.tiles);A={};Y(navigator.country?navigator.country.geo:[51.4791,0],6);G=$("button#find-me")[0];if("geolocation" in navigator){G.on("click",function(aJ){G.firstChild.classList.remove("fa-compass");G.firstChild.classList.add("fa-spin","fa-refresh");G.disabled=true;G.moved=false;try{if(aD){navigator.geolocation.clearWatch(aD)}aD=navigator.geolocation.watchPosition(function(aK){if(!G.moved){G.moved=true;Y(aK.coords,15)}z(aK.coords);aq()},aq,{maximumAge:300000})}catch(aI){G.remove()}G.blur()})}else{G.remove()}ad();if(f.length){R(f.getItem("equolo.activities"));aC=f.getItem("equolo.map");if(aC){ai=false;Y.apply(null,JSON.parse(aC))}}if(ai){$("li.intro",O.map)[0].style.cssText="display:block;margin-left:"+(av())+"px;"}ac.on("zoomend",function aF(aI){var aJ=ac.getZoom(),aK=aF.current||0;aF.current=aJ;if(aK===0||((B<=aJ&&aK<B)||(aJ<B&&B<=aK))){Q(true);ab()}});ac.on("movestart",function(){G.moved=true;ai=false});ac.on("moveend",aC=p(function(){var aK=ac.getZoom(),aI=ac.getCenter(),aJ;f.setItem("equolo.map",JSON.stringify([aI,aK]))}));ac.on("movestart",aC.clear);al.on("pagehide",t).on("unload",t);if(IE9Mobile){al.trigger("leaflet:map",ac)}}function t(){if(f.length){try{f.setItem("equolo.activities",an||"")}catch(aA){f.setItem("equolo.activities","")}}}function N(aC,aB){var aA={attribution:'Map Tiles <a href="http://open.mapquest.com/">&copy; Open MapQuest</a>',maxZoom:ar,minZoom:M},aD;aD=aB?L.map(aC,aB):L.map(aC);L.tileLayer("http://otile1.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.jpg",aA).addTo(aD);return aD}function aq(){G.firstChild.classList.remove("fa-spin","fa-download");G.firstChild.classList.add("fa-compass");G.disabled=false}function W(){if(!az){az=F.reduce(ay,[])}return az}function X(aB,aA){var aC=V.pointDistance(V.coordsToPoint(aB,ar),V.coordsToPoint(aA,ar));if(!("distance" in aB)){aB.distance=aC}if(!("distance" in aA)){aA.distance=aC}if(aB.distance<aA.distance){if(aC<aB.distance){aB.distance=aC;return 1}return 0}else{if(aA.distance<aB.distance){return -1}else{return 0}}}function aa(aA){aA.name=this.name;aA.description=this.description;aA.aid=this.id;return aA}function ay(aA,aB){return aA.concat(aB.place.map(aa,aB))}function J(aH){for(var aB,aG,aE,aF=B<=ac.getZoom(),aC=aF||{stroke:true,color:"#286868",weight:2,opacity:1,fill:true,fillColor:"#E6A72A",fillOpacity:1,radius:8,clickable:false,pointerEvents:false},aA=aH.place,aD=0;aD<aA.length;aD++){aG=aA[aD];aE=aG.icon;if(aF){aB=y(aG);aB.activity=aH;aB.placeIndex=aD}else{aB=L.circleMarker(K(aG),aC)}A[aE].addLayer(aB)}}function y(aB){var aA=L.marker(K(aB),{icon:L.icon({iconUrl:k(aB.icon,36),iconSize:[36,36],iconAnchor:[18,36]})});aA.on("click",E);aA.id=aB.id;return aA}function z(aA){var aB=K(aA);if(!v){v=L.circleMarker(aB,{clickable:false,pointerEvents:false});v.addTo(ac)}v.setLatLng(aB)}function S(){for(var aB=T.value,aA=1;aA<au.length;aA++){if(aB=="all"||aB==au[aA]){A[au[aA]].addTo(ac)}}}function q(aB){for(var aA=1;aA<au.length;aA++){if(A.hasOwnProperty(au[aA])){ac.removeLayer(A[au[aA]])}if(aB){A[au[aA]]=L.layerGroup()}}}function ae(aA){if(!this.hasOwnProperty(aA.icon)){this[aA.icon]=0}this[aA.icon]++}function ab(){if(ai){return}if(ab.moveend){ac.off("moveend",ab.moveend);ac.off("movestart",ab.moveend.clear)}$("li",O.location).forEach(function(aA){if(aA.classList.contains("place")){aA.remove()}else{aA.style.display="none"}});ab.map={};if(ac.getZoom()<B){if(ab.el){ab.el.style.width=null}ab.el=$("li.stats",O.map)[0];ab.el.style.display="block";ac.on("moveend",ab.moveend=p(function(){var aD,aC,aB={},aA=[];W().filter(aj,ac.getBounds()).forEach(ae,aB);for(aC in aB){if(aB.hasOwnProperty(aC)){aA.push('<i class="fa fa-'+aC+'"></i> '+am[aC]+" "+aB[aC])}}aD=ab.el.childNodes[1];aD.innerHTML=aA.length?aA.join(", "):"we have nothing nothing in this area :-(<br/>do you know any activity that could be part of equolo?";ak(aD)}));ac.on("movestart",ab.moveend.clear)}else{ab.el=$("ul",O.map)[0];ac.on("moveend",ab.moveend=p(function(){var aE=W().filter(aj,ac.getBounds()),aD=aE.length,aA=aD&&w.createDocumentFragment(),aB=0,aC;if(!aD){return}aC=[];aE.forEach(function(aG){aC.push(aG.id);if(ab.map[aG.id]){return}var aF=this.appendChild(w.createElement("li")),aH=aF.appendChild(w.createElement("h3")),aI=aF.appendChild(w.createElement("p"));aH.classList.add("ellipsis");aF.data("coords",aG.latitude+"/"+aG.longitude);aF.classList.add("place","t-all");aF.id="place-"+aG.id;ab.map[aG.id]=aG;aH.appendChild(w.createElement("i")).classList.add("fa","fa-"+aG.icon);aH.appendChild(w.createTextNode(" "+aG.name));aH.appendChild(w.createElement("span")).textContent=aG.postcode;aI.appendChild(w.createTextNode(aG.description));if(!ax){aF.on("click",ap)}},aA);ab.el.appendChild(aA);aD=$("li.place",ab.el).filter(function(aF){var aG=aF.id.slice(6);if(aC.indexOf(aG)<0){delete ab.map[aG];aF.remove();return false}return true}).length;ab.el.style.width=(aD*276+av()*2+1)+"px";ak(ab.el);if(ax&&!ab.hscroll){ab.hscroll=new g(ab.el,{onstart:function(){this.x=ab.el.scrollLeft;this.el=ap.last||$("li.place",ab.el)[0];ap.reset()},onchange:function(aF){this.x=aF.x-this.x},onend:function(aF){ap.call((this.x<0?this.el.nextElementSibling:this.el.previousElementSibling)||this.el,{})},onclick:function(aG){var aF=aG.target;while(aF&&aF.nodeName!=="LI"){aF=aF.parentNode}if(aF&&aF.nodeName==="LI"){ap.call(aF,aF)}}})}}));ac.on("movestart",ab.movestart=function(){ab.moveend.clear();ap.cancel()});ab.moveend()}}function E(){ap.call($("li#place-"+this.id)[0],{detail:false})}function u(aA){return this[aA].length}function s(aA){return this[aA]}function H(aC,aB,aA){var aD=aA.filter(u,aB);if(aD.length){(aC.appendChild(w.createElement("li"))).textContent=aD.map(s,aB).join(", ")}}function at(aC,aB,aE,aD){var aA;if(aB[aE]){aA=aC.lastChild.appendChild(w.createElement("a"));aA.classList.add("social");switch(aE){case"twitter":aA.href=/^https?:\/\/(?:www.)?twitter\./.test(aB[aE])?aB[aE]:"https://twitter.com/"+aB[aE].replace(/^@/,"");break;case"facebook":aA.href=/^https?:\/\/(?:www.)?facebook\./.test(aB[aE])?aB[aE]:"https://www.facebook.com/"+aB[aE];break;case"gplus":aA.href=/^https?:\/\/plus\.google\./.test(aB[aE])?aB[aE]:"https://plus.google.com/"+aB[aE];break}aA.appendChild(w.createElement("i")).classList.add("fa","fa-"+aD)}}function U(aC,aB,aE,aD){var aA;if(aB[aE]){aA=aC.appendChild(w.createElement("li"));aA.classList.add("button");aA.appendChild(w.createElement("i")).classList.add("fa","fa-"+aD);aA=aA.appendChild(w.createElement("a"));aA.classList.add("ellipsis");switch(aE){case"phone":aA.href="tel:"+aB[aE].replace(/[^0-9+]/g,"");break;case"email":aA.href="mailto:"+aB[aE];break;default:aA.href=/^https?:\/\//i.test(aB[aE])?aB[aE]:"http://"+aB[aE];break}aA.textContent=aB[aE]}}function D(aB){var aD,aC,aA,aE;D.showing=true;if(!D.footer){D.footer=O.nav.parentNode.offsetHeight}if(!D.el){D.el=$("div.details",O.map)[0]}aA=O.tiles.offsetHeight;aD=D.el;aD.style.cssText="opacity:1;top:"+($("header",O.map)[0].offsetHeight)+"px;height:"+(aA<276?(aA+D.footer):aA)+"px;";if(aA<276){O.location.style.bottom=O.nav.parentNode.style.height=0}if(!r){D.h3=$("h3",aD)[0];D.info=$("ul",aD)[0];D.address=$("ul.address",aD)[0];D.contact=$("ul.contact",aD)[0];r=N($("div.minimap",aD)[0],{zoomControl:false,dragging:false,touchZoom:false,doubleClickZoom:false,scrollWheelZoom:false,boxZoom:false,keyboard:false,attributionControl:false,tap:false})}y(aB).addTo(r);aE=V.coordsToPoint(aB,15);aE.y-=18;r.setView(K(V.pointToCoords(aE,15)),15);D.h3.textContent=D.address.textContent=D.contact.textContent="";D.h3.appendChild(w.createElement("i")).className="fa fa-"+aB.icon;D.h3.appendChild(w.createTextNode(" "+aB.name));aC=D.address;H(aC,aB,["address","extra","postcode","city"]);U(aC,aB,"phone","phone");at(aC,aB,"twitter","twitter");U(aC,aB,"email","envelope");at(aC,aB,"facebook","facebook-square");U(aC,aB,"website","globe");at(aC,aB,"gplus","google-plus");ak(aD)}function ap(aC){try{var aE=this.data("coords").split("/"),aH=ap.last==this,aB=this.parentNode.parentNode,aF=this.id.slice(6),aI,aG,aA,aJ}catch(aD){return}this.clicked=true;if(aH){if(D.showing){D.showing=false;D.el.style.cssText="";O.location.style.bottom=O.nav.parentNode.style.height=null}else{D(ab.map[aF])}}else{aJ=aC.detail===false?Object:function(aK,aQ,aM,aL,aO,aN){var aP=ap.cancel;ap.cancel=Object;Y({latitude:parseFloat(aE[0]),longitude:parseFloat(aE[1])},ac.getZoom());ap.cancel=aP;if(D.showing){D(ab.map[aF])}};ap.cancel();(ap.last=this).classList.add("selected");aG=0;aI=this.previousElementSibling;while(aI.classList.contains("place")){aI=aI.previousElementSibling;aG+=276}aA=g.compat?-parseFloat(aB.style.marginLeft||0):aB.scrollLeft;(ap.sk=new c({onmove:function(aK,aP,aM,aL,aO,aN){if(g.compat){aB.style.marginLeft=-aK+"px"}else{aB.scrollLeft=aK}},onend:aJ})).init(aA,0,aG-aA,0,true,false)||aJ()}}ap.reset=function(){if(ap.last){ap.last.classList.remove("selected");ap.last=null}};ap.cancel=function(){if(ap.sk){ap.sk.cancel()}ap.reset()};function Q(aA){q(aA);if(aA){F.forEach(J)}S()}function R(aA){if(aA){F=JSON.parse(aA).map(af);an=aA;az=null;Q(true);ab()}}function ad(){var aA=al.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");aA.open("GET","/cgi/location.php",true);aA.onreadystatechange=function(){if(aA.readyState==4){if(199<aA.status&&aA.status<400){R(aA.responseText)}else{setTimeout(ad,5000)}}};aA.send(null)}ao=function(aB){var aA=w.body.scrollTop?w.body:(w.documentElement.scrollTop?w.documentElement:null);if(aA){ao=function(aC){return aC==null?aA.scrollTop:(aA.scrollTop=aC)};ao.el=aA;return ao(aB)}else{if(aB==null){return 0}else{w.body.scrollTop=w.documentElement.scrollTop=aB}}};function Z(aD){var aC=aD.firstChild.href.split("#")[1],aB=O.details,aH=true,aF=0,aA=0,aE=aB.length,aG=ao();while(aH){aH=aB[aA].id!=aC;if(aH){aF+=aB[aA].offsetHeight+8}aA++}if(IEMobile){ao(aF)}else{if(Z.sk){Z.sk.cancel()}(Z.sk=new c({onstart:function(){Z.kinetic=true},onmove:function(aI,aN,aK,aJ,aM,aL){ao(aN)},onend:function(aI,aN,aK,aJ,aM,aL){ao(aL);Z.kinetic=false}})).init(0,aG,0,aF-aG,false,true)}}function Y(aB,aA){ac.setView(K(aB),aA||Math.max(15,ac.getZoom()))}function ag(aA){var aB=aA?"remove":"add";w.documentElement.classList[aB]("no-scroll");w.body.classList[aB]("no-scroll")}function av(){return(l.width-276)>>1}function C(){var aA=av();o({section:{"min-height":l.height+"px"},"section#map > div.location li.place:nth-child(3)":{"margin-left":aA+"px"},"section#map > div.location li.place:last-child":{"margin-right":aA+"px"},"section#map > div.location > ul > li":{"min-height":(150-m)+"px"}});if(ac){ac.invalidateSize()}if(r){r.invalidateSize()}}function aj(aA){var aB=T.value;return aA.icon==aB||aB=="all"&&this.contains(new L.LatLng(aA.latitude,aA.longitude))}function K(aA){return[aA.latitude||aA.lat||aA[0]||0,aA.longitude||aA.lng||aA[1]||0]}function ak(aA){if(IE9Mobile){d.fix(aA)}}function af(aA){aA.place=n.unpack(aA.place);return aA}l.on("change",C)}(h,document))}(this));