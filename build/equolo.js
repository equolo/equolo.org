/*! )Â°(, equolo - https://github.com/equolo/equolo.org */
/*@cc_on
(function(f){
window.setTimeout=f(window.setTimeout);
window.setInterval=f(window.setInterval);
})(function(f){return function(c,t,a){a=[].slice.call(arguments,2);return f(function(){c.apply(this,a)},t)}});
@*/
var
IEMobile=/*@cc_on/\bIEMobile\b/.test(navigator.userAgent)||@*/false,
IE9Mobile=/*@cc_on(IEMobile&&@_jscript_version<10)||@*/false,
IE10Mobile=/*@cc_on(IEMobile&&@_jscript_version/10>=1)||@*/false
;
IE9Mobile&&document.write('<link rel="stylesheet" href="css/IE9Mobile.css"/><script src="js/IE9Mobile.js"></script>');(function(h){
/*! display v0.1.8 - MIT license */
;var l=function(F){var u=F.Math,y=u.abs,H=u.max,E=u.min,N=F.Infinity,r=F.screen||N,q=F.matchMedia,z="addEventListener",A=F.document,M=A.documentElement,v=/\bMobile\b/.test(navigator.userAgent),s=M.requestFullscreen||M.mozRequestFullScreen||M.webkitRequestFullScreen,J=A.exitFullscreen||A.cancelFullscreen||A.mozCancelFullScreen||A.webkitExitFullscreen,B={change:[]},G={width:0,height:0,ratio:0,full:s&&J?function(O){var P=A.fullscreenElement||A.mozFullScreenElement||A.webkitFullscreenElement;if(O||O==null){G.fullScreen=true;if(!P){s.call(M)}}else{if(P){G.fullScreen=false;J.call(A)}}}:Object,on:function(O,P){B[O].push(P)}},I=B.change.forEach||function(Q,O){for(var P=0;P<this.length;P++){Q.call(O,this[P],P,this)}},w;function x(O){O.call(G,G.width,G.height)}function D(O){if(w){clearTimeout(w);w=0}return(!C()&&innerHeight<300)||(w=setTimeout(t,300,O))}function C(){return"orientation" in F?y(F.orientation||0)===90:!!q&&q("(orientation:landscape)").matches}function t(T){w=0;var P=F.devicePixelRatio||1,U=C(),Q=r.width,S=r.height,R=E(F.innerWidth||M.clientWidth,P<1?N:((v&&U?H(Q,S):Q)||N)),O=E(F.innerHeight||M.clientHeight,P<1?N:((v&&U?E(Q,S):S)||N));if(R!==G.width||O!==G.height){G.width=R;G.height=O;I.call(B.change,x)}}if(z in F){F[z]("orientationchange",D,true);F[z]("resize",D,true);try{r[z]("orientationchange",D,true)}catch(K){}}else{F.attachEvent("onresize",t)}t.call(F);G.ratio=F.devicePixelRatio||r.width/G.width||(r.deviceXDPI||1)/(r.logicalXDPI||1);return G}(h);function o(z,w){
/*! (C) Andrea Giammarchi - Mit Style License */
;if(!w){w=document}w.getElementsByTagName("head")[0].appendChild(w.createElement("style")).appendChild(w.createTextNode(""));var y=w.styleSheets,v=y[y.length-1],A=v.addRule||function(B,D,C){this.insertRule(B+"{"+D+"}",C)},r=0,q,t,x,u,s;for(q in z){if(z.hasOwnProperty(q)){s=[];t=z[q];for(x in t){if(t.hasOwnProperty(x)){u=t[x];s.push("-webkit-"+x+":"+u,"-khtml-"+x+":"+u,"-blink-"+x+":"+u,"-moz-"+x+":"+u,"-ms-"+x+":"+u,"-o-"+x+":"+u,x+":"+u)}}A.call(v,q,s.join(";")+";",r++)}}}(function(s,q,r){"bind" in q||(q.bind=function(w){var v=this,u=s.slice,t=u.call(arguments,1);return function(){return v.apply(w,t.concat(u.call(arguments)))}});"trim" in r||(r.trim=function(){return this.replace(/^[^\S]+|[^\S]+$/g,"")})}(Array.prototype,Function.prototype,String.prototype));var n,b=n=function(z,s){function H(Q){for(var K=Q.length,R=x(K?Q[0]:{}),M=R.length,S=z(K*M),P=0,O=0,N,J;P<K;++P){for(J=Q[P],N=0;N<M;S[O++]=J[R[N++]]){}}return u.call([M],R,S)}function F(O){for(var P=O.length,K=O[0],J=z(((P-K-1)/K)||0),N=1+K,M=0,R,Q;N<P;){for(J[M++]=(Q={}),R=0;R<K;Q[O[++R]]=O[N++]){}}return J}function t(K){return function J(R){for(var T=this,S=R,P=0,Q=T.length,N,M,O;P<Q;++P){if(w(O=S[M=T[P]])){N=P+1;S[M]=N<Q?I.call(O,K,T.slice(N)):K(O)}S=S[M]}return R}}function v(K){return function J(S,Q){for(var N=w(S),M=u.call(r,S),R=u.call(r,Q),O=0,P=R.length;O<P;++O){M=I.call(M,K,R[O].split("."))}return N?M:M[0]}}function D(K,J){return J?y(K,J):H(K)}function q(J,K){return K?C(J,K):F(J)}function B(N,J,M,K){return G(D(N,K),J,M)}function A(K,J,M){return q(E(K,J),M)}var r=[],u=r.concat,x=Object.keys||function(M){var K=[],J;for(J in M){M.hasOwnProperty(J)&&K.push(J)}return K},w=z.isArray||(function(K,M){M=K.call(r);return function J(N){return K.call(N)==M}}({}.toString)),I=r.map||function(O,N){for(var K=this,M=K.length,J=z(M);M--;J[M]=O.call(N,K[M],M,K)){}return J},y=v(t(H)),C=v(t(F)),G=s.stringify,E=s.parse;return{pack:D,parse:A,stringify:B,unpack:q}}(Array,JSON);
/*! (C) WebReflection Mit Style License */
(function(D){function J(r){return typeof r=="string"?D.document.createTextNode(r):r}function y(M){if(M.length===1){return J(M[0])}for(var v=D.document.createDocumentFragment(),t=B.call(M),u=0;u<M.length;u++){v.appendChild(J(t[u]))}return v}for(var q,A,K,x=/^\s+|\s+$/g,I=/\s+/,G=" ",C=function(r,s){return this.contains(r)?s||this.remove(r):s&&this.add(r),!!s},z=(D.Element||D.Node||D.HTMLElement).prototype,F=["prepend",function(){var s=this.firstChild,u=y(arguments);s?this.insertBefore(u,s):this.appendChild(u)},"append",function(){this.appendChild(y(arguments))},"before",function(){var r=this.parentNode;r&&r.insertBefore(y(arguments),this)},"after",function(){var u=this.parentNode,v=this.nextSibling,s=y(arguments);u&&(v?u.insertBefore(s,v):u.appendChild(s))},"replace",function(){var r=this.parentNode;r&&r.replaceChild(y(arguments),this)},"remove",function(){var r=this.parentNode;r&&r.removeChild(this)}],B=F.slice,w=F.length;w;w-=2){q=F[w-2],q in z||(z[q]=F[w-1])}"classList" in document.documentElement?(K=document.createElement("div").classList,K.add("a","b"),"a b"!=K&&(z=K.constructor.prototype,"add" in z||(z=D.DOMTokenList.prototype),A=function(r){return function(){var s=0;while(s<arguments.length){r.call(this,arguments[s++])}}},z.add=A(z.add),z.remove=A(z.remove),z.toggle=C)):(A=function(r){if(!r){throw"SyntaxError"}if(I.test(r)){throw"InvalidCharacterError"}return r},K=function(s){var r=s.className.replace(x,"");r.length&&F.push.apply(this,r.split(I)),this._=s},K.prototype={length:0,add:function(){for(var r=0,s;r<arguments.length;r++){s=arguments[r],this.contains(s)||F.push.call(this,q)}this._.className=""+this},contains:function(r){return function(s){return w=r.call(this,q=A(s)),-1<w}}([].indexOf||function(r){w=this.length;while(w--&&this[w]!==r){}return w}),item:function(r){return this[r]||null},remove:function(){for(var r=0,s;r<arguments.length;r++){s=arguments[r],this.contains(s)&&F.splice.call(this,w,1)}this._.className=""+this},toggle:C,toString:function H(){return F.join.call(this,G)}},(Object.defineProperty||function(s,r,u){s.__defineGetter__(r,u.get)})(z,"classList",{get:function(){return new K(this)},set:function(){}}));try{new D.CustomEvent("?")}catch(E){D.CustomEvent=function(v,s){function M(N,r){var t=document.createEvent(v);if(typeof N!="string"){throw new Error("An event name must be provided")}return v=="Event"&&(t.initCustomEvent=u),r==null&&(r=s),t.initCustomEvent(N,r.bubbles,r.cancelable,r.detail),t}function u(P,N,Q,O){this.initEvent(P,N,Q),this.detail=O}return M}(D.CustomEvent?"CustomEvent":"Event",{bubbles:!1,cancelable:!1,detail:null})}})(h);
/*! (C) Andrea Giammarchi Mit Style License */
(function(ab){function I(){return{l:{},m:[],b:[]}}function z(s){var r=I();return ad.value=r,P(s,aa,ad),ad.value=null,r}function D(s,r,u){typeof r=="function"?r.apply(s,u):r.handleEvent.apply(r,u)}function q(s,r,u){u&&B(this,"detail",u),B(this,"type",r),B(this,"target",s),B(this,"timeStamp",U())}if(ab.eddy){return}ab.eddy=!0;var J=Array.prototype,R=ab.prototype,O=q.prototype,X=R.hasOwnProperty,K=J.push,Q=J.slice,H=J.unshift,af="toLocaleString",aa={toLocaleString:1}.propertyIsEnumerable(af)?"_@eddy"+Math.random():af,V=aa===af,ad=(ab.create||ab)(null),Y=[],P=V?function(s,r,u){s[r]=u.value}:ab.defineProperty,ac=function(s){var r=this;return function(){return r.apply(s,arguments)}},G=J.indexOf||function(s){var r=this.length;while(r--&&this[r]!==s){}return r},U=Date.now||function(){return(new Date).getTime()},Z={boundTo:function(w){var C=X.call(this,aa)?this[aa]:z(this),x=C.m,y=C.b,v=typeof w=="string"?this[w]:w,s=G.call(x,v);return s<0?y[K.call(x,v)-1]=ac.call(v,this):y[s]},emit:function(y){var S=X.call(this,aa),E=S&&this[aa].l,C=S&&X.call(E,y),x=C&&E[y],w=C&&Q.call(arguments,1),v=0,N=C?x.length:v;while(v<N){D(this,x[v++],w)}return C},listeners:function(r){return X.call(this,aa)&&X.call(this[aa].l,r)&&this[aa].l[r].slice()||[]},off:function(w,E){var y=X.call(this,aa),x=y&&this[aa].l,C=y&&X.call(x,w)&&x[w],v;return C&&(v=G.call(C,E),-1<v&&(C.splice(v,1),C.length||delete x[w])),this},on:function(v,y,w){var x=X.call(this,aa),u=(x?this[aa]:z(this)).l,s=x&&X.call(u,v)?u[v]:u[v]=[];return G.call(s,y)<0&&(w?H:K).call(s,y),this},once:function(v,y,x){var u=function(r){w.off(v,u,x),D(w,y,arguments)},w=this;return w.on(v,u,x)},trigger:function(ah,x){var ai=X.call(this,aa),w=ai&&this[aa].l,ag=typeof ah=="string",S=ag?ah:ah.type,C=ai&&X.call(w,S),N=C&&w[S].slice(0),r=ag?new q(this,S,x):ah,E=0,T=C?N.length:E,y=!(r instanceof q);y&&(r._active=!0,r.stopImmediatePropagation=O.stopImmediatePropagation),r.currentTarget=this,Y[0]=r;while(r._active&&E<T){D(this,N[E++],Y)}return y&&(delete r._active,delete r.stopImmediatePropagation),!r.defaultPrevented}},B=function(s,r,u){X.call(s,r)||(s[r]=u)},ae=!1,F;O.defaultPrevented=!1,O._active=O.cancelable=!0,O.preventDefault=function(){this.defaultPrevented=!0},O.stopImmediatePropagation=function(){this._active=!1};for(F in Z){X.call(Z,F)&&P(R,F,{enumerable:!1,configurable:!0,writable:!0,value:Z[F]})}(function(t){function u(r){function v(w){w[r].apply(w,this)}return function(){return t.call(this,v,arguments),this}}for(var s in Z){Z.hasOwnProperty(s)&&!/^listeners|boundTo$/.test(s)&&P(J,s,{enumerable:!1,configurable:!0,writable:!0,value:u(s)})}})(J.forEach);var A={boundTo:Z.boundTo,data:function W(s,r){var u="dataset" in this;return arguments.length<2?u?this.dataset[s]:(r=this.getAttribute("data-"+s.replace(W.gre||(W.gre=/-[a-z]/g),W.gplace||(W.gplace=function(w,v){return v.toUpperCase()}))))==null?void 0:r:u?r==null?delete this.dataset[s]:(this.dataset[s]=r,r):(W.sre||(W.sre=/([a-z])([A-Z])/g,W.splace=function(w,v,x){return v+"-"+x.toLowerCase()}),s="data-"+s.replace(W.sre,W.splace),r==null?!this.removeAttribute(s):(this.setAttribute(s,r),r))},emit:function(t){var s=new CustomEvent(t);return s.arguments=J.slice.call(arguments,1),this.dispatchEvent(s)},listeners:function(r){return[]},off:function(s,r,u){return this.removeEventListener(s,r,u),this},on:function(s,r,u){return this.addEventListener(s,r,u),this},once:Z.once,trigger:function(v,y){var x=typeof v=="string",u=x?v:v.type,w=x?new CustomEvent(u,(ad.detail=y,ad)):v;return ad.detail=null,q.call(w,this,u),this.dispatchEvent(w)}};ad.cancelable=!0,ad.bubbles=!0;try{document.createEvent("Event").target=document}catch(M){ae=!0,B=function(v,s,w){if(!X.call(v,s)){try{v[s]=w}catch(u){}}}}(function(E){var x=E.Window,S=x?x.prototype:E,C=(E.Node||E.Element||E.HTMLElement).prototype,y=(E.Document||E.HTMLDocument).prototype,N=(E.XMLHttpRequest||function(){}).prototype,w,v;for(w in A){X.call(A,w)&&(v={enumerable:!1,configurable:!0,writable:!0,value:A[w]},P(S,w,v),P(C,w,v),P(y,w,v),w!=="data"&&P(N,w,v))}})(h)})(Object);h.$=function(q){return function(s,r){return q.slice.call(q.concat(r||document)[0].querySelectorAll(s))}}([]);
/*! (C) Andrea Giammarchi */
;function i(I){var y=h.Math,v=y.atan,x=y.exp,w=y.log,H=y.max,E=y.min,u=y.pow,N=y.round,P=y.sqrt,K=y.tan,C=y.PI,r=0.5,O=90,s=O*2,J=O*4,t=C/2,q=C/4,G=C/s,z=s/C,F=C*2,B=C*4;if(!I){I=256}return{coordsToPoint:function D(S,R){var Q=I<<R;return{x:N((S.longitude/J+r)*Q),y:N(E(1,H(0,r-(w(K(q+t*S.latitude/s))/C)/2))*Q)}},pointDistance:function A(R,Q){return P(u(Q.y-R.y,2)+u(Q.x-R.x,2))},pointToCoords:function M(R,T){var S=I<<T,Q=R.x/S,U=R.y/S;return{latitude:U<=0?O:U>=1?-O:z*(2*v(x(C*(1-2*U)))-t),longitude:(Q===1?1:(Q%1+1)%1)*J-s}}}}var m=m||function(u){var t=u.documentElement,s=u.createElement("p"),q;s.style.cssText=[";position:absolute",";margin:0",";padding:0",";display:block",";overflow:scroll",";width:50px",";line-height:50px",";font-size:50px"].join(" !important");s.innerHTML="0";t.insertBefore(s,t.lastChild);q=s.offsetWidth-s.clientWidth;t.removeChild(s);return q}(document);
/*! SimpleKinetic v0.1.1 - MIT license */
;var c=function(r){var z=r.isNaN,s=r.Math,G=s.abs,F=s.round,C=s.sqrt,y=r.setInterval,D=r.clearInterval,u=0.2,E=9,A=1000/60,x=t.prototype;function t(H){for(var I in H){if(/^on|context|interval/.test(I)){this[I]=H[I]}}}x.init=function(W,V,N,K,Q,O){var X=w(this),M=(G(N)<1?0:N)*(Q?1:E),S=(G(K)<1?0:K)*(O?1:E),J=M*M,R=S*S,I=C(J+R),H=M/I,P=S/I,U,T;X.cancel(X._cx,X._cy);if(!(z(H)||z(P))){X._a=y(v,X.interval||A,X);X._t=0;X._d=I;X._sx=X._cx=W;X._sy=X._cy=V;X._xa=H;X._ya=P;U=F(W+I*H);T=F(V+I*P);X._ex=U;X._ey=T;if((W!==U||V!==T)&&X.start(W,V,0,0,U,T)!==false){return true}w(X._a)}return false};x.start=B("start");x.move=B("move");x.end=B("end");x.cancel=function(J,H,K,I,N,M){if(this._a){w(this).oncancel.call(this.context||this,J,H,K,I,N,M)}};x.onstart=x.onmove=x.onend=x.oncancel=function(J,H,K,I,N,M){};function w(H){D(H._a);H._a=0;return H}function B(H){H="on"+H;return function(K,I,M,J,O,N){return this[H].call(this.context||this,K,I,M,J,O,N)}}function v(I){var O=(I._t+=(I._d-I._t)*u),H=F(I._sx+O*I._xa),P=F(I._sy+O*I._ya),N=I._ex,K=I._ey,M=H-I._cx,J=P-I._cy;if(H===N&&P===K){w(I).end(N,K,M,J,N,K)}else{I.move(H,P,M,J,N,K);I._cx=H;I._cy=P}}var q=y(function(H){D(q);if(!H){y=function(K,J,I){return r.setInterval(function(){K(I)},J)}}},0,1);return t}(this);function a(s,z,q,w){
/*! (C) equolo.org */
;var t=192,v=z/t,x=q||"#286868",r=s.getContext("2d");function y(A,B){r.moveTo(A*v,B*v)}function u(B,A,F,E,D,C){r.bezierCurveTo(B*v,A*v,F*v,E*v,D*v,C*v)}r.clearRect(0,0,s.width,s.height);s.width=s.height=z;if(w){r.fillStyle=w;r.fillRect(0,0,z,z)}r.fillStyle=x;r.save();r.scale(1.25,1.25);r.beginPath();y(95.32+10,10.21);u(101.05+10,7.85,108.56+10,12.68,108.09+10,19.01);u(108.39+10,25.61,100.46+10,30.49,94.67+10,27.28);u(87.81+10,24.1,88.04+10,12.79,95.32+10,10.21);r.closePath();r.fill();r.beginPath();y(67.01+10,7.48);u(72.33+10,20.59,82.54+10,31.7,95.46+10,37.57);u(104.17+10,41.72,113.89+10,43.25,123.47+10,43.1);u(108.12+10,48.29,96.34+10,60.6,88.32+10,74.31);u(79.91+10,88.85,78.34+10,106.86,83.29+10,122.84);u(72.84+10,106.64,59.08+10,91.84,41.39+10,83.57);u(30.55+10,78.74,18.41+10,76.4,6.58+10,77.64);u(24.52+10,73.08,42.99+10,65.59,54.74+10,50.61);u(64.15+10,38.49,68.55+10,22.74,67.01+10,7.48);r.closePath();r.fill();r.beginPath();y(43.22+10,119.97);u(43.75+10,102.87,43.89+10,94.92,48.72+10,89.2);u(50.5+10,93.22,49.73+10,97.67,50.54+10,101.88);u(51.34+10,107.31,53.13+10,112.93,57.29+10,116.73);u(61.3+10,121.01,68.71+10,121.41,70.94+10,127.44);u(72.27+10,133.19,66.42+10,138.03,61.08+10,138.09);u(54.7+10,138.64,49.47+10,133.66,46.69+10,128.39);u(43.41+10,122.84,43.52+10,116.2,43.22+10,109.97);r.closePath();r.fill();r.restore();return s}var k=function(r){var s=r.getContext("2d"),v={question:61736,"shopping-cart":61562,gift:61547,cutlery:61685,home:61461,glass:61440,briefcase:61617,group:61632,truck:61649},q={};function u(z,B,A){s.beginPath();s.arc(z,B,A,0,Math.PI*2,true);s.closePath();s.fill()}function t(z,y){s.clearRect(0,0,r.width,r.height);r.width=r.height=y;s.textBaseline="bottom";s.fillStyle="rgb(25,138,138)";u(y/2,y/2.5,y/2.5);w(y,y/4.9);s.fillStyle="rgb(240,240,240)";u(y/2,y/2.5,y/2.8);s.font=s.mozTextStyle=Math.round(y/2)+"px FontAwesome";s.translate((r.width-(s.measureText||s.mozMeasureText).call(s,z).width)/2,0);s.fillStyle="rgb(40,104,104)";if(z.length){s.fillText(z,0,y/1.5)}else{s.drawImage(a(document.createElement("canvas"),y/1.5),-y/2.8,y/10)}return r.toDataURL()}function w(y,z){s.beginPath();s.moveTo(y/2,y);s.lineTo(z,y/1.5);s.lineTo(y-z,y/1.5);s.lineTo(y/2,y);s.closePath();s.fill()}return function x(A,y,z){return q[A+y+z]||(q[A+y+z]=t(v.hasOwnProperty(A)?String.fromCharCode(v[A]):"",Math.round(y*(z||(typeof l==="undefined"?1:l.ratio)))))}}(document.createElement("canvas"));var f=localStorage;try{f.setItem("0",0);f.removeItem("0")}catch(e){f={length:0,getItem:function(t){var s=document.cookie,r=s.indexOf(t=escape(""+t)),q;if(-1<r){r+=1+t.length;q=s.indexOf(";",r);return unescape(s.substring(r,q<0?s.length:q))}},setItem:function(q,r){document.cookie=[escape(""+q)+"="+escape(""+r),"expires="+(new Date(Date.now()+1000*60*60*24)).toUTCString(),"path=/"].join("; ")}}}h.on("leaflet:map",function(x){function w(){r.panBy([A*6,y*6]);B=null;s=0;t.scrollLeft=parseFloat(t.style.width);t.scrollTop=parseFloat(t.style.height)}function u(){t.style.top=v.offsetHeight+"px";q.style.width=(parseFloat(t.style.width=l.width+"px")*3)+"px";q.style.height=(parseFloat(t.style.height=D.offsetHeight+"px")*3)+"px"}var r=x.detail,D=document.getElementById("tiles"),v=D.parentNode.children[0],t=D.parentNode.appendChild(document.createElement("div")),q=t.appendChild(document.createElement("span")),C={animate:false,noMoveStart:true},s=0,A=0,y=0,B,z;t.id="ie9-map-wrapper";q.id="ie9-map-center";l.on("change",u);q.onmouseenter=q.onmouseleave=q.onselectionstart=q.onmousedown=q.onmouseup=q.onmousemove=q.onclick=q.ondblclick=function(E){E.preventDefault();E.stopPropagation();if(E.pageX<60&&E.pageY<100){}};w();t.onscroll=function(E){if(B!=null){r.panBy([(A=t.scrollLeft-B),(y=t.scrollTop-z)],C);clearTimeout(s);s=setTimeout(w,30)}B=t.scrollLeft;z=t.scrollTop};setTimeout(u)});
/*! (C) Andrea Giammarchi - Mit Style License */
;var d=function(C){function w(u,r){var J=new XMLHttpRequest,s;J.open("get",u,!0),J.onreadystatechange=function(){J.readyState==4&&(s=J.responseXML,s.firstChild||(s=document.createElement("div"),s.innerHTML=J.responseText),q=G(s,"font-face","units-per-em"),z=G(s,"font-face","ascent"),I=G(s,"font-face","descent"),Array.prototype.forEach.call(s.getElementsByTagName("glyph"),E,x={}),r?r(x):F())},J.send(null)}function G(s,r,u){return parseFloat(s.getElementsByTagName(r)[0].getAttribute(u))}function F(r){Array.prototype.forEach.call((r||document).querySelectorAll(".fa"),y,x)}function B(t,M,s){var V=0,T=0,P=t.length,K=M/q*(typeof l=="object"?l.ratio:1.5),R,N,r,Q,U,J,O,S;C.width=C.height=Math.round(K*q),H.translate(0,C.height),H.scale(1,-1),H.fillStyle=s||"rgb(0,0,0)",H.globalCompositeOperation="xor";while(V<P){S=t[V++],O=1;switch(S.type){case"T":O=0;case"t":H.quadraticCurveTo(K*(U=2*r-(U||r)),K*(J=2*Q-(J||Q)),K*(r=r*O+S.arguments[0]),K*(Q=Q*O+S.arguments[1]));break;case"Q":O=0;case"q":H.quadraticCurveTo(K*(U=r*O+S.arguments[0]),K*(J=Q*O+S.arguments[1]),K*(r=r*O+S.arguments[2]),K*(Q=Q*O+S.arguments[3]));break;case"L":O=0;case"l":H.lineTo(K*(r=r*O+S.arguments[0]),K*(Q=Q*O+S.arguments[1]));break;case"H":O=0;case"h":H.lineTo(K*(r=r*O+S.arguments[0]),K*Q);break;case"V":O=0;case"v":H.lineTo(K*r,K*(Q=Q*O+S.arguments[0]));break;case"z":case"Z":H.lineTo(K*R,K*N),H.closePath(),H.fill();break;case"M":O=0,H.moveTo(K*(r=R=S.arguments[0]),K*(Q=N=S.arguments[1]-I)),H.beginPath(),T=2;while(T<S.arguments.length){H.lineTo(K*(r=S.arguments[T]),K*(Q=S.arguments[T+1])),T+=2}break;default:throw"unknown "+S.type}}}function y(K){var u=K.offsetHeight,M=getComputedStyle(K,":before"),J=M.getPropertyValue("content"),s=this[J.length!==1?J.charAt(1):J].size(u,M.getPropertyValue("color"));K.parentNode.replaceChild(s,K)}function E(s,r){var u=s.getAttribute("d");u&&(this[s.getAttribute("unicode")]={size:D,path:u})}function A(J){var s=0,K=[],u;J=J.replace(A.re||(A.re=/\s*([achlmqstvzACHLMQSTVZ])\s*/g),"$1");while(s<J.length){K.push(u={}),s=v(u,J,s)}return K}function v(K,u,M){var J=M,s=!1;switch(K.type=u[M]){case"z":case"Z":return M+1}K.arguments=[];while(J++<u.length){switch(u[J]){case"A":case"a":case"C":case"c":case"H":case"h":case"L":case"l":case"M":case"m":case"Q":case"q":case"S":case"s":case"T":case"t":case"V":case"v":case"Z":case"z":s=!0;case" ":K.arguments.push(parseFloat(u.substring(M+1,J))),M=J;if(s){return M}}}}function D(u,r){var t=new Image;return B(this._actions||(this._actions=A(this.path)),u,r),t.src=C.toDataURL(),t.style.cssText="width:"+u+"px;height:"+u+"px;",H.clearRect(0,0,q,q),t}var H=C.getContext("2d"),x,q,z,I;return w.fix=F,w}(document.createElement("canvas"));
/*! (C) Andrea Giammarchi */
;var p=function(t){function r(x,w){if(!w){w=r.delay}function v(){u();v._=setTimeout(s,w,x,this,arguments,v)}function u(){clearTimeout(v._)}v.clear=u;v._=0;return v}function q(){clearTimeout(this._);this._=0;return this}function s(x,w,v,u){u._=0;x.apply(w,v)}r.delay=t;return r}(500);
/*! (C) Andrea Giammarchi */
;function i(I){var y=h.Math,v=y.atan,x=y.exp,w=y.log,H=y.max,E=y.min,u=y.pow,N=y.round,P=y.sqrt,K=y.tan,C=y.PI,r=0.5,O=90,s=O*2,J=O*4,t=C/2,q=C/4,G=C/s,z=s/C,F=C*2,B=C*4;if(!I){I=256}return{coordsToPoint:function D(S,R){var Q=I<<R;return{x:N((S.longitude/J+r)*Q),y:N(E(1,H(0,r-(w(K(q+t*S.latitude/s))/C)/2))*Q)}},pointDistance:function A(R,Q){return P(u(Q.y-R.y,2)+u(Q.x-R.x,2))},pointToCoords:function M(R,T){var S=I<<T,Q=R.x/S,U=R.y/S;return{latitude:U<=0?O:U>=1?-O:z*(2*v(x(C*(1-2*U)))-t),longitude:(Q===1?1:(Q%1+1)%1)*J-s}}}}
/*! (C) Andrea Giammarchi */
;var g=(function(y,q){var E=/Android 4\.0/.test(y),C=/Android/.test(y)&&/Chrom(?:e|ium)/.test(y),F=x.prototype,G=q.abs,A=q.max,u=q.min,B=15;function x(H,I){if(!I){I=this}this._el=H;while(!H.offsetHeight){H=H.parentNode}r(this,this._r=H,true);this.disabled=false;this.onstart=I.onstart||s;this.onchange=I.onchange||s;this.onend=I.onend||s;this.onclick=I.onclick||s;if("ontouchend" in document){this._el.parentNode.style.cssText+=[";-ms-touch-action:none",";touch-action:none",";overflow:hidden"].join("")}}function s(H){}function r(H,I,J){var K=(J?"add":"remove")+"EventListener";I[K]("touchstart",H,true);I[K]("touchmove",H,true);I[K]("touchend",H,true)}F.clear=function w(){r(this,this._r,false)};F.handleEvent=function z(H){if(this._vscrolling&&H.type!=="touchend"){return}if(C){H.preventDefault()}this[H.type](H)};F.touchstart=function v(H){if(!this._scrolling){H=H.touches[0];this._x=H.pageX>>0;this._y=H.pageY>>0;this._diffY=0;this._t=0;this._l=0}};F.touchmove=function t(I){var J=I.touches[0],H=J.pageX>>0;if(this._scrolling){I.preventDefault();I.stopPropagation();I.x=H-this._diffX-this._x;this._p.scrollLeft=this._s-I.x;if(E){this._p.style.marginLeft=A(this._m,u(0,I.x+this._l))+"px";this._e=I.x}this.onchange(I)}else{this._diffX=H-this._x;this._diffY=J.pageY-this._y;this._vscrolling=B<=this._t++||B<=G(this._diffY);this._scrolling=!this._vscrolling&&B<=G(this._diffX);if(this._scrolling){I.preventDefault();this._p=this._el.parentNode;this._s=this._p.scrollLeft;if(E){if(!this._l){this._l=parseFloat(this._p.style.marginLeft||0);this._m=this._p.clientWidth-this._p.scrollWidth}this._s=-this._l}this.onstart(I)}}};F.touchend=function D(H){if(!H.touches.length){if(this._scrolling){H.preventDefault();this._p=null;if(E){this._l=A(this._m,u(0,this._e+this._l))}this.onend(H)}else{if(!this._vscrolling){this.onclick(H)}}this._t=0;this._scrolling=false;this._vscrolling=false}};x.compat=E;return x}(navigator.userAgent,Math));
/*! (C) Andrea Giammarchi */
(function(s,D,y){if(!((y=!!s.pointerEnabled)||s.msPointerEnabled)||"ontouchend" in D){return}var u=(y?"":"MS")+"POINTER_TYPE_MOUSE",t=function(M){return y?M.toLowerCase():"MS"+M},v=y?function(M){return M}:function(M){return M.slice(2).toLowerCase()},w=function(M,N,O){N.call(M,t(O),r,true)},F=function(M){return{value:function(){K[M].call(this);this._[M]()}}},G=function(O,M){var N=O[M];Object.defineProperty(O,M,{configurable:true,value:function(R,Q,P){if(R in x){N.call(this,x[R],r,P)}return N.call(this,R,Q,P)}})},E=function(M){return{get:function(){return this._[M]}}},q=function(M,N){var O=D.createEvent("Event");O.initEvent(M,true,true);I.value=N;Object.defineProperties(O,J);N.target.dispatchEvent(O)},C=function(N){var M=N.pointerType;return(M===N[u]||M==="mouse")?"mouse":"touch"},H=function(M){return this[M]},B=function(M){return z[M]},I={value:null},K=D.createEvent("Event"),J={_:I,touches:{configurable:true,get:function(){I.value=Object.keys(z).map(B);return Object.defineProperty(this,"touches",I).touches}},relatedTarget:E("relatedTarget"),currentTarget:E("currentTarget"),target:E("target"),altKey:E("altKey"),metaKey:E("metaKey"),ctrlKey:E("ctrlKey"),shiftKey:E("shiftKey"),preventDefault:F("preventDefault"),stopPropagation:F("stopPropagation"),stopImmediatePropagation:F("stopImmediatePropagation")},z=Object.create(null),x=Object.create(null),r={handleEvent:function(M){if(C(M)==="touch"){r[v(M.type)](M)}},pointerdown:function(M){z[M.pointerId]=new A(M);q("touchstart",M)},pointermove:function(M){z[M.pointerId]._=M;q("touchmove",M)},pointerup:function(M){delete z[M.pointerId];q("touchend",M)}};function A(M){this._=M}Object.defineProperties(A.prototype,{identifier:E("pointerId"),target:E("target"),screenX:E("screenX"),screenY:E("screenY"),clientX:E("clientX"),clientY:E("clientY"),pageX:E("pageX"),pageY:E("pageY")});x.touchstart=t("PointerDown");x.touchmove=t("PointerMove");x.touchend=t("PointerUp");G(D,"addEventListener");G(D,"removeEventListener");G(Element.prototype,"addEventListener");G(Element.prototype,"removeEventListener");D.ontouchstart=D.ontouchmove=D.ontouchend=null}(navigator,document));try{if(IE9Mobile||k("?",36).length<36){throw 0}}catch(j){h.compat=true;k=function(q){return base64Icon[q]};(function(r,q){q=r.documentElement;q.insertBefore(r.createElement("script"),q.lastChild).src="/cgi/base64_icon.php"}(document))}(function(am,w){var B=12,I=15,at=18,M=3,az="ontouchend" in w,W=new i(256),ad,r,T,aw,an,x,A,P,v,G,O,ao,F,aB,ap,aj=true;am.onDOM(function(){if(IE9Mobile){d("../fonts/fontawesome-webfont.svg")}ai();$("noscript").forEach(function(aC){aC.remove()});ah(false,true)});am.onLoad(ay);function ai(){while(w.body.firstChild.id!="map"){w.body.removeChild(w.body.firstChild)}}function ay(){var aC,aG,aE,aF;if(!am.L){return setTimeout(ay,15)}O={map:$("section#map")[0],about:$("section#about")[0],contact:$("section#contact")[0],pinIt:$("section#pin-it")[0]};O.nav=$("nav",O.map)[0];O.placeDetails=$("div.details",O.map)[0];O.location=$("div.location",O.map)[0];O.details=[O.about,O.contact,O.pinIt];aG=$("section#map img")[0];if(!am.compat){aD();aE=w.createElement("canvas");aE.style.cssText="width:"+aG.width+"px;height:"+aG.height+"px;";aG.replace(a(aE,aG.width*l.ratio,"#E6A72A").on("click",U));aE=w.createElement("canvas");aE.style.cssText="width:"+20+"px;height:"+20+"px;";$("li.intro h3 > i")[0].replace(a(aE,20*l.ratio,"#064646"))}else{aG.on("click",U)}C();if(l.height<=500){O.map.appendChild($(am.compat?"img":"canvas",O.map)[0]).classList.add("logo")}setTimeout(au,Math.random()*1000);function aD(){for(var aL,aK,aN=w.createElement("canvas"),aM=w.createDocumentFragment(),aP=[30,57,60,72,114,128,144,173,196,214,256],aO=0;aO<aP.length;aO++){aL=w.createElement("link");aK=w.createElement("link");aL.rel="shortcut icon";aK.rel="apple-touch-icon";aL.type=aK.type="image/png";aL.href=aK.href=a(aN,aP[aO],"#E6A72A","#286868").toDataURL();aL.setAttribute("sizes",aL.sizes=aP[aO]+"x"+aP[aO]);aK.setAttribute("sizes",aL.sizes);aM.appendChild(aL);aM.appendChild(aK)}(w.head||w.querySelector("head")).appendChild(aM)}function aJ(aK,aL){if(aL.parentNode){aL.parentNode.classList.remove("selected")}aL.parentNode=aK;aL.section=aK.firstChild.href.split("#")[1];aK.classList.add("selected")}T=$("select[name=category]")[0];T.on("change",function(){Q(false);ac()});aw=[].map.call(T.options,function(aK){this[aK.value]=aK.textContent;return aK.value},an={});aC=$("nav a").on("click",function aI(aO){var aK=this.parentNode,aL;if(aI.sk){aI.sk.cancel()}if(aK.classList.contains("selected")){aO.preventDefault();aI.parentNode=null;aK.classList.remove("selected");aL=O.nav.offsetHeight;(aI.sk=new c({context:O.map,onstart:function(){aI.kinetic=true;if(aa.sk){aa.sk.cancel()}ah(false);w.body.scrollTop=w.documentElement.scrollTop=0;aI.ms.display="block";if(IE9Mobile){O.nav.style.top=null}aI.np.appendChild(O.nav)},onmove:function(aP,aU,aR,aQ,aT,aS){aI.ms.minHeight=aU+"px"},onend:function(aP,aU,aR,aQ,aT,aS){aI.ms.minHeight=null;G.style.zIndex=T.style.zIndex=9999;O.placeDetails.style.height=O.placeDetails.style._height;ad.invalidateSize();aI.kinetic=false;aI.doNotScroll=true}})).init(0,aL,0,l.height-aL,false,true)}else{if(aI.parentNode){if(IE9Mobile){aJ(aK,aI)}else{aO.preventDefault();aJ(aK,aI);setTimeout(aa,300,aK)}}else{aO.preventDefault();aI.sk=new c({context:O.map,onstart:function(){G.style.zIndex=T.style.zIndex=0;O.placeDetails.style._height=O.placeDetails.style.height;O.placeDetails.style.height=0;aI.doNotScroll=false;aI.kinetic=true;ah(true)},onmove:function(aP,aU,aR,aQ,aT,aS){aI.ms.minHeight=aU+"px"},onend:function(){O.about.prepend(O.nav);aI.ms.display="none";setTimeout(aJ,100,aI.lt,aI);setTimeout(aa,400,aI.lt);aI.kinetic=false}});if(!aI.np){aI.np=O.nav.parentNode;aI.ms=O.map.style}aI.lt=aK;aL=O.map.offsetHeight;aI.sk.init(0,aL,0,($("footer",O.map)[0].offsetHeight-aL),false,true);if(!aI.scroll){aI.scroll=true;[w,w.documentElement,w.body].forEach(function(aP){aP.on("scroll",this).on("mousewheel",this);this.i=0},function aM(aU){if(aa.kinetic||aI.kinetic||aI.doNotScroll){return}var aT=ap(),aR,aP,aQ,aS;if(ap.el){aR="scrollTop" in this?this:ap.el;if(aR==ap.el){aP=aS=0;aQ=aT+l.height/3;while(aP<O.details.length){aR=O.details[aP++];aS+=aR.offsetHeight+8;if(aQ<aS){--aP;break}}if(aP!=aM.i){aM.i=aP;aJ(aC[aP].parentNode,aI)}if(IE9Mobile){O.nav.style.top=w.documentElement.scrollTop+"px"}}else{this.off("scroll",aM).off("mousewheel",aM)}}})}}}try{this.blur()}catch(aN){}});aC.some(function(aK){if(aK.href.split("#")[1]==this){setTimeout(aK.trigger.bind(aK),2000,"click");return true}},location.href.split("#")[1]);O.tiles=$("#tiles")[0];ad=N(O.tiles);A={};Z(navigator.country?navigator.country.geo:[51.4791,0],6);G=$("button#find-me")[0];if("geolocation" in navigator){G.on("click",function(aL){G.firstChild.classList.remove("fa-compass");G.firstChild.classList.add("fa-spin","fa-refresh");G.disabled=true;G.moved=false;try{if(aF){navigator.geolocation.clearWatch(aF)}aF=navigator.geolocation.watchPosition(function(aM){if(!G.moved){G.moved=true;Z(aM.coords,15)}z(aM.coords);ar()},ar,{maximumAge:300000})}catch(aK){G.remove()}G.blur()})}else{G.remove()}ae();if(f.length){R(f.getItem("equolo.activities"));aE=f.getItem("equolo.map");if(aE){aj=false;Z.apply(null,JSON.parse(aE))}}if(aj){$("li.intro",O.map)[0].style.cssText="display:block;margin-left:"+(ax())+"px;"}ad.on("zoomend",function aH(aK){var aL=ad.getZoom(),aM=aH.current||0;aH.current=aL;if(aM===0||((B<=aL&&aM<B)||(aL<B&&B<=aM))){Q(true);ac()}});ad.on("movestart",function(){G.moved=true;aj=false});ad.on("moveend",aE=p(function(){var aM=ad.getZoom(),aK=ad.getCenter(),aL;f.setItem("equolo.map",JSON.stringify([aK,aM]))}));ad.on("movestart",aE.clear);am.on("pagehide",t).on("unload",t);if(IE9Mobile){am.trigger("leaflet:map",ad)}}function t(){if(f.length){try{f.setItem("equolo.activities",ao||"")}catch(aC){f.setItem("equolo.activities","")}}}function N(aE,aD){var aC={attribution:'Map Tiles <a href="http://open.mapquest.com/">&copy; Open MapQuest</a>',maxZoom:at,minZoom:M},aF;aF=aD?L.map(aE,aD):L.map(aE);L.tileLayer("http://otile1.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.jpg",aC).addTo(aF);return aF}function ar(){G.firstChild.classList.remove("fa-spin","fa-download");G.firstChild.classList.add("fa-compass");G.disabled=false}function X(){if(!aB){aB=F.reduce(aA,[])}return aB}function Y(aD,aC){var aE=W.pointDistance(W.coordsToPoint(aD,at),W.coordsToPoint(aC,at));if(!("distance" in aD)){aD.distance=aE}if(!("distance" in aC)){aC.distance=aE}if(aD.distance<aC.distance){if(aE<aD.distance){aD.distance=aE;return 1}return 0}else{if(aC.distance<aD.distance){return -1}else{return 0}}}function ab(aC){aC.name=this.name;aC.description=this.description;aC.aid=this.id;return aC}function aA(aC,aD){return aC.concat(aD.place.map(ab,aD))}function J(aJ){for(var aD,aI,aG,aH=B<=ad.getZoom(),aE=aH||{stroke:true,color:"#286868",weight:2,opacity:1,fill:true,fillColor:"#E6A72A",fillOpacity:1,radius:8,clickable:false,pointerEvents:false},aC=aJ.place,aF=0;aF<aC.length;aF++){aI=aC[aF];aG=aI.icon;if(aH){aD=y(aI);aD.activity=aJ;aD.placeIndex=aF}else{aD=L.circleMarker(K(aI),aE)}A[aG].addLayer(aD)}}function y(aD){var aC=L.marker(K(aD),{icon:L.icon({iconUrl:k(aD.icon,36),iconSize:[36,36],iconAnchor:[18,36]})});aC.on("click",E);aC.id=aD.id;return aC}function z(aC){var aD=K(aC);if(!v){v=L.circleMarker(aD,{clickable:false,pointerEvents:false});v.addTo(ad)}v.setLatLng(aD)}function S(){for(var aD=T.value,aC=1;aC<aw.length;aC++){if(aD=="all"||aD==aw[aC]){A[aw[aC]].addTo(ad)}}}function q(aD){for(var aC=1;aC<aw.length;aC++){if(A.hasOwnProperty(aw[aC])){ad.removeLayer(A[aw[aC]])}if(aD){A[aw[aC]]=L.layerGroup()}}}function af(aC){if(!this.hasOwnProperty(aC.icon)){this[aC.icon]=0}this[aC.icon]++}function ac(){if(aj){return}if(ac.moveend){ad.off("moveend",ac.moveend);ad.off("movestart",ac.moveend.clear)}$("li",O.location).forEach(function(aC){if(aC.classList.contains("place")){aC.remove()}else{aC.style.display="none"}});ac.map={};if(ad.getZoom()<B){if(ac.el){ac.el.style.width=null}ac.el=$("li.stats",O.map)[0];ac.el.style.display="block";ad.on("moveend",ac.moveend=p(function(){var aF,aE,aD={},aC=[];X().filter(ak,ad.getBounds()).forEach(af,aD);for(aE in aD){if(aD.hasOwnProperty(aE)){aC.push('<i class="fa fa-'+aE+'"></i> '+an[aE]+" "+aD[aE])}}aF=ac.el.childNodes[1];aF.innerHTML=aC.length?aC.join(", "):"we have nothing nothing in this area :-(<br/>do you know any activity that could be part of equolo?";al(aF)}));ad.on("movestart",ac.moveend.clear)}else{ac.el=$("ul",O.map)[0];ad.on("moveend",ac.moveend=p(function(){var aG=X().filter(ak,ad.getBounds()),aF=aG.length,aC=aF&&w.createDocumentFragment(),aD=0,aE;if(!aF){return}aE=[];aG.forEach(function(aI){aE.push(aI.id);if(ac.map[aI.id]){return}var aH=this.appendChild(w.createElement("li")),aJ=aH.appendChild(w.createElement("h3")),aK=aH.appendChild(w.createElement("p"));aJ.classList.add("ellipsis");aH.data("coords",aI.latitude+"/"+aI.longitude);aH.classList.add("place","t-all");aH.id="place-"+aI.id;ac.map[aI.id]=aI;aJ.appendChild(w.createElement("i")).classList.add("fa","fa-"+aI.icon);aJ.appendChild(w.createTextNode(" "+aI.name));aJ.appendChild(w.createElement("span")).textContent=aI.postcode;aK.appendChild(w.createTextNode(aI.description));if(!az){aH.on("click",aq)}},aC);ac.el.appendChild(aC);aF=$("li.place",ac.el).filter(function(aH){var aI=aH.id.slice(6);if(aE.indexOf(aI)<0){delete ac.map[aI];aH.remove();return false}return true}).length;ac.el.style.width=(aF*276+ax()*2+1)+"px";al(ac.el);if(az&&!ac.hscroll){ac.hscroll=new g(ac.el,{onstart:function(){this.x=ac.el.scrollLeft;this.el=aq.last||$("li.place",ac.el)[0];aq.reset()},onchange:function(aH){this.x=aH.x-this.x},onend:function(aH){aq.call((this.x<0?this.el.nextElementSibling:this.el.previousElementSibling)||this.el,{})},onclick:function(aI){var aH=aI.target;while(aH&&aH.nodeName!=="LI"){aH=aH.parentNode}if(aH&&aH.nodeName==="LI"){aq.call(aH,aH)}}})}}));ad.on("movestart",ac.movestart=function(){ac.moveend.clear();aq.cancel()});ac.moveend()}}function E(){aq.call($("li#place-"+this.id)[0],{detail:false})}function u(aC){return this[aC].length}function s(aC){return this[aC]}function H(aE,aD,aC){var aF=aC.filter(u,aD);if(aF.length){(aE.appendChild(w.createElement("li"))).textContent=aF.map(s,aD).join(", ")}}function av(aE,aD,aG,aF){var aC;if(aD[aG]){aC=aE.lastChild.appendChild(w.createElement("a"));aC.classList.add("social");switch(aG){case"twitter":aC.href=/^https?:\/\/(?:www.)?twitter\./.test(aD[aG])?aD[aG]:"https://twitter.com/"+aD[aG].replace(/^@/,"");break;case"facebook":aC.href=/^https?:\/\/(?:www.)?facebook\./.test(aD[aG])?aD[aG]:"https://www.facebook.com/"+aD[aG];break;case"gplus":aC.href=/^https?:\/\/plus\.google\./.test(aD[aG])?aD[aG]:"https://plus.google.com/"+aD[aG];break}aC.appendChild(w.createElement("i")).classList.add("fa","fa-"+aF)}}function V(aE,aD,aG,aF){var aC;if(aD[aG]){aC=aE.appendChild(w.createElement("li"));aC.classList.add("button");aC.appendChild(w.createElement("i")).classList.add("fa","fa-"+aF);aC=aC.appendChild(w.createElement("a"));aC.classList.add("ellipsis");switch(aG){case"phone":aC.href="tel:"+aD[aG].replace(/[^0-9+]/g,"");break;case"email":aC.href="mailto:"+aD[aG];break;default:aC.href=/^https?:\/\//i.test(aD[aG])?aD[aG]:"http://"+aD[aG];break}aC.textContent=aD[aG]}}function D(aD){var aF,aE,aC,aG;D.showing=true;if(!D.footer){D.footer=O.nav.parentNode.offsetHeight}if(!D.el){D.el=$("div.details",O.map)[0]}aC=O.tiles.offsetHeight;aF=D.el;aF.style.cssText="opacity:1;top:"+($("header",O.map)[0].offsetHeight)+"px;height:"+(aC<276?(aC+D.footer):aC)+"px;";if(aC<276){O.location.style.bottom=O.nav.parentNode.style.height=0}if(!r){D.h3=$("h3",aF)[0];D.info=$("ul",aF)[0];D.address=$("ul.address",aF)[0];D.contact=$("ul.contact",aF)[0];r=N($("div.minimap",aF)[0],{zoomControl:false,dragging:false,touchZoom:false,doubleClickZoom:false,scrollWheelZoom:false,boxZoom:false,keyboard:false,attributionControl:false,tap:false})}y(aD).addTo(r);aG=W.coordsToPoint(aD,15);aG.y-=18;r.setView(K(W.pointToCoords(aG,15)),15);D.h3.textContent=D.address.textContent=D.contact.textContent="";D.h3.appendChild(w.createElement("i")).className="fa fa-"+aD.icon;D.h3.appendChild(w.createTextNode(" "+aD.name));aE=D.address;H(aE,aD,["address","extra","postcode","city"]);V(aE,aD,"phone","phone");av(aE,aD,"twitter","twitter");V(aE,aD,"email","envelope");av(aE,aD,"facebook","facebook-square");V(aE,aD,"website","globe");av(aE,aD,"gplus","google-plus");al(aF)}function aq(aE){try{var aG=this.data("coords").split("/"),aJ=aq.last==this,aD=this.parentNode.parentNode,aH=this.id.slice(6),aK,aI,aC,aL}catch(aF){return}this.clicked=true;if(aJ){if(D.showing){D.showing=false;D.el.style.cssText="";O.location.style.bottom=O.nav.parentNode.style.height=null}else{D(ac.map[aH])}}else{aL=aE.detail===false?Object:function(aM,aS,aO,aN,aQ,aP){var aR=aq.cancel;aq.cancel=Object;Z({latitude:parseFloat(aG[0]),longitude:parseFloat(aG[1])},ad.getZoom());aq.cancel=aR;if(D.showing){D(ac.map[aH])}};aq.cancel();(aq.last=this).classList.add("selected");aI=0;aK=this.previousElementSibling;while(aK.classList.contains("place")){aK=aK.previousElementSibling;aI+=276}aC=g.compat?-parseFloat(aD.style.marginLeft||0):aD.scrollLeft;(aq.sk=new c({onmove:function(aM,aR,aO,aN,aQ,aP){if(g.compat){aD.style.marginLeft=-aM+"px"}else{aD.scrollLeft=aM}},onend:aL})).init(aC,0,aI-aC,0,true,false)||aL()}}aq.reset=function(){if(aq.last){aq.last.classList.remove("selected");aq.last=null}};aq.cancel=function(){if(aq.sk){aq.sk.cancel()}aq.reset()};function Q(aC){q(aC);if(aC){F.forEach(J)}S()}function R(aC){if(aC){F=JSON.parse(aC).map(ag);ao=aC;aB=null;Q(true);ac()}}function ae(){var aC=am.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");aC.open("GET","/cgi/location.php",true);aC.onreadystatechange=function(){if(aC.readyState==4){if(199<aC.status&&aC.status<400){R(aC.responseText)}else{setTimeout(ae,5000)}}};aC.send(null)}ap=function(aD){var aC=w.body.scrollTop?w.body:(w.documentElement.scrollTop?w.documentElement:null);if(aC){ap=function(aE){return aE==null?aC.scrollTop:(aC.scrollTop=aE)};ap.el=aC;return ap(aD)}else{if(aD==null){return 0}else{w.body.scrollTop=w.documentElement.scrollTop=aD}}};function aa(aF){var aE=aF.firstChild.href.split("#")[1],aD=O.details,aJ=true,aH=0,aC=0,aG=aD.length,aI=ap();while(aJ){aJ=aD[aC].id!=aE;if(aJ){aH+=aD[aC].offsetHeight+8}aC++}if(IEMobile){ap(aH)}else{if(aa.sk){aa.sk.cancel()}(aa.sk=new c({onstart:function(){aa.kinetic=true},onmove:function(aK,aP,aM,aL,aO,aN){ap(aP)},onend:function(aK,aP,aM,aL,aO,aN){ap(aN);aa.kinetic=false}})).init(0,aI,0,aH-aI,false,true)}}function Z(aD,aC){ad.setView(K(aD),aC||Math.max(15,ad.getZoom()))}function ah(aD,aC){var aE=aD?"remove":"add";if(aC){w.documentElement.scrollTop=0;w.body.scrollTop=0}w.documentElement.classList[aE]("no-scroll");w.body.classList[aE]("no-scroll")}function ax(){return(l.width-276)>>1}function C(){var aC=ax();o({section:{"min-height":l.height+"px"},"section#map > div.location li.place:nth-child(3)":{"margin-left":aC+"px"},"section#map > div.location li.place:last-child":{"margin-right":aC+"px"},"section#map > div.location > ul > li":{"min-height":(150-m)+"px"}});if(ad){ad.invalidateSize()}if(r){r.invalidateSize()}}function ak(aC){var aD=T.value;return aC.icon==aD||aD=="all"&&this.contains(new L.LatLng(aC.latitude,aC.longitude))}function K(aC){return[aC.latitude||aC.lat||aC[0]||0,aC.longitude||aC.lng||aC[1]||0]}function al(aC){if(IE9Mobile){d.fix(aC)}}function U(){l.full(!l.fullScreen)}function ag(aC){aC.place=n.unpack(aC.place);return aC}function au(){$("span.email").forEach(function(aE){var aC=w.createElement("a"),aD=aE.textContent.split("").reverse().join("");aC.href="mailto:"+aD;aC.textContent=aD;aE.replace(aC)})}l.on("change",C)}(h,document))}(this));