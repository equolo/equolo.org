/*! )Â°(, equolo - https://github.com/equolo/equolo.org */
/*@cc_on
(function(f){
window.setTimeout=f(window.setTimeout);
window.setInterval=f(window.setInterval);
})(function(f){return function(c,t,a){a=[].slice.call(arguments,2);return f(function(){c.apply(this,a)},t)}});
@*/
var
IEMobile=/*@cc_on/\bIEMobile\b/.test(navigator.userAgent)||@*/false,
IE9Mobile=/*@cc_on(IEMobile&&@_jscript_version<10)||@*/false,
IE10Mobile=/*@cc_on(IEMobile&&@_jscript_version/10>=1)||@*/false
;
IE9Mobile&&document.write('<link rel="stylesheet" href="css/IE9Mobile.css"/><script src="js/IE9Mobile.js"></script>');(function(g){
/*! display v0.1.6 - MIT license */
;var k=function(C){var s=C.Math,w=s.abs,E=s.max,B=s.min,I=C.Infinity,q=C.screen||I,p=C.matchMedia,x="addEventListener",H=C.document.documentElement,t=/\bMobile\b/.test(navigator.userAgent),y={change:[]},D={width:0,height:0,ratio:0,on:function(J,K){y[J].push(K)}},F=y.change.forEach||function(M,J){for(var K=0;K<this.length;K++){M.call(J,this[K],K,this)}},u;function v(J){J.call(D,D.width,D.height)}function A(J){if(u){clearTimeout(u);u=0}return(!z()&&innerHeight<300)||(u=setTimeout(r,300,J))}function z(){return"orientation" in C?w(C.orientation||0)===90:!!p&&p("(orientation:landscape)").matches}function r(P){u=0;var K=C.devicePixelRatio||1,Q=z(),M=q.width,O=q.height,N=B(C.innerWidth||H.clientWidth,K<1?I:((t&&Q?E(M,O):M)||I)),J=B(C.innerHeight||H.clientHeight,K<1?I:((t&&Q?B(M,O):O)||I));if(N!==D.width||J!==D.height){D.width=N;D.height=J;F.call(y.change,v)}}if(x in C){C[x]("orientationchange",A,true);C[x]("resize",A,true);try{q[x]("orientationchange",A,true)}catch(G){}}else{C.attachEvent("onresize",r)}r.call(C);D.ratio=C.devicePixelRatio||q.width/D.width||(q.deviceXDPI||1)/(q.logicalXDPI||1);return D}(g);function n(y,v){
/*! (C) Andrea Giammarchi - Mit Style License */
;if(!v){v=document}v.getElementsByTagName("head")[0].appendChild(v.createElement("style")).appendChild(v.createTextNode(""));var x=v.styleSheets,u=x[x.length-1],z=u.addRule||function(A,C,B){this.insertRule(A+"{"+C+"}",B)},q=0,p,s,w,t,r;for(p in y){if(y.hasOwnProperty(p)){r=[];s=y[p];for(w in s){if(s.hasOwnProperty(w)){t=s[w];r.push("-webkit-"+w+":"+t,"-khtml-"+w+":"+t,"-blink-"+w+":"+t,"-moz-"+w+":"+t,"-ms-"+w+":"+t,"-o-"+w+":"+t,w+":"+t)}}z.call(u,p,r.join(";")+";",q++)}}}(function(r,p,q){"bind" in p||(p.bind=function(w){var v=this,u=r.slice,t=u.call(arguments,1);return function(){return v.apply(w,t.concat(u.call(arguments)))}});"trim" in q||(q.trim=function(){return this.replace(/^[^\S]+|[^\S]+$/g,"")})}(Array.prototype,Function.prototype,String.prototype));var m,b=m=function(y,r){function G(P){for(var J=P.length,Q=w(J?P[0]:{}),K=Q.length,R=y(J*K),O=0,N=0,M,I;O<J;++O){for(I=P[O],M=0;M<K;R[N++]=I[Q[M++]]){}}return t.call([K],Q,R)}function E(N){for(var O=N.length,J=N[0],I=y(((O-J-1)/J)||0),M=1+J,K=0,Q,P;M<O;){for(I[K++]=(P={}),Q=0;Q<J;P[N[++Q]]=N[M++]){}}return I}function s(J){return function I(Q){for(var S=this,R=Q,O=0,P=S.length,M,K,N;O<P;++O){if(v(N=R[K=S[O]])){M=O+1;R[K]=M<P?H.call(N,J,S.slice(M)):J(N)}R=R[K]}return Q}}function u(J){return function I(R,P){for(var M=v(R),K=t.call(q,R),Q=t.call(q,P),N=0,O=Q.length;N<O;++N){K=H.call(K,J,Q[N].split("."))}return M?K:K[0]}}function C(J,I){return I?x(J,I):G(J)}function p(I,J){return J?B(I,J):E(I)}function A(M,I,K,J){return F(C(M,J),I,K)}function z(J,I,K){return p(D(J,I),K)}var q=[],t=q.concat,w=Object.keys||function(K){var J=[],I;for(I in K){K.hasOwnProperty(I)&&J.push(I)}return J},v=y.isArray||(function(J,K){K=J.call(q);return function I(M){return J.call(M)==K}}({}.toString)),H=q.map||function(N,M){for(var J=this,K=J.length,I=y(K);K--;I[K]=N.call(M,J[K],K,J)){}return I},x=u(s(G)),B=u(s(E)),F=r.stringify,D=r.parse;return{pack:C,parse:z,stringify:A,unpack:p}}(Array,JSON);
/*! (C) WebReflection Mit Style License */
(function(D){function J(p){return typeof p=="string"?D.document.createTextNode(p):p}function y(v){if(v.length===1){return J(v[0])}for(var u=D.document.createDocumentFragment(),p=B.call(v),t=0;t<v.length;t++){u.appendChild(J(p[t]))}return u}for(var q,A,K,x=/^\s+|\s+$/g,I=/\s+/,G=" ",C=function(p,r){return this.contains(p)?r||this.remove(p):r&&this.add(p),!!r},z=(D.Element||D.Node||D.HTMLElement).prototype,F=["prepend",function(){var p=this.firstChild,s=y(arguments);p?this.insertBefore(s,p):this.appendChild(s)},"append",function(){this.appendChild(y(arguments))},"before",function(){var p=this.parentNode;p&&p.insertBefore(y(arguments),this)},"after",function(){var s=this.parentNode,u=this.nextSibling,p=y(arguments);s&&(u?s.insertBefore(p,u):s.appendChild(p))},"replace",function(){var p=this.parentNode;p&&p.replaceChild(y(arguments),this)},"remove",function(){var p=this.parentNode;p&&p.removeChild(this)}],B=F.slice,w=F.length;w;w-=2){q=F[w-2],q in z||(z[q]=F[w-1])}"classList" in document.documentElement?(K=document.createElement("div").classList,K.add("a","b"),"a b"!=K&&(z=K.constructor.prototype,"add" in z||(z=D.DOMTokenList.prototype),A=function(p){return function(){var r=0;while(r<arguments.length){p.call(this,arguments[r++])}}},z.add=A(z.add),z.remove=A(z.remove),z.toggle=C)):(A=function(p){if(!p){throw"SyntaxError"}if(I.test(p)){throw"InvalidCharacterError"}return p},K=function(r){var p=r.className.replace(x,"");p.length&&F.push.apply(this,p.split(I)),this._=r},K.prototype={length:0,add:function(){for(var p=0,r;p<arguments.length;p++){r=arguments[p],this.contains(r)||F.push.call(this,q)}this._.className=""+this},contains:function(p){return function(r){return w=p.call(this,q=A(r)),-1<w}}([].indexOf||function(p){w=this.length;while(w--&&this[w]!==p){}return w}),item:function(p){return this[p]||null},remove:function(){for(var p=0,r;p<arguments.length;p++){r=arguments[p],this.contains(r)&&F.splice.call(this,w,1)}this._.className=""+this},toggle:C,toString:function H(){return F.join.call(this,G)}},(Object.defineProperty||function(r,p,s){r.__defineGetter__(p,s.get)})(z,"classList",{get:function(){return new K(this)},set:function(){}}));try{new D.CustomEvent("?")}catch(E){D.CustomEvent=function(u,p){function v(M,r){var t=document.createEvent(u);if(typeof M!="string"){throw new Error("An event name must be provided")}return u=="Event"&&(t.initCustomEvent=s),r==null&&(r=p),t.initCustomEvent(M,r.bubbles,r.cancelable,r.detail),t}function s(O,M,P,N){this.initEvent(O,M,P),this.detail=N}return v}(D.CustomEvent?"CustomEvent":"Event",{bubbles:!1,cancelable:!1,detail:null})}})(g);
/*! (C) Andrea Giammarchi Mit Style License */
(function(ab){function I(){return{l:{},m:[],b:[]}}function z(r){var p=I();return ad.value=p,P(r,aa,ad),ad.value=null,p}function D(r,p,s){typeof p=="function"?p.apply(r,s):p.handleEvent.apply(p,s)}function q(r,p,s){s&&B(this,"detail",s),B(this,"type",p),B(this,"target",r),B(this,"timeStamp",U())}if(ab.eddy){return}ab.eddy=!0;var J=Array.prototype,R=ab.prototype,O=q.prototype,X=R.hasOwnProperty,K=J.push,Q=J.slice,H=J.unshift,af="toLocaleString",aa={toLocaleString:1}.propertyIsEnumerable(af)?"_@eddy"+Math.random():af,V=aa===af,ad=(ab.create||ab)(null),Y=[],P=V?function(r,p,s){r[p]=s.value}:ab.defineProperty,ac=function(r){var p=this;return function(){return p.apply(r,arguments)}},G=J.indexOf||function(r){var p=this.length;while(p--&&this[p]!==r){}return p},U=Date.now||function(){return(new Date).getTime()},Z={boundTo:function(v){var y=X.call(this,aa)?this[aa]:z(this),w=y.m,x=y.b,s=typeof v=="string"?this[v]:v,p=G.call(w,s);return p<0?x[K.call(w,s)-1]=ac.call(s,this):x[p]},emit:function(x){var N=X.call(this,aa),C=N&&this[aa].l,y=N&&X.call(C,x),w=y&&C[x],v=y&&Q.call(arguments,1),p=0,E=y?w.length:p;while(p<E){D(this,w[p++],v)}return y},listeners:function(p){return X.call(this,aa)&&X.call(this[aa].l,p)&&this[aa].l[p].slice()||[]},off:function(v,C){var x=X.call(this,aa),w=x&&this[aa].l,y=x&&X.call(w,v)&&w[v],p;return y&&(p=G.call(y,C),-1<p&&(y.splice(p,1),y.length||delete w[v])),this},on:function(u,x,v){var w=X.call(this,aa),s=(w?this[aa]:z(this)).l,p=w&&X.call(s,u)?s[u]:s[u]=[];return G.call(p,x)<0&&(v?H:K).call(p,x),this},once:function(u,x,w){var p=function(r){v.off(u,p,w),D(v,x,arguments)},v=this;return v.on(u,p,w)},trigger:function(ah,x){var ai=X.call(this,aa),w=ai&&this[aa].l,ag=typeof ah=="string",S=ag?ah:ah.type,C=ai&&X.call(w,S),N=C&&w[S].slice(0),r=ag?new q(this,S,x):ah,E=0,T=C?N.length:E,y=!(r instanceof q);y&&(r._active=!0,r.stopImmediatePropagation=O.stopImmediatePropagation),r.currentTarget=this,Y[0]=r;while(r._active&&E<T){D(this,N[E++],Y)}return y&&(delete r._active,delete r.stopImmediatePropagation),!r.defaultPrevented}},B=function(r,p,s){X.call(r,p)||(r[p]=s)},ae=!1,F;O.defaultPrevented=!1,O._active=O.cancelable=!0,O.preventDefault=function(){this.defaultPrevented=!0},O.stopImmediatePropagation=function(){this._active=!1};for(F in Z){X.call(Z,F)&&P(R,F,{enumerable:!1,configurable:!0,writable:!0,value:Z[F]})}(function(s){function t(r){function u(v){v[r].apply(v,this)}return function(){return s.call(this,u,arguments),this}}for(var p in Z){Z.hasOwnProperty(p)&&!/^listeners|boundTo$/.test(p)&&P(J,p,{enumerable:!1,configurable:!0,writable:!0,value:t(p)})}})(J.forEach);var A={boundTo:Z.boundTo,data:function W(r,p){var s="dataset" in this;return arguments.length<2?s?this.dataset[r]:(p=this.getAttribute("data-"+r.replace(W.gre||(W.gre=/-[a-z]/g),W.gplace||(W.gplace=function(v,u){return u.toUpperCase()}))))==null?void 0:p:s?p==null?delete this.dataset[r]:(this.dataset[r]=p,p):(W.sre||(W.sre=/([a-z])([A-Z])/g,W.splace=function(v,u,w){return u+"-"+w.toLowerCase()}),r="data-"+r.replace(W.sre,W.splace),p==null?!this.removeAttribute(r):(this.setAttribute(r,p),p))},emit:function(s){var p=new CustomEvent(s);return p.arguments=J.slice.call(arguments,1),this.dispatchEvent(p)},listeners:function(p){return[]},off:function(r,p,s){return this.removeEventListener(r,p,s),this},on:function(r,p,s){return this.addEventListener(r,p,s),this},once:Z.once,trigger:function(u,x){var w=typeof u=="string",p=w?u:u.type,v=w?new CustomEvent(p,(ad.detail=x,ad)):u;return ad.detail=null,q.call(v,this,p),this.dispatchEvent(v)}};ad.cancelable=!0,ad.bubbles=!0;try{document.createEvent("Event").target=document}catch(M){ae=!0,B=function(u,p,v){if(!X.call(u,p)){try{u[p]=v}catch(s){}}}}(function(C){var w=C.Window,N=w?w.prototype:C,y=(C.Node||C.Element||C.HTMLElement).prototype,x=(C.Document||C.HTMLDocument).prototype,E=(C.XMLHttpRequest||function(){}).prototype,v,p;for(v in A){X.call(A,v)&&(p={enumerable:!1,configurable:!0,writable:!0,value:A[v]},P(N,v,p),P(y,v,p),P(x,v,p),v!=="data"&&P(E,v,p))}})(g)})(Object);g.$=function(p){return function(r,q){return p.slice.call(p.concat(q||document)[0].querySelectorAll(r))}}([]);function h(F){
/*! (C) Andrea Giammarchi */
;var w=g.Math,t=w.atan,v=w.exp,u=w.log,E=w.max,B=w.min,J=w.round,H=w.tan,z=w.PI,q=0.5,K=90,r=K*2,G=K*4,s=z/2,p=z/4,D=z/r,x=r/z,C=z*2,y=z*4;if(!F){F=256}return{coordsToPoint:function A(O,N){var M=F<<N;return{x:J((O.longitude/G+q)*M),y:J(B(1,E(0,q-(u(H(p+s*O.latitude/r))/z)/2))*M)}},pointToCoords:function I(N,P){var O=F<<P,M=N.x/O,Q=N.y/O;return{latitude:Q<=0?K:Q>=1?-K:x*(2*t(v(z*(1-2*Q)))-s),longitude:(M===1?1:(M%1+1)%1)*G-r}}}}var l=l||function(u){var t=u.documentElement,s=u.createElement("p"),q;s.style.cssText=[";position:absolute",";margin:0",";padding:0",";display:block",";overflow:scroll",";width:50px",";line-height:50px",";font-size:50px"].join(" !important");s.innerHTML="0";t.insertBefore(s,t.lastChild);q=s.offsetWidth-s.clientWidth;t.removeChild(s);return q}(document);
/*! SimpleKinetic v0.1.1 - MIT license */
;var c=function(q){var y=q.isNaN,r=q.Math,F=r.abs,E=r.round,B=r.sqrt,x=q.setInterval,C=q.clearInterval,t=0.2,D=9,z=1000/60,w=s.prototype;function s(G){for(var H in G){if(/^on|context|interval/.test(H)){this[H]=G[H]}}}w.init=function(V,U,M,J,P,N){var W=v(this),K=(F(M)<1?0:M)*(P?1:D),R=(F(J)<1?0:J)*(N?1:D),I=K*K,Q=R*R,H=B(I+Q),G=K/H,O=R/H,T,S;W.cancel(W._cx,W._cy);if(!(y(G)||y(O))){W._a=x(u,W.interval||z,W);W._t=0;W._d=H;W._sx=W._cx=V;W._sy=W._cy=U;W._xa=G;W._ya=O;T=E(V+H*G);S=E(U+H*O);W._ex=T;W._ey=S;if((V!==T||U!==S)&&W.start(V,U,0,0,T,S)!==false){return true}v(W._a)}return false};w.start=A("start");w.move=A("move");w.end=A("end");w.cancel=function(I,G,J,H,M,K){if(this._a){v(this).oncancel.call(this.context||this,I,G,J,H,M,K)}};w.onstart=w.onmove=w.onend=w.oncancel=function(I,G,J,H,M,K){};function v(G){C(G._a);G._a=0;return G}function A(G){G="on"+G;return function(J,H,K,I,N,M){return this[G].call(this.context||this,J,H,K,I,N,M)}}function u(H){var N=(H._t+=(H._d-H._t)*t),G=E(H._sx+N*H._xa),O=E(H._sy+N*H._ya),M=H._ex,J=H._ey,K=G-H._cx,I=O-H._cy;if(G===M&&O===J){v(H).end(M,J,K,I,M,J)}else{H.move(G,O,K,I,M,J);H._cx=G;H._cy=O}}var p=x(function(G){C(p);if(!G){x=function(J,I,H){return q.setInterval(function(){J(H)},I)}}},0,1);return s}(this);function a(r,y,p,v){
/*! (C) equolo.org */
;var s=192,u=y/s,w=p||"#286868",q=r.getContext("2d");function x(z,A){q.moveTo(z*u,A*u)}function t(A,z,E,D,C,B){q.bezierCurveTo(A*u,z*u,E*u,D*u,C*u,B*u)}q.clearRect(0,0,r.width,r.height);r.width=r.height=y;if(v){q.fillStyle=v;q.fillRect(0,0,y,y)}q.fillStyle=w;q.save();q.scale(1.25,1.25);q.beginPath();x(95.32+10,10.21);t(101.05+10,7.85,108.56+10,12.68,108.09+10,19.01);t(108.39+10,25.61,100.46+10,30.49,94.67+10,27.28);t(87.81+10,24.1,88.04+10,12.79,95.32+10,10.21);q.closePath();q.fill();q.beginPath();x(67.01+10,7.48);t(72.33+10,20.59,82.54+10,31.7,95.46+10,37.57);t(104.17+10,41.72,113.89+10,43.25,123.47+10,43.1);t(108.12+10,48.29,96.34+10,60.6,88.32+10,74.31);t(79.91+10,88.85,78.34+10,106.86,83.29+10,122.84);t(72.84+10,106.64,59.08+10,91.84,41.39+10,83.57);t(30.55+10,78.74,18.41+10,76.4,6.58+10,77.64);t(24.52+10,73.08,42.99+10,65.59,54.74+10,50.61);t(64.15+10,38.49,68.55+10,22.74,67.01+10,7.48);q.closePath();q.fill();q.beginPath();x(43.22+10,119.97);t(43.75+10,102.87,43.89+10,94.92,48.72+10,89.2);t(50.5+10,93.22,49.73+10,97.67,50.54+10,101.88);t(51.34+10,107.31,53.13+10,112.93,57.29+10,116.73);t(61.3+10,121.01,68.71+10,121.41,70.94+10,127.44);t(72.27+10,133.19,66.42+10,138.03,61.08+10,138.09);t(54.7+10,138.64,49.47+10,133.66,46.69+10,128.39);t(43.41+10,122.84,43.52+10,116.2,43.22+10,109.97);q.closePath();q.fill();q.restore();return r}var j=function(q){var r=q.getContext("2d"),u={question:61736,"shopping-cart":61562,gift:61547,cutlery:61685,home:61461,glass:61440,briefcase:61617,group:61632,truck:61649},p={};function t(z,B,A){r.beginPath();r.arc(z,B,A,0,Math.PI*2,true);r.closePath();r.fill()}function s(y,x){r.clearRect(0,0,q.width,q.height);q.width=q.height=x;r.textBaseline="bottom";r.fillStyle="rgb(25,138,138)";t(x/2,x/2.5,x/2.5);v(x,x/4.9);r.fillStyle="rgb(240,240,240)";t(x/2,x/2.5,x/2.8);r.font=r.mozTextStyle=Math.round(x/2)+"px FontAwesome";r.translate((q.width-(r.measureText||r.mozMeasureText).call(r,y).width)/2,0);r.fillStyle="rgb(40,104,104)";if(y.length){r.fillText(y,0,x/1.5)}else{r.drawImage(a(document.createElement("canvas"),x/1.5),-x/2.8,x/10)}return q.toDataURL()}function v(x,y){r.beginPath();r.moveTo(x/2,x);r.lineTo(y,x/1.5);r.lineTo(x-y,x/1.5);r.lineTo(x/2,x);r.closePath();r.fill()}return function w(z,x,y){return p[z+x+y]||(p[z+x+y]=s(u.hasOwnProperty(z)?String.fromCharCode(u[z]):"",Math.round(x*(y||(typeof k==="undefined"?1:k.ratio)))))}}(document.createElement("canvas"));var f=localStorage;try{f.setItem("0",0)}catch(e){f={length:0,getItem:function(s){var r=document.cookie,q=r.indexOf(s=escape(""+s)),p;if(-1<q){q+=1+s.length;p=r.indexOf(";",q);return unescape(r.substring(q,p<0?r.length:p))}},setItem:function(p,q){document.cookie=[escape(""+p)+"="+escape(""+q),"expires="+(new Date(Date.now()+1000*60*60*24)).toUTCString(),"path=/"].join("; ")}}}g.on("leaflet:map",function(w){function v(){q.panBy([z*6,x*6]);A=null;r=0;s.scrollLeft=parseFloat(s.style.width);s.scrollTop=parseFloat(s.style.height)}function t(){s.style.top=u.offsetHeight+"px";p.style.width=(parseFloat(s.style.width=k.width+"px")*3)+"px";p.style.height=(parseFloat(s.style.height=C.offsetHeight+"px")*3)+"px"}var q=w.detail,C=document.getElementById("tiles"),u=C.parentNode.children[0],s=C.parentNode.appendChild(document.createElement("div")),p=s.appendChild(document.createElement("span")),B={animate:false,noMoveStart:true},r=0,z=0,x=0,A,y;s.id="ie9-map-wrapper";p.id="ie9-map-center";k.on("change",t);p.onmouseenter=p.onmouseleave=p.onselectionstart=p.onmousedown=p.onmouseup=p.onmousemove=p.onclick=p.ondblclick=function(D){D.preventDefault();D.stopPropagation();if(D.pageX<60&&D.pageY<100){}};v();s.onscroll=function(D){if(A!=null){q.panBy([(z=s.scrollLeft-A),(x=s.scrollTop-y)],B);clearTimeout(r);r=setTimeout(v,30)}A=s.scrollLeft;y=s.scrollTop};setTimeout(t)});
/*! (C) Andrea Giammarchi - Mit Style License */
;var d=function(C){function w(s,p){var u=new XMLHttpRequest,r;u.open("get",s,!0),u.onreadystatechange=function(){u.readyState==4&&(r=u.responseXML,r.firstChild||(r=document.createElement("div"),r.innerHTML=u.responseText),q=G(r,"font-face","units-per-em"),z=G(r,"font-face","ascent"),I=G(r,"font-face","descent"),Array.prototype.forEach.call(r.getElementsByTagName("glyph"),E,x={}),p?p(x):F())},u.send(null)}function G(r,p,s){return parseFloat(r.getElementsByTagName(p)[0].getAttribute(s))}function F(p){Array.prototype.forEach.call((p||document).querySelectorAll(".fa"),y,x)}function B(t,M,s){var V=0,T=0,P=t.length,K=M/q*(typeof k=="object"?k.ratio:1.5),R,N,r,Q,U,J,O,S;C.width=C.height=Math.round(K*q),H.translate(0,C.height),H.scale(1,-1),H.fillStyle=s||"rgb(0,0,0)",H.globalCompositeOperation="xor";while(V<P){S=t[V++],O=1;switch(S.type){case"T":O=0;case"t":H.quadraticCurveTo(K*(U=2*r-(U||r)),K*(J=2*Q-(J||Q)),K*(r=r*O+S.arguments[0]),K*(Q=Q*O+S.arguments[1]));break;case"Q":O=0;case"q":H.quadraticCurveTo(K*(U=r*O+S.arguments[0]),K*(J=Q*O+S.arguments[1]),K*(r=r*O+S.arguments[2]),K*(Q=Q*O+S.arguments[3]));break;case"L":O=0;case"l":H.lineTo(K*(r=r*O+S.arguments[0]),K*(Q=Q*O+S.arguments[1]));break;case"H":O=0;case"h":H.lineTo(K*(r=r*O+S.arguments[0]),K*Q);break;case"V":O=0;case"v":H.lineTo(K*r,K*(Q=Q*O+S.arguments[0]));break;case"z":case"Z":H.lineTo(K*R,K*N),H.closePath(),H.fill();break;case"M":O=0,H.moveTo(K*(r=R=S.arguments[0]),K*(Q=N=S.arguments[1]-I)),H.beginPath(),T=2;while(T<S.arguments.length){H.lineTo(K*(r=S.arguments[T]),K*(Q=S.arguments[T+1])),T+=2}break;default:throw"unknown "+S.type}}}function y(J){var s=J.offsetHeight,K=getComputedStyle(J,":before"),u=K.getPropertyValue("content"),p=this[u.length!==1?u.charAt(1):u].size(s,K.getPropertyValue("color"));J.parentNode.replaceChild(p,J)}function E(r,p){var s=r.getAttribute("d");s&&(this[r.getAttribute("unicode")]={size:D,path:s})}function A(u){var p=0,J=[],s;u=u.replace(A.re||(A.re=/\s*([achlmqstvzACHLMQSTVZ])\s*/g),"$1");while(p<u.length){J.push(s={}),p=v(s,u,p)}return J}function v(J,s,K){var u=K,p=!1;switch(J.type=s[K]){case"z":case"Z":return K+1}J.arguments=[];while(u++<s.length){switch(s[u]){case"A":case"a":case"C":case"c":case"H":case"h":case"L":case"l":case"M":case"m":case"Q":case"q":case"S":case"s":case"T":case"t":case"V":case"v":case"Z":case"z":p=!0;case" ":J.arguments.push(parseFloat(s.substring(K+1,u))),K=u;if(p){return K}}}}function D(t,p){var r=new Image;return B(this._actions||(this._actions=A(this.path)),t,p),r.src=C.toDataURL(),r.style.cssText="width:"+t+"px;height:"+t+"px;",H.clearRect(0,0,q,q),r}var H=C.getContext("2d"),x,q,z,I;return w.fix=F,w}(document.createElement("canvas"));
/*! (C) Andrea Giammarchi */
;var o=function(s){function q(w,v){if(!v){v=q.delay}function u(){t();u._=setTimeout(r,v,w,this,arguments,u)}function t(){clearTimeout(u._)}u.clear=t;u._=0;return u}function p(){clearTimeout(this._);this._=0;return this}function r(w,v,u,t){t._=0;w.apply(v,u)}q.delay=s;return q}(500);try{if(IE9Mobile||j("?",36).length<36){throw 0}}catch(i){g.compat=true;j=function(p){return base64Icon[p]};(function(r,q){q=r.documentElement;q.insertBefore(r.createElement("script"),q.lastChild).src="/cgi/base64_icon.php"}(document))}(function(Y,s){var x=12,B=15,P,J,ad,Z,t,w,F,r,A,E,aa,z,ag,ab;function X(){if(X.done){return}X.done=true;V();if(IE9Mobile){d("../fonts/fontawesome-webfont.svg")}$("noscript").forEach(function(ah){if(ah.className=="nav"){$("footer")[0].innerHTML=ah.textContent}ah.remove()});U(false)}s.once("DOMContentLoaded",X);Y.once("load",ae);function V(){while(s.body.firstChild.id!="map"){s.body.removeChild(s.body.firstChild)}return s.body.firstChild}function ae(){var ah,al,aj,ak;X();if(!Y.L){return setTimeout(ae,15)}E={map:V(),about:$("#about")[0],contact:$("#contact")[0],pinIt:$("#pin-it")[0]};E.nav=$("nav",E.map)[0];E.details=[E.about,E.contact,E.pinIt];if(!Y.compat){ai();al=$("section#map img")[0];aj=s.createElement("canvas");aj.style.cssText="width:"+al.width+"px;height:"+al.height+"px;";al.replace(a(aj,al.width*k.ratio,"#E6A72A"));aj=s.createElement("canvas");aj.style.cssText="width:"+20+"px;height:"+20+"px;";$("li.intro h3 > i")[0].replace(a(aj,20*k.ratio,"#064646"))}y();function ai(){for(var aq,ap,at=s.createElement("canvas"),ar=s.createDocumentFragment(),av=[30,57,60,72,114,128,144,173,196,214,256],au=0;au<av.length;au++){aq=s.createElement("link");ap=s.createElement("link");aq.rel="shortcut icon";ap.rel="apple-touch-icon";aq.type=ap.type="image/png";aq.href=ap.href=a(at,av[au],"#E6A72A","#286868").toDataURL();aq.setAttribute("sizes",aq.sizes=av[au]+"x"+av[au]);ap.setAttribute("sizes",aq.sizes);ar.appendChild(aq);ar.appendChild(ap)}(s.head||s.querySelector("head")).appendChild(ar)}function ao(ap,aq){if(aq.parentNode){aq.parentNode.classList.remove("selected")}aq.parentNode=ap;aq.section=ap.firstChild.href.split("#")[1];ap.classList.add("selected")}J=$("select[name=category]")[0];J.on("change",function(){G(false)});ad=[].map.call(J.options,function(ap){this[ap.value]=ap.textContent;return ap.value},Z={});ah=$("nav a").on("click",function an(au){var ap=this.parentNode,aq;if(an.sk){an.sk.cancel()}if(ap.classList.contains("selected")){au.preventDefault();an.parentNode=null;ap.classList.remove("selected");aq=E.nav.offsetHeight;(an.sk=new c({context:E.map,onstart:function(){an.kinetic=true;if(N.sk){N.sk.cancel()}U(false);s.body.scrollTop=s.documentElement.scrollTop=0;an.ms.display="block";an.np.appendChild(E.nav)},onmove:function(av,aA,ax,aw,az,ay){an.ms.minHeight=aA+"px"},onend:function(av,aA,ax,aw,az,ay){an.ms.minHeight=null;A.style.zIndex=J.style.zIndex=9999;P.invalidateSize();an.kinetic=false;an.doNotScroll=true}})).init(0,aq,0,k.height-aq,false,true)}else{if(an.parentNode){if(IE9Mobile){ao(ap,an)}else{au.preventDefault();ao(ap,an);setTimeout(N,300,ap)}}else{au.preventDefault();an.sk=new c({context:E.map,onstart:function(){an.doNotScroll=false;an.kinetic=true;A.style.zIndex=J.style.zIndex=0;U(true)},onmove:function(av,aA,ax,aw,az,ay){an.ms.minHeight=aA+"px"},onend:function(){E.about.prepend(E.nav);an.ms.display="none";setTimeout(ao,50,an.lt,an);setTimeout(N,350,an.lt);an.kinetic=false}});if(!an.np){an.np=E.nav.parentNode;an.ms=E.map.style}an.lt=ap;aq=E.map.offsetHeight;an.sk.init(0,aq,0,($("footer",E.map)[0].offsetHeight-aq),false,true);if(!an.scroll){an.scroll=true;[s,s.documentElement,s.body].forEach(function(av){av.on("scroll",this).on("mousewheel",this);this.i=0},function ar(aA){if(N.kinetic||an.kinetic||an.doNotScroll){return}var az=ab(),ax,av,aw,ay;if(ab.el){ax="scrollTop" in this?this:ab.el;if(ax==ab.el){av=ay=0;aw=az+k.height/3;while(av<E.details.length){ax=E.details[av++];ay+=ax.offsetHeight+8;if(aw<ay){--av;break}}if(av!=ar.i){ar.i=av;ao(ah[av].parentNode,an)}}else{this.off("scroll",ar).off("mousewheel",ar)}}})}}}try{this.blur()}catch(at){}});L.tileLayer("http://otile1.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.jpg",{attribution:'Map Tiles <a href="http://open.mapquest.com/">&copy; Open MapQuest</a>',maxZoom:18,minZoom:3}).addTo(P=L.map($("section#map > div.map")[0]));w={};M(navigator.country?navigator.country.geo:[51.4791,0],6);A=$("button#find-me")[0];if("geolocation" in navigator){A.on("click",function(aq){A.firstChild.classList.remove("fa-compass");A.firstChild.classList.add("fa-spin","fa-refresh");A.disabled=true;A.moved=false;try{if(ak){navigator.geolocation.clearWatch(ak)}ak=navigator.geolocation.watchPosition(function(ar){if(!A.moved){A.moved=true;M(ar.coords,15)}v(ar.coords);ac()},ac,{maximumAge:300000})}catch(ap){A.remove()}A.blur()})}else{A.remove()}R();if(f.length){H(f.getItem("equolo.activities"));aj=f.getItem("equolo.map");if(aj){M.apply(null,JSON.parse(aj))}else{$("section#map > div.location > ul > li.intro")[0].style.display="block"}}P.on("zoomend",function am(ap){var aq=P.getZoom(),ar=am.current||0;am.current=aq;if(ar===0||((x<=aq&&ar<x)||(aq<x&&x<=ar))){G(true);Q()}});P.on("movestart",function(){A.moved=true});P.on("moveend",aj=o(function(){var ar=P.getZoom(),ap=P.getCenter(),aq;f.setItem("equolo.map",JSON.stringify([ap,ar]))}));P.on("movestart",aj.clear);Y.on("pagehide",q).on("unload",q);if(IE9Mobile){Y.trigger("leaflet:map",P)}}function q(){if(f.length){try{f.setItem("equolo.activities",aa||"")}catch(ah){f.setItem("equolo.activities","")}}}function ac(){A.firstChild.classList.remove("fa-spin","fa-download");A.firstChild.classList.add("fa-compass");A.disabled=false}function K(){return ag||(ag=z.reduce(af,[]))}function O(ah){ah.name=this.name;ah.description=this.description;ah.aid=this.id;return ah}function af(ah,ai){return ah.concat(ai.place.map(O,ai))}function C(ao){for(var ai,an,al,am=x<=P.getZoom(),aj=am||{stroke:true,color:"#286868",weight:2,opacity:1,fill:true,fillColor:"#E6A72A",fillOpacity:1,radius:8,clickable:false,pointerEvents:false},ah=ao.place,ak=0;ak<ah.length;ak++){an=ah[ak];al=an.icon;if(am){ai=u(an);ai.activity=ao;ai.placeIndex=ak}else{ai=L.circleMarker(D(an),aj)}w[al].addLayer(ai)}}function u(ah){return L.marker(D(ah),{icon:L.icon({iconUrl:j(ah.icon,36),iconSize:[36,36]})})}function v(ah){var ai=D(ah);if(!r){r=L.circleMarker(ai,{clickable:false,pointerEvents:false});r.addTo(P)}r.setLatLng(ai)}function I(){for(var ai=J.value,ah=1;ah<ad.length;ah++){if(ai=="all"||ai==ad[ah]){w[ad[ah]].addTo(P)}}}function p(ai){for(var ah=1;ah<ad.length;ah++){if(w.hasOwnProperty(ad[ah])){P.removeLayer(w[ad[ah]])}if(ai){w[ad[ah]]=L.layerGroup()}}}function S(ah){if(!this.hasOwnProperty(ah.icon)){this[ah.icon]=0}this[ah.icon]++}function Q(){if(Q.moveend){P.off("moveend",Q.moveend);P.off("movestart",Q.moveend.clear)}if(P.getZoom()<x){Q.el=$("section#map > div.location > ul > li.stats")[0];Q.el.style.display="block";P.on("moveend",Q.moveend=o(function(){var ak,aj,ai={},ah=[];K().filter(W,P.getBounds()).forEach(S,ai);for(aj in ai){if(ai.hasOwnProperty(aj)){ah.push('<i class="fa fa-'+aj+'"></i> '+Z[aj]+" "+ai[aj])}}ak=Q.el.childNodes[1];ak.innerHTML=ah.length?ah.join(", "):"we have nothing nothing in this area :-(<br/>do you know any activity that could be part of equolo?";if(IE9Mobile){d.fix(ak)}}));P.on("movestart",Q.moveend.clear)}else{if(Q.el){Q.el.style.display="none"}Q.el=$("section#map div.location > ul")[0];P.on("moveend",Q.moveend=o(function(){var ah=s.createDocumentFragment(),ai=0;Q.el.innerHTML="";K().filter(W,P.getBounds()).forEach(function(ak){var aj=this.appendChild(s.createElement("li")),al=aj.appendChild(s.createElement("h3")),am=aj.appendChild(s.createElement("p"));aj.className="place";al.appendChild(s.createElement("i")).classList.add("fa","fa-"+ak.icon);al.appendChild(s.createTextNode(" "+ak.name));am.appendChild(s.createTextNode(ak.description));ai+=276},ah);Q.el.style.width=ai+"px";Q.el.appendChild(ah)}));P.on("movestart",Q.moveend.clear)}}function G(ah){p(ah);if(ah){z.forEach(C)}I()}function H(ah){if(ah){z=JSON.parse(ah).map(T);aa=ah;ag=null;G(true);Q()}}function R(){var ah=Y.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");ah.open("GET","/cgi/location.php",true);ah.onreadystatechange=function(){if(ah.readyState==4){if(199<ah.status&&ah.status<400){H(ah.responseText)}else{setTimeout(R,5000)}}};ah.send(null)}ab=function(ai){var ah=s.body.scrollTop?s.body:(s.documentElement.scrollTop?s.documentElement:null);if(ah){ab=function(aj){return aj==null?ah.scrollTop:(ah.scrollTop=aj)};ab.el=ah;return ab(ai)}else{if(ai==null){return 0}else{s.body.scrollTop=s.documentElement.scrollTop=ai}}};function N(ak){var aj=ak.firstChild.href.split("#")[1],ai=E.details,ao=true,am=0,ah=0,al=ai.length,an=ab();while(ao){ao=ai[ah].id!=aj;if(ao){am+=ai[ah].offsetHeight+8}ah++}if(IEMobile){ab(am)}else{if(N.sk){N.sk.cancel()}(N.sk=new c({onstart:function(){N.kinetic=true},onmove:function(ap,av,ar,aq,au,at){ab(av)},onend:function(ap,av,ar,aq,au,at){ab(at);N.kinetic=false}})).init(0,an,0,am-an,false,true)}}function M(ai,ah){P.setView(D(ai),ah||Math.max(15,P.getZoom()))}function U(ah){var ai=ah?"remove":"add";s.documentElement.classList[ai]("no-scroll");s.body.classList[ai]("no-scroll")}function y(){n({section:{"min-height":k.height+"px"}});if(P){P.invalidateSize()}}function W(ah){return this.contains(new L.LatLng(ah.latitude,ah.longitude))}function D(ah){return[ah.latitude||ah.lat||ah[0]||0,ah.longitude||ah.lng||ah[1]||0]}function T(ah){ah.place=m.unpack(ah.place);return ah}k.on("change",y)}(g,document))}(this));